"use strict";(self.webpackChunkwebui=self.webpackChunkwebui||[]).push([[828],{92520:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(a(67294)),o=f(a(45697)),r=a(94030),l=a(40801),s=f(a(56257)),i=f(a(49621)),d=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(a(72377)),u=f(a(75311)),c=f(a(59029)),p=f(a(47003));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}const m=["","/"],g=e=>m.includes(e);class b extends n.default.Component{constructor(e){super(e),this.handleNavigateBreadcrumbs=this.handleNavigateBreadcrumbs.bind(this),this.handleGetChildrenNames=this.handleGetChildrenNames.bind(this),this.setBreadCrumbPath=this.setBreadCrumbPath.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleReset=this.handleReset.bind(this),this.state={originalPath:"",breadcrumbPath:""}}static getDerivedStateFromProps(e,t){const a=e.path;return a===t.originalPath?null:{originalPath:a,breadcrumbPath:a}}handleBackNavigate(){const e=this.props.onGetChildrenNames,t=this.state.breadcrumbPath;if(""!==t){const a=(0,l.pathToObjects)(t),n=a[a.length-1].parentPath;this.setState({breadcrumbPath:n}),e(n)}}handleGetChildrenNames(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const a=this.props,n=a.onGetChildrenNames,o=a.showActions,r=a.showOperdata;n(this.state.breadcrumbPath,e,o,r,t)}handleNavigate(e,t){if(t)this.handleBackNavigate();else{const t=this.props.onNavigate,a=this.state.breadcrumbPath;if(""!==e){const n=a+e,o=this.setBreadCrumbPath(n);t((0,l.pathToObjects)(o).pop().path)}else t(g(a)?a:(0,l.pathToObjects)(a).pop().path)}}handleNavigateBreadcrumbs(e,t){const a=this.state.breadcrumbPath;let n;if(t){if(g(a))return;const e=(0,l.pathToObjects)(a);n=e[e.length-1].parentPath}else n=a+e;this.setBreadCrumbPath(n)}handleReset(){const e=this.props.onReset,t=this.state.originalPath;this.setState({breadcrumbPath:t}),e()}setBreadCrumbPath(e){const t=this.props.onGetChildrenNames,a=`/${(0,r.strip)(e,"/")}`;return this.setState({breadcrumbPath:a}),t(a),a}buildBreadcrumbLinks(e,t,a){const o=this.props,l=o.LinkComponent,s=o.toBreadcrumbLink;let i=!1;return e.reverse().reduce(((e,o,d)=>{if(o.path){const u=o.path;0===d&&t||i||e.push(n.default.createElement("span",{key:`${u}/`,style:d===a?p.default.blackLink:p.default.link},"/")),i=Array.isArray(o.keys);let c=(0,r.strip)((e=>0===e.path.indexOf(e.parentPath)?e.path.substr(e.parentPath.length):e.path)(o),"/");i&&(c=(0,r.truncateLongString)(c,90,90));const h=s(o);e.push(n.default.createElement(l,{style:d===a?p.default.blackLink:p.default.link,key:u,to:h,"data-handle":`link ${h}`,onClick:()=>this.setBreadCrumbPath(o.path)},c))}return e}),[]).reverse()}render(){const e=this.props,t=e.childrenNames,a=e.isList,o=e.isLoading,u=e.LinkComponent,h=e.toBreadcrumbLink,f=e.rootModels,m=this.state,b=m.breadcrumbPath,y=m.originalPath,v=g(b),E=!v&&a,k=(0,r.strip)(b,"/").split(/[/{]/),O=1===k.length&&""===k[0]?0:k.length,M=(0,l.pathToObjects)(`/${(0,r.strip)(b,"/")}`),C=this.buildBreadcrumbLinks(M,E,O),w=M&&M.length>1?M[1].path:"/",A=!g(y);return n.default.createElement("div",{style:p.default.crumbs,"data-handle":"breadcrumb","data-breadcrumb-path":b},n.default.createElement(u,{to:h({path:""}),style:p.default.navHome,"data-handle":"navHome"+(A?"":"_disabled")},n.default.createElement(s.default,{color:A?d.color1:d.color2})),n.default.createElement(u,{to:h({path:w}),style:p.default.navUp,"data-handle":"navUp"+(A?"":"_disabled")},n.default.createElement(i.default,{color:A?d.color1:d.color2})),n.default.createElement("span",{style:p.default.blackLink},"/"),C,E&&n.default.createElement("span",{style:p.default.blackLink},"{"),n.default.createElement(c.default,{onGetChildrenNames:this.handleGetChildrenNames,childrenNames:v?f:t,onNavigate:this.handleNavigate,onNavigateBreadcrumbs:this.handleNavigateBreadcrumbs,onReset:this.handleReset,path:b,isList:E,isLoading:o}),E&&n.default.createElement("span",{style:p.default.blackLink},"}"))}}b.propTypes={childrenNames:o.default.arrayOf(o.default.string),isList:o.default.bool,isLoading:o.default.bool,LinkComponent:o.default.elementType,path:o.default.string,onGetChildrenNames:o.default.func,onReset:o.default.func,onNavigate:o.default.func,rootModels:o.default.arrayOf(o.default.string),showActions:o.default.bool,showOperdata:o.default.bool,toBreadcrumbLink:o.default.func.isRequired},b.defaultProps={LinkComponent:u.default};var y=b;t.default=y},59029:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._updateListNames=t.default=void 0;var n=u(a(67294)),o=u(a(45697)),r=a(94030),l=u(a(49205)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(a(72377)),i=a(47003);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}const c=(e,t)=>e.name.toLowerCase()>t.name.toLowerCase()?1:-1,p=(e,t)=>{const a=e.childrenNames,n=t.inputValue.toLowerCase(),o=[],r=[],l=[];return(a||[]).forEach((e=>{const t=e,a=t.indexOf(":");if(""===n)return void o.push({name:t,fullName:t});let s=t;if(a>-1&&(s=t.substr(a+1)),s.toLowerCase().startsWith(n)){let e=!1;return o.forEach((t=>{t.name===s&&(t.name=t.fullName,e=!0)})),void o.push({name:e?t:s,fullName:t})}t.toLowerCase().startsWith(n)?r.push({name:t,fullName:t}):t.toLowerCase().includes(n)&&l.push({name:t,fullName:t})})),o.sort(c),r.sort(c),{nameMatch:o,namespaceMatch:r,contains:l}};t._updateListNames=p;class h extends n.default.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleChange=this.handleChange.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={autoCompleteIsVisible:!1,dropDownIndex:void 0,nameMatch:[],namespaceMatch:[],contains:[],inputValue:""}}static getDerivedStateFromProps(e,t){const a=e.childrenNames,n=e.isList;return t.autoCompleteIsVisible?n?{nameMatch:a.map((e=>({name:e,fullName:e}))),namespaceMatch:[],contains:[]}:p(e,t):null}handleEnter(e,t,a,n){if(void 0!==e&&t.length>e)this.navigate(t[e].fullName);else if(""===n)this.navigate("");else if(a.length>0){const e=a.filter((e=>e.name===n))[0];e?this.navigate(e.fullName):1===a.length&&this.navigate(a[0].fullName)}}handleArrowUpDown(e,t,a){e.preventDefault();const n=a.length;if(n>0){let a;if(void 0===t)a="ArrowUp"===e.key?n-1:0;else{const o="ArrowUp"===e.key?-1:1,r=Math.min(n,20);a=(t+o+r)%r}this.setState({dropDownIndex:a})}}handleTab(e,t,a,n,o){if(e.preventDefault(),void 0!==t&&a.length>t)this.navigateBreadcrumbs(a[t].fullName);else if(n.length>1){const e=n.filter((e=>e.name===o))[0];if(e)this.navigateBreadcrumbs(e.fullName);else{let e=o.length,t="",a=[];const r=e=>t=>t.name.startsWith(e);let l=!0;for(;l;)e+=1,t=n[0].name.substr(0,e),a=n.filter(r(t)),l=e<=n[0].name.length&&a.length===n.length;const s=n[0].name.substr(0,e-1);this.setState({inputValue:s})}}else 1===n.length&&this.navigateBreadcrumbs(n[0].fullName)}handleKeyDown(e){const t=this.state,a=t.autoCompleteIsVisible,n=t.contains,o=t.dropDownIndex,r=t.nameMatch,l=t.namespaceMatch,s=t.inputValue,i=this.props.onReset,d=r.concat(l),u=d.concat(n);"Enter"===e.key&&a?this.handleEnter(o,u,d,s):"Escape"===e.key?(this.setState({autoCompleteIsVisible:!1,inputValue:""}),i(),this.input.blur()):"ArrowUp"!==e.key&&"ArrowDown"!==e.key||!a?"Tab"===e.key&&a?this.handleTab(e,o,u,d,s):"Backspace"===e.key&&""===s&&this.navigateBreadcrumbs("",!0):this.handleArrowUpDown(e,o,u)}handleChange(){this.props.isList&&(0,this.props.onGetChildrenNames)(this.input.value,20),this.setState({dropDownIndex:void 0,inputValue:this.input?this.input.value:""})}handleBlur(){const e=this.props.onReset;this.setState({autoCompleteIsVisible:!1,inputValue:""}),e()}handleFocus(){(0,this.props.onGetChildrenNames)(),this.setState({autoCompleteIsVisible:!0})}getAnchorElement(e,t,a){const o=(0,r.truncateLongString)(e.name,90,90),l=o.search(RegExp(t,"ig")),s=[o.substr(0,l),o.substr(l,t.length),o.substr(l+t.length)];return n.default.createElement("a",{role:"button",tabIndex:0,onMouseDown:t=>{0===t.button&&this.navigate(e.fullName)},style:a?i.input.deviceGroupsOptionsActive:i.input.deviceGroupsOptions,ref:a&&(e=>{this.deviceGroupsOption=e}),key:e.fullName,"data-handle":`anchor ${e.fullName} ${a?"active":""}`},""===s[0]||n.default.createElement("span",{key:"a"},s[0]),""===s[1]||n.default.createElement("span",{key:"b",style:i.input.highlight},s[1]),""===s[2]||n.default.createElement("span",{key:"c"},s[2]))}navigate(e){const t=this.props,a=t.onNavigate,n=t.isList;this.setState({dropDownIndex:void 0,inputValue:""}),a(""===e?"":n?`{${e}}`:`/${e}`)}navigateBreadcrumbs(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=this.props,n=a.onNavigateBreadcrumbs,o=a.isList;this.setState({dropDownIndex:void 0,inputValue:""}),n(o?`{${e}}`:`/${e}`,t)}render(){const e=this.state,t=e.autoCompleteIsVisible,a=e.dropDownIndex,o=e.nameMatch,r=e.namespaceMatch,d=e.contains,u=e.inputValue,c=this.props.isLoading;this.input&&(this.input.value=u);let p=[];return t&&(p=o.concat(r.concat(d)).map(((e,t)=>t>20?null:20===t?n.default.createElement("div",{key:`info${t}`,style:i.input.deviceGroupsOptions},"..."):this.getAnchorElement(e,u,t===a)))),n.default.createElement("div",{style:i.input.labelFilter,"data-handle":"breadcrumbInput"},n.default.createElement("input",{style:i.input.input,ref:e=>{this.input=e},onKeyDown:this.handleKeyDown,"data-handle":"labelInput",onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange}),t&&n.default.createElement("div",{ref:e=>{this.deviceGroups=e},style:i.input.labelDropdown},c&&n.default.createElement(l.default,{color:s.color9}),p.length>0&&!c&&n.default.createElement(n.default.Fragment,null,p),0===p.length&&!c&&n.default.createElement("div",{key:"info",style:i.input.deviceGroupsOptions},"No match")))}}h.propTypes={childrenNames:o.default.arrayOf(o.default.string),isList:o.default.bool,isLoading:o.default.bool,onGetChildrenNames:o.default.func.isRequired,onNavigate:o.default.func,onNavigateBreadcrumbs:o.default.func,onReset:o.default.func};var f=h;t.default=f},59627:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(67294)),o=l(a(45697)),r=l(a(94267));function l(e){return e&&e.__esModule?e:{default:e}}class s extends n.default.Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){const e=this.props.children,t=this.state.error;return t?n.default.createElement(r.default,{error:t}):e}}t.default=s,s.propTypes={children:o.default.oneOfType([o.default.arrayOf(o.default.node),o.default.node])}},56257:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(67294)),o=r(a(45697));function r(e){return e&&e.__esModule?e:{default:e}}const l=e=>{let t=e.color;return n.default.createElement("svg",{version:"1.2",baseProfile:"tiny",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24",xmlSpace:"preserve"},n.default.createElement("path",{fill:t,d:"M4,21.69c0,0.49,0.4,0.89,0.89,0.89h4.44c0.25,0,0.44-0.2,0.44-0.44 v-7.56c0-0.25,0.2-0.44,0.44-0.44h3.56c0.25,0,0.44,0.2,0.44,0.44v7.56 c0,0.25,0.2,0.44,0.44,0.44h4.44c0.49,0,0.89-0.4,0.89-0.89V9.43 c0-0.12-0.05-0.23-0.13-0.31l-7.56-7.56c-0.17-0.17-0.45-0.17-0.63,0 L4.13,9.11C4.05,9.19,4,9.31,4,9.43V21.69z"}))};l.propTypes={color:o.default.string},l.defaultProps={color:"red"};var s=l;t.default=s},49621:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(67294)),o=r(a(45697));function r(e){return e&&e.__esModule?e:{default:e}}const l=e=>{let t=e.color;return n.default.createElement("svg",{version:"1.2",baseProfile:"tiny",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24",xmlSpace:"preserve"},n.default.createElement("polygon",{fill:t,points:"9.39,2 14.77,7.39 10.31,7.39 10.31,20.15 20.01,20.15 20.01,22 8.46,22 8.46,7.39 4,7.39 "}))};l.propTypes={color:o.default.string},l.defaultProps={color:"red"};var s=l;t.default=s},21682:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"_getChildrenNamesThunk",{enumerable:!0,get:function(){return s.getChildrenNamesThunk}}),t._mapStateToProps=t.default=void 0;var n,o=a(36247),r=a(43488),l=(n=a(92520))&&n.__esModule?n:{default:n},s=a(2006),i=a(65689),d=a(89029),u=a(93661);const c=e=>{const t=(0,d.selectRootModels)(e);return{childrenNames:(0,i.selectChildrenNames)(e),isList:(0,i.selectIsList)(e),isLoading:(0,i.selectIsLoading)(e),LinkComponent:r.Link,rootModels:t,showActions:(0,u.selectShowActions)(e),showOperdata:(0,u.selectShowOperdata)(e)}};t._mapStateToProps=c;var p=(0,o.connect)(c,(e=>({onGetChildrenNames(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;e((0,s.getChildrenNamesThunk)({path:t,matchString:a,showActions:n,showOperdata:o,chunkSize:r}))},onReset(){e((0,s.resetAction)())}})))(l.default);t.default=p},43690:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=b(a(66877)),o=b(a(17427)),r=b(a(67294)),l=b(a(45697)),s=a(59557),i=b(a(21682)),d=b(a(59627)),u=a(12780),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(a(72377)),p=a(85987),h=b(a(32199)),f=b(a(56816)),m=a(83561);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}class y extends r.default.Component{constructor(e){super(e),this.state={showOptions:!1}}render(){const e=this.props,t=e.children,a=e.onNavigate,l=e.routeParams,g=e.checkboxes,b=e.subfoldersAreDisabled,y=this.state.showOptions,v=r.default.createElement("div",{style:p.optionsStyle.container,"data-handle":"viewOptionsMenu"},r.default.createElement("button",{type:"button","data-handle":"view-options",style:p.optionsStyle.button,onClick:()=>this.setState({showOptions:!0})},"View options ▾"),y&&r.default.createElement("button",{type:"button","data-handle":"close-view-options",onClick:()=>this.setState({showOptions:!1}),onScroll:()=>this.setState({showOptions:!1}),style:p.optionsStyle.overlay},r.default.createElement("div",{style:p.optionsStyle.scrollProvoker})),y&&r.default.createElement("div",{style:p.optionsStyle.pop},r.default.createElement("div",{style:p.optionsStyle.menuArrowShadow}),g,r.default.createElement("div",{style:p.optionsStyle.menuArrow}))),E=[r.default.createElement(f.default,null),r.default.createElement(h.default,null),v];return r.default.createElement("div",{"data-handle":m.CONFIGURATION_EDITOR_NAME,style:p.style.application},r.default.createElement(n.default,{applicationName:"Configuration editor",additionalComponentsRight:E},r.default.createElement("div",{style:p.style.secondHeader},r.default.createElement("div",{style:p.style.contentWrapper},r.default.createElement(d.default,null,r.default.createElement(i.default,{onNavigate:a,path:l.splat,toBreadcrumbLink:s.toBreadcrumbLink})),b&&r.default.createElement("div",{"data-handle":"yangMessage",style:p.style.yangMessage},(0,u.translate)(u.Messages.CONFIGURATIONEDITOR.INCLUDE_SUBFOLDERS_DISABLED)))),r.default.createElement("div",{style:c.shadow})),r.default.createElement("div",{style:p.style.backgroundContainer},r.default.createElement("div",{style:p.style.configContainer},r.default.createElement(d.default,null,t))),r.default.createElement(o.default,null))}}y.propTypes={children:l.default.node,checkboxes:l.default.shape(Object).isRequired,onNavigate:l.default.func,routeParams:l.default.shape(Object).isRequired,subfoldersAreDisabled:l.default.bool};var v=y;t.default=v},69451:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._ConfigurationEditorContainer=t._routeToPath=t._mapDispatchToProps=t._mapStateToProps=t.default=void 0;var n=N(a(67294)),o=N(a(45697)),r=a(36247),l=a(43488),s=a(57104),i=a(59557),d=a(94030),u=N(a(88253)),c=N(a(56792)),p=a(85987),h=a(68613),f=a(56665),m=a(22782),g=a(18093),b=a(33325),y=a(14172),v=a(71447),E=a(5533),k=a(17004),O=N(a(31573)),M=N(a(43690)),C=a(83561),w=a(76773),A=a(93661),P=a(40801),S=N(a(26661));function N(e){return e&&e.__esModule?e:{default:e}}const _=e=>(0,d.isString)(e)&&0!==e.indexOf("/")?`/${e}`:e;t._routeToPath=_;class L extends n.default.Component{constructor(e){super(e),this.route="",this.shortcuts=["vo","va","vc","vm"],this.shortcutHandler=this.shortcutHandler.bind(this),this.navigateModel=this.navigateModel.bind(this),this.onCometUpdate=this.onCometUpdate.bind(this)}componentDidMount(){const e=this.props,t=e.actionPath,a=e.isOperdata,n=e.onGetTransChanges,o=e.onSetApplicationName,r=e.onRegisterShortcut;o(C.CONFIGURATION_EDITOR_NAME),this.updateRoute(a),r(this.shortcuts,this.shortcutHandler),(0,d.isNonEmptyString)(t)&&n(t)}componentDidUpdate(e){const t=this.props,a=t.actionPath,n=t.onGetTransChanges,o=e.actionPath,r=e.isOperdata;this.updateRoute(r),a!==o&&n(a)}componentWillUnmount(){const e=this.props,t=e.isOperdata,a=e.onUnregistShortcut,n=e.onUnsubscribe;a(this.shortcuts,this.shortcutHandler),n(_(this.route),this.onCometUpdate,t)}onCometUpdate(e,t){const a=this.props,n=a.onCreate,o=a.onDelete,r=a.onModifiedNodes,l=a.onUpdateLeaf;(0,f.updateConfig)(e,t.params.path,{onCreate:n,onDelete:o,onModifiedNodes:r,onUpdateLeaf:l})}updateRoute(e){const t=this.props,a=t.isOperdata,n=t.route,o=t.onSubscribe,r=t.onUnsubscribe,l=this.route;return"string"==typeof n&&n!==this.route&&(this.route=n),l!==this.route&&(o(_(this.route),this.onCometUpdate,a),r(_(l),this.onCometUpdate,e)),this.route}navigateModel(e){const t=this.props.router,a=C.CONFIGURATION_EDITOR_NAME,n=(0,i.formatPath)(`${a}${(e=>e&&"/"!==e?(0,P.pathToObjects)(e).pop().uri:"")(e)}`);t.push(n)}shortcutHandler(e){const t=this.props,a=t.onSetHideActions,n=t.onSetShowEmpty,o=t.onSetHideOperdata,r=t.applicationConfiguration,l=r.showActions,s=r.showEmpty,i=r.showOperdata;"vo"===e?o(i):"va"===e?a(l):"vm"===e&&n(!s)}createCheckboxes(){const e=this.props,t=e.onSetHideActions,a=e.onSetShowEmpty,o=e.onSetHideOperdata,r=e.applicationConfiguration,l=r.showActions,s=r.showEmpty,i=r.showOperdata;return n.default.createElement("div",{style:p.checkboxStyle.checkboxWrapper,key:"incSub"},n.default.createElement("div",{style:p.checkboxStyle.group},n.default.createElement(c.default,{editable:!0,value:!s,onSetValue:e=>a(!e),name:"config-only",styleName:"radio"},n.default.createElement("div",{style:p.checkboxStyle.label},"configuration only"))),n.default.createElement(c.default,{editable:!0,value:s,onSetValue:a,name:"full-model",styleName:"radio"},n.default.createElement("div",{style:p.checkboxStyle.label},"full model")),n.default.createElement(c.default,{editable:s,value:!l,onSetValue:t,name:"hide-actions",styleName:"padded"},n.default.createElement("div",{style:s?p.checkboxStyle.label:p.checkboxStyle.labelDisabled},"hide actions")),n.default.createElement(c.default,{editable:s,value:!i,onSetValue:o,name:"hide-oper",styleName:"padded"},n.default.createElement("div",{style:s?p.checkboxStyle.label:p.checkboxStyle.labelDisabled},"hide operational data")))}render(){const e=this.props,t=e.includeSubfolders,a=e.ipcModification,o=e.isEditMode,r=e.routeParams,l=e.showActions,s=e.showEmpty,i=e.showOperdata,d=""===r.splat,c=(0,b.isBigYangPath)(r.splat),p=!c&&t;return n.default.createElement(M.default,{onNavigate:this.navigateModel,routeParams:r,checkboxes:this.createCheckboxes(),subfoldersAreDisabled:c},d?n.default.createElement(S.default,null):n.default.createElement(u.default,{applicationName:C.CONFIGURATION_EDITOR_NAME,includeSubfolders:p,ipcModification:a,isEditMode:o,path:r.splat,showActions:l,showEmpty:s,showOperdata:i,showBackToSourceLink:!0}))}}t._ConfigurationEditorContainer=L,L.propTypes={actionPath:o.default.string,applicationConfiguration:o.default.shape(Object),includeSubfolders:o.default.bool,ipcModification:O.default.ipcModification,isEditMode:o.default.bool,isOperdata:o.default.bool,route:o.default.string,onGetTransChanges:o.default.func,onUpdateLeaf:o.default.func,onCreate:o.default.func,onDelete:o.default.func,onModifiedNodes:o.default.func,onRegisterShortcut:o.default.func,onSetApplicationName:o.default.func.isRequired,onSetHideActions:o.default.func.isRequired,onSetHideOperdata:o.default.func.isRequired,onSetShowEmpty:o.default.func.isRequired,onSubscribe:o.default.func.isRequired,onUnregistShortcut:o.default.func,onUnsubscribe:o.default.func.isRequired,routeParams:o.default.shape(Object).isRequired,router:o.default.shape(Object),showActions:o.default.bool,showEmpty:o.default.bool,showOperdata:o.default.bool};const R=(e,t)=>{const a=(t.routeParams||{}).splat;return{actionPath:(0,E.selectActionPath)(e,a),applicationConfiguration:(0,A.selectApplicationConfiguration)(e),includeSubfolders:(0,A.selectIncludeSubfolders)(e),ipcModification:(0,A.selectIpcModification)(e),isEditMode:(0,A.selectIsEditMode)(e),isOperdata:(0,g.selectIsOperdata)(e,a),route:a,previousUrl:(0,m.selectPreviousUrl)(e),showActions:(0,A.selectShowActions)(e),showEmpty:(0,A.selectShowEmpty)(e),showOperdata:(0,A.selectShowOperdata)(e)}};t._mapStateToProps=R;const T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.funcs,n=void 0===a?{}:a,o=n.getTransChanges,r=void 0===o?v.tryGetTransChanges:o;return{onGetTransChanges(t){e(r({path:t}))},onModifiedNodes(t){e((0,y.modifiedNodesAction)(t))},onUpdateLeaf(t,a){e((0,y.getValueAction)(t,a))},onDelete(t){e(!0!==(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?(0,y.deleteAction)(t):(0,y.deleteNodeAndChildrenAction)(t))},onCreate(t){e((0,y.createAction)(t))},onRegisterShortcut(t,a){e((0,k.registerShortcut)(t,a))},onUnregistShortcut(t,a){e((0,k.unregisterShortcut)(t,a))},onSetApplicationName(t){e((0,s.applicationNameSetAction)(t))},onSetHideActions(t){e((0,w.showActionsAction)(!t))},onSetShowEmpty(t){e((0,w.showEmptyAction)(t))},onSetHideOperdata(t){e((0,w.showOperdataAction)(!t))},onSubscribe:(t,a,n)=>e(n?(0,h.subscribeCdbOperAction)([t],a):(0,h.subscribeChangesAction)([t],a)),onUnsubscribe:(t,a,n)=>e(n?(0,h.unsubscribeCdbOperAction)([t],a):(0,h.unsubscribeChangesAction)([t],a))}};t._mapDispatchToProps=T;var D=(0,r.connect)(R,T)((0,l.withRouter)(L));t.default=D},59675:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=b(a(67294)),o=b(a(45697)),r=b(a(49205)),l=a(59557),s=a(34452),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(a(72377)),d=b(a(78505)),u=a(43488),c=b(a(28505)),p=b(a(57310)),h=a(85987),f=a(8273),m=a(83561);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const v={"program-code-error":"Code error","python-uninitialized":"Python uninitialized","java-uninitialized":"Java uninitialized","bad-ncs-version":"Bad NSO version","missing-dependency":"Missing dependency","circular-dependency":"Circular dependency","package-meta-data-error":"Metadata error","file-load-error":"File load error","erlang-error":"Erlang error"},E={isOpen:!1,text:""},k=e=>{let t=e.packageLinks,a=e.onReload,o=e.reloadError,g=e.reloadPending,b=e.completedAt,k=e.rootModels,O=e.loadingRootModels,M=e.loadingOrUpgradePending;const C=(S=n.default.useState(E),N=2,function(e){if(Array.isArray(e))return e}(S)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,r=[],l=!0,s=!1;try{for(a=a.call(e);!(l=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{l||null==a.return||a.return()}finally{if(s)throw o}}return r}}(S,N)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?y(e,t):void 0}}(S,N)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=C[0],A=C[1],P=(0,c.default)(a);var S,N;return n.default.createElement("div",{style:h.packagesAndModules.container},n.default.createElement(p.default,{title:"Error info text",shouldRender:w.isOpen,onRequestClose:()=>A(E)},n.default.createElement("div",{"data-handle":"error-info"},w.text)),((e,t,a,o,c,p,g)=>n.default.createElement("div",{"data-handle":"packages",style:h.packagesAndModules.moduleLinks},n.default.createElement("div",{style:h.packagesAndModules.headerContainer},n.default.createElement(u.Link,{to:(0,l.formatPath)(`${m.CONFIGURATION_EDITOR_NAME}/ncs:packages`),style:h.packagesAndModules.header},"PACKAGES"),n.default.createElement("button",{disabled:p,type:"button",style:p?h.packagesAndModules.reloadButtonDisabled:h.packagesAndModules.reloadButton,onClick:t,"data-handle":"reload-packages"},p?n.default.createElement("div",{style:h.packagesAndModules.loaderButton},n.default.createElement(r.default,{color:i.color3})):"Reload")),n.default.createElement("div",{style:h.packagesAndModules.contentContainer},!a&&(o||c)&&n.default.createElement("div",{style:h.packagesAndModules.loadingInformation},o&&n.default.createElement("div",{style:h.packagesAndModules.loader},n.default.createElement(r.default,{color:i.textColor1})),c&&n.default.createElement("span",{"data-handle":"completed-at"},`Reload completed at ${(0,s.timeStampToISOLocale)(c)}`)),a&&!o&&c&&n.default.createElement("div",{"data-handle":"reload-error",style:h.packagesAndModules.reloadError},"An error occurred during reload. For detailed information, go to the",n.default.createElement(u.Link,{style:{color:"white"},to:(0,l.formatPath)(f.RELOAD_ACTION_PATH)},"reload action")),Object.keys(e).length>0&&n.default.createElement("div",null,n.default.createElement(d.default,{asGrid:!0},Object.keys(e).sort().map((t=>((e,t,a)=>{const o=t[e],r=o.isOk?!!o.version:!!o.status,l=o.isOk?`v${o.version}`:v[o.status]||`Unknown status (${o.status})`,s=o.isOk?h.packagesAndModules.packageVersionOk:h.packagesAndModules.packageVersionError;return n.default.createElement("div",{key:e,"data-handle":"module",style:h.packagesAndModules.moduleChunk},n.default.createElement("div",{"data-handle":e,style:h.packagesAndModules.moduleRow},n.default.createElement("div",{style:h.packagesAndModules.modulesHeader,"data-handle":"package-name"},o.name),r&&!o.isOk&&n.default.createElement("button",{type:"button","data-handle":"package-version",style:s,onClick:()=>a(o.errorInfo)},l),r&&o.isOk&&n.default.createElement("span",{"data-handle":"package-version",style:s},l)))})(t,e,g))))))))(t,P,o,g,b,M,(e=>A({isOpen:!0,text:e}))),((e,t)=>n.default.createElement("div",{"data-handle":"modules",style:h.packagesAndModules.moduleLinks},n.default.createElement("div",{style:h.packagesAndModules.headerContainer},n.default.createElement("div",{style:h.packagesAndModules.header},"MODULES")),n.default.createElement("div",{style:h.packagesAndModules.contentContainer},n.default.createElement("div",{style:h.packagesAndModules.loadingInformation},t&&n.default.createElement("div",{style:h.packagesAndModules.loader},n.default.createElement(r.default,{color:i.textColor1}))),!t&&n.default.createElement(d.default,{asGrid:!0},e.sort().map((e=>n.default.createElement(u.Link,{to:(0,l.formatPath)(`${m.CONFIGURATION_EDITOR_NAME}/${e}`),key:e,style:h.packagesAndModules.modelLink},e)))))))(k,O))};k.propTypes={loadingOrUpgradePending:o.default.bool,packageLinks:o.default.shape({}).isRequired,onReload:o.default.func.isRequired,reloadError:o.default.bool,reloadPending:o.default.bool,completedAt:o.default.number,rootModels:o.default.arrayOf(o.default.string),loadingRootModels:o.default.bool};var O=k;t.default=O},26661:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._getPackageLinks=t._PackagesAndModulesContainer=t.default=void 0;var n=a(36247),o=a(20257),r=a(99675),l=a(8273),s=a(5533),i=a(59235),d=a(55771),u=a(89029),c=g(a(67294)),p=g(a(45697)),h=g(a(59675)),f=a(93661),m=a(43801);function g(e){return e&&e.__esModule?e:{default:e}}const b=e=>Object.keys(e).reduce(((t,a)=>{const n=e[a],o=n.version,r=n.status;return{...t,[a]:{name:a,version:o,isOk:"up"===r,status:r,errorInfo:n.errorInfo}}}),{});t._getPackageLinks=b;class y extends c.default.Component{componentDidMount(){const e=this.props,t=e.loadingStatus,a=e.onLoad;e.th&&t===f.loadStatus.NOT_LOADED&&a()}componentDidUpdate(e){const t=this.props,a=t.onLoad,n=t.th,o=e.th;n&&!o&&a()}render(){const e=this.props,t=e.packages,a=e.onReloadPackages,n=e.completedAt,o=e.reloadError,r=e.reloadPending,l=e.rootModels,s=e.loadingOrUpgradePending,i=e.loadingRootModels,d=b(t);return c.default.createElement(h.default,{packageLinks:d,onReload:a,completedAt:n,reloadError:o,reloadPending:r,rootModels:l,loadingRootModels:i,loadingOrUpgradePending:s})}}t._PackagesAndModulesContainer=y,y.propTypes={completedAt:p.default.number,loadingOrUpgradePending:p.default.bool,loadingRootModels:p.default.bool,loadingStatus:p.default.number,onLoad:p.default.func.isRequired,onReloadPackages:p.default.func.isRequired,packages:p.default.shape(Object).isRequired,reloadError:p.default.bool,reloadPending:p.default.bool,rootModels:p.default.arrayOf(p.default.string),th:p.default.number},y.defaultProps={expandedModels:{},models:[],packages:{}};const v=e=>({onLoad:()=>e((0,m.getModelsAndPackages)()),onReloadPackages:()=>e((0,r.reloadPackages)()),onSetModelExpanded:(t,a)=>e((0,o.setModelExpandedAction)(t,a))});t._mapDispatchToProps=v;const E=e=>{const t=(0,f.selectHasLoaded)(e),a=(0,u.selectRootModelsLoading)(e),n=(0,f.selectLoadingStatus)(e),o=!!(0,i.selectResultPending)(e,l.RELOAD_PATH),r=(0,s.selectUpgradePending)(e),c=!!o||!!r,p=!t||!!o||!!r;return{completedAt:(0,i.selectCompletedAt)(e,l.RELOAD_PATH),loadingOrUpgradePending:p,loadingRootModels:a,loadingStatus:n,packages:(0,d.selectPackages)(e),reloadError:!!(0,i.selectError)(e,l.RELOAD_PATH),reloadPending:c,rootModels:(0,u.selectRootModels)(e),th:(0,s.selectReadWriteOrRead)(e)}};t._mapStateToProps=E;var k=(0,n.connect)(E,v)(y);t.default=k},2006:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resetAction=t.getChildrenNamesThunk=t.getChildrenNamesCompleteAction=t.getChildrenNamesErrorAction=t.getChildrenNamesStartAction=void 0;var n,o=(n=a(2752))&&n.__esModule?n:{default:n},r=a(94030),l=a(20257),s=a(71447),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}return n.default=e,a&&a.set(e,n),n}(a(97887)),d=a(65689);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const c=()=>({type:i.GET_CHILDREN_NAMES_START});t.getChildrenNamesStartAction=c;const p=e=>({type:i.GET_CHILDREN_NAMES_ERROR,error:e});t.getChildrenNamesErrorAction=p;const h=function(e,t,a,n){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return{type:i.GET_CHILDREN_NAMES_COMPLETE,path:e,result:t,schema:n,isList:a,showActions:o,showOperdata:r}};t.getChildrenNamesCompleteAction=h;const f=async(e,t,a,n,o,r)=>{const l=a.data.key;let s;return""!==n&&(s=`${a.data.name}[starts-with(${l[0]}, "${n}")]`),r("query",{th:t,path:e,selection:l,result_as:"string",xpath_expr:s,context_node:e.substr(0,e.lastIndexOf("/")),chunk_size:o})};t.getChildrenNamesThunk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.path,a=e.matchString,n=e.showActions,i=e.showOperdata,u=e.chunkSize,m=void 0===u?10:u,g=e.funcs,b=void 0===g?{}:g,y=b.rd,v=void 0===y?s.read:y,E=b.getModels,k=void 0===E?l.maybeGetModels:E,O=b.jsonrpc,M=void 0===O?o.default:O,C=b.selectHasSchemaFromCurrentPath,w=void 0===C?d.selectHasSchemaFromCurrentPath:C;return async(e,o)=>{if(!(0,r.isNonEmptyString)(t)||"/"===t)return e(k());e(c());try{const r=(await e(v())).th,l=o();let s;if(s=w(l,t)?l.breadcrumbs.schema:await M("get_schema",{path:t,th:r,levels:1,evaluate_when_entries:!0}),"list"===s.data.kind){const n=await f(t,r,s,a,m,M);return e(h(t,n,!0,s))}return e(h(t,s,!1,null,n,i))}catch(t){return e(p(t))}}},t.resetAction=()=>({type:i.RESET})},65689:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.selectHasSchemaFromCurrentPath=t.selectSchema=t.selectIsLoading=t.selectIsList=t.selectChildrenNames=void 0,t.selectChildrenNames=e=>e.breadcrumbs.childrenNames,t.selectIsList=e=>e.breadcrumbs.isList,t.selectIsLoading=e=>e.breadcrumbs.isLoading,t.selectSchema=e=>e.breadcrumbs.schema,t.selectHasSchemaFromCurrentPath=(e,t)=>e.breadcrumbs.path&&e.breadcrumbs.path===t&&e.breadcrumbs.schema},56665:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._setValue=t.updateConfig=t.default=void 0;var n=a(40801),o=a(94030),r=a(99531);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const s=(e,t)=>{const a=e.value;t.updateNode[e.keypath]=a};t._setValue=s;const i=(e,t,a)=>{let i=a.onDelete,d=a.onUpdateLeaf,u=a.onCreate,c=a.onModifiedNodes;const p=e.changes||[],h=[],f={},m={},g=[];p.forEach((e=>{const a=(0,n.getListPath)(e.keypath,t);(0,o.isNonEmptyString)(a)?g.push(a):("deleted"===e.op&&h.push([e.keypath,!0]),"created"===e.op&&(f[e.keypath]=!0),"default_set"===e.op&&h.push([e.keypath,!1]),"value_set"===e.op&&s(e,{updateNode:m}))})),h.forEach((e=>{let t=(r=2,function(e){if(Array.isArray(e))return e}(o=e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,r=[],l=!0,s=!1;try{for(a=a.call(e);!(l=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{l||null==a.return||a.return()}finally{if(s)throw o}}return r}}(o,r)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}(o,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=t[0],n=t[1];var o,r;i(a,n)})),Object.keys(f).forEach((e=>{u(e)})),Object.keys(m).forEach((e=>{d(e,m[e])})),g.length>0&&c((0,r.uniq)(g))};t.updateConfig=i;var d=i;t.default=d}}]);