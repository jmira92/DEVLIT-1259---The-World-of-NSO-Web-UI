"use strict";(self.webpackChunkwebui=self.webpackChunkwebui||[]).push([[795],{59627:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(67294)),o=l(r(45697)),a=l(r(94267));function l(e){return e&&e.__esModule?e:{default:e}}class i extends n.default.Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){const e=this.props.children,t=this.state.error;return t?n.default.createElement(a.default,{error:t}):e}}t.default=i,i.propTypes={children:o.default.oneOfType([o.default.arrayOf(o.default.node),o.default.node])}},73845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n,o=r(67294),a=(n=r(45697))&&n.__esModule?n:{default:n},l=r(2752),i=r(33863);const s=["data"];function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function c(e){let t=e.xpath,r=e.children,n=e.funcs,a=void 0===n?{}:n,c=a.query,d=void 0===c?l.query:c,f=a.getTrans,p=void 0===f?l.getTrans:f;const h=(0,i.useFetch)({asyncFunc:(0,o.useCallback)((async e=>{let r=e.signal;const n=(await p({signal:r})).trans.find((e=>"webui-one"===e.tag)),o=await d({signal:r,th:n.th,resultAs:"keypath-value",xpathExpr:t});if(o.results&&o.results[0]&&o.results[0][0]&&o.results[0][0].keypath)return o.results[0][0].keypath;throw new Error("No response matched the parse function")}),[t,d,p])}),m=h.data;return r({...u(h,s),keypath:m})}c.propTypes={xpath:a.default.string.isRequired,children:a.default.func.isRequired}},21216:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(67294)),o=l(r(45697)),a=l(r(58150));function l(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const u=e=>{let t=e.keyword,r=e.onSetSearch;const o=(c=(0,n.useState)(t),d=2,function(e){if(Array.isArray(e))return e}(c)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw o}}return a}}(c,d)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(c,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],i=o[1],u=e=>{const n=e.target.value.trim();t!==n&&r(n)};var c,d;return(0,n.useEffect)((()=>{i(t)}),[t]),n.default.createElement("div",{style:a.default.wrapper},n.default.createElement("input",{value:l,onBlur:u,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&u(e)},style:a.default.search,placeholder:"Search filter","data-handle":"search"}))};u.propTypes={keyword:o.default.string,onSetSearch:o.default.func};var c=u;t.default=c},58150:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={wrapper:{margin:"0.1rem 0.25rem",padding:"0.1875rem 0.5rem",display:"flex",alignItems:"center",border:"1px solid rgb(182, 182, 187)",borderRadius:"0.81rem",backgroundColor:"rgb(255, 255, 255)",position:"relative",fontSize:"0.6875rem",color:"rgb(182, 182, 187)",height:"1rem",alignSelf:"center"},search:{border:"none",fontSize:"0.6rem",width:"4rem",paddingLeft:"0.5rem",margin:"0px -2px"}}},17464:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=d(r(67294)),o=u(r(45697)),a=r(43488),l=d(r(72377)),i=u(r(49205)),s=u(r(68554));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}const f=e=>e.items.map((e=>n.default.createElement(a.Link,{title:e.name,key:e.path,style:s.default.itemsLink,to:`/webui-one/ConfigurationEditor${e.path}`},e.name))),p=e=>e.itemGroups.map((e=>n.default.createElement("div",{"data-handle":"manager-items-group",style:s.default.group,key:e.path},n.default.createElement("h2",{style:s.default.groupTitle},e.name),n.default.createElement(f,{items:e.children}))));function h(e){let t=e.path,r=e.onQueryData,o=e.rows,a=e.isLoading;return(0,n.useEffect)((()=>{r(t)}),[r,t]),n.default.createElement("div",{style:s.default.container},a&&n.default.createElement("div",{style:s.default.loaderContainer},n.default.createElement(i.default,{color:l.color2})),0===o.length&&!a&&n.default.createElement("p",null,"No items"),n.default.createElement(p,{itemGroups:o}))}h.propTypes={path:o.default.string.isRequired,onQueryData:o.default.func,isLoading:o.default.bool,rows:o.default.arrayOf(Object)},h.defaultProps={isLoading:!1,rows:[]}},68554:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}(r(72377));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var a={container:{width:"100%",padding:"0 1rem 1rem 1rem",display:"flex",flexWrap:"wrap",justifyContent:"center"},group:{margin:"1rem 1rem 0 1rem",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"75ch",lineHeight:"1.6"},groupTitle:{margin:"0",fontSize:n.large2,color:n.color2},itemsLink:{display:"block",margin:"0 0 0 0rem",fontSize:n.medium3,textDecoration:"none",color:n.color2,overflow:"hidden",textOverflow:"ellipsis"},loaderContainer:{flexBasis:"100%",display:"flex",justifyContent:"center"}};t.default=a},38125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._getString=t.default=void 0;var n=i(r(67294)),o=i(r(45697)),a=r(35379),l=i(r(65719));function i(e){return e&&e.__esModule?e:{default:e}}const s=(e,t,r)=>{const n=(e=>{const t=e.filter((e=>e.type===a.labelTypes.LBL_INCLUDE)).map((e=>`"${e.name}"`)),r=e.filter((e=>e.type===a.labelTypes.LBL_ONE_OF)).map((e=>e.name)),n=e.filter((e=>e.type===a.labelTypes.LBL_EXCLUDE)).map((e=>e.name));let o="";const l=t.join(" AND ");l&&(o+=` ${l}`);const i=r.join(", ");i&&(o+=o?" AND":"",o+=r.length>1?" ONE OF":"",o+=` "${i}"`);const s=n.join(", ");return s&&(o+=o?" AND":"",o+=n.length>1?" NOT ANY OF":" NOT",o+=` "${s}"`),o})(r);let o=e;return t?(o+=` including "${t}"`,n&&(o+=", AND")):n&&(o+=" where"),n&&(o+=` group is${n}`),o};t._getString=s;const u=e=>{let t=e.unit,r=e.labels,o=e.keyword;return n.default.createElement("div",{style:l.default,"data-handle":"summary"},s(t,o,Object.values(r)))};u.propTypes={labels:o.default.shape(Object),keyword:o.default.string,unit:o.default.string},u.defaultProps={labels:{},keyword:"",unit:""};var c=u;t.default=c},65719:(e,t,r)=>{function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={fontSize:function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}return o.default=e,r&&r.set(e,o),o}(r(72377)).medium1,maxWidth:"1600px",margin:"0.75rem auto 0.75rem auto",padding:"0 1rem"};t.default=o},48306:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mergeProps=t._mapStateToProps=t._AddRemoveServiceContainer=t.default=void 0;var n=O(r(67294)),o=r(36247),a=O(r(45697)),l=S(r(39562)),i=S(r(14172)),s=r(31687),u=r(99531),c=r(94030),d=r(17718),f=r(65050),p=r(23143),h=r(18093),m=r(28153),y=O(r(45597)),v=O(r(58526)),b=r(69496),g=r(40801);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(C=function(e){return e?r:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=C(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function O(e){return e&&e.__esModule?e:{default:e}}class w extends n.default.Component{constructor(e){super(e),this.onClose=this.onClose.bind(this),this.onConfirm=this.onConfirm.bind(this),this.onDeleteSelected=this.onDeleteSelected.bind(this),this.showAddServiceModal=this.showAddServiceModal.bind(this),this.state={showAddServiceModal:!1,errorOnCreate:void 0}}onClose(){this.setState({showAddServiceModal:!1,errorOnCreate:void 0})}onConfirm(e,t){return(0,this.props.onCreate)(e,t).then((e=>(e.error?this.setState({errorOnCreate:e.error}):this.onClose(),e)))}onDeleteSelected(){const e=this.props,t=e.selectedServices,r=e.onDeleteRows,n=e.path;return(0,u.isNonEmptyArray)(t)?r(t.map((e=>e.rowKey)),n):Promise.resolve()}showAddServiceModal(){this.setState({showAddServiceModal:!0})}addServiceIsDisabled(){const e=this.props,t=e.exists,r=e.isPresenceContainer,n=e.path;return!(!r||!t)||!(0,c.isNonEmptyString)(n)}removeServiceIsDisabled(){const e=this.props.selectedServices;return!(0,u.isNonEmptyArray)(e)}render(){const e=this.props,t=e.path,r=e.paths,o=this.state,a=o.showAddServiceModal,l=o.errorOnCreate;return n.default.createElement("div",{style:b.serviceButtonContainer},n.default.createElement(y.default,{disabled:this.addServiceIsDisabled(),onClick:this.showAddServiceModal,onClose:this.onClose,onConfirm:this.onConfirm,path:t,paths:r,showModal:a,error:l}),n.default.createElement(v.default,{onClick:this.onDeleteSelected,path:t,disabled:this.removeServiceIsDisabled()}))}}t._AddRemoveServiceContainer=w,w.propTypes={exists:a.default.bool,isPresenceContainer:a.default.bool,onCreate:a.default.func.isRequired,onDeleteRows:a.default.func.isRequired,path:a.default.string.isRequired,paths:a.default.arrayOf(a.default.string).isRequired,selectedServices:a.default.arrayOf(Object)},w.defaultProps={};const _=["/ncs:services"],P=(e,t)=>{const r=t.path||"",n=r?(0,g.pathToObjects)(r).map((e=>e.path)).filter((e=>!_.includes(e))):[],o=(0,h.selectCurrentSchema)(e,{path:r}),a=l.isPresenceContainer(o);return{columnChildren:a?[]:(0,d.getColumnChildren)(o),exists:(0,f.selectExists)(e,r),isPresenceContainer:a,path:r,paths:n,selectedServices:(0,p.selectSelectedServiceRows)(e,{path:r}),schema:o,schemaIsLoaded:(0,h.isSchemaLoaded)(o)}};t._mapStateToProps=P;const E=(e,t,r)=>{const n=t.dispatch,o={...r,...e},a=e=>{const t={...o,...e},r=t.columnChildren,a=t.schemaIsLoaded,l=t.offset,s=t.path,u=t.sortColumn,c=t.sortOrder,f=t.chunkSize;if(!a)return Promise.resolve(void 0);const p=[...(0,d.getQuerySelection)({columnChildren:r}),"count(modified/devices)","plan-location"];return n(i.query({selection:p,path:s,sortColumn:u,sortOrder:c,initialOffset:l,result_as:"keypath-value",chunkSize:f}))};return{...o,onCreate:(e,t)=>n((0,s.createDisallowExistsThunk)({path:e,data:t})).then((e=>e&&e.error?e:a())),onDeleteRows:(e,t)=>n((0,s.deleteNodesThunk)({paths:e,loadingPath:t})).then((()=>n((0,m.clearYangActionStates)({paths:e})))).then((()=>a()))}};t._mergeProps=E;var k=(0,o.connect)(P,void 0,E)(w);t.default=k},45597:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(67294)),o=d(r(45697)),a=d(r(23438)),l=d(r(92849)),i=d(r(67528)),s=r(69496),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(72377));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}const f=(0,l.default)().list.header,p=e=>{let t=e.disabled,r=e.onClick,o=e.onClose,l=e.onConfirm,c=e.paths,d=e.showModal,p=e.error;return n.default.createElement("div",{"data-handle":"create-service",style:s.addServiceButton},n.default.createElement("button",{type:"button","data-handle":"service-create-button",disabled:t,onClick:r,style:t?f.buttonDisabled:f.button},t?n.default.createElement(a.default,{symbolColor:u.color6,borderColor:u.color6,bgColor:u.color3}):n.default.createElement(a.default,null)),d&&n.default.createElement(i.default,{title:"Create service",paths:c,closeOnConfirm:!1,onClose:o,onConfirm:l,error:p}))};p.propTypes={disabled:o.default.bool,onClick:o.default.func.isRequired,onClose:o.default.func.isRequired,onConfirm:o.default.func.isRequired,paths:o.default.arrayOf(o.default.string),showModal:o.default.bool,error:o.default.string};var h=p;t.default=h},58526:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(r(67294)),o=d(r(45697)),a=d(r(23789)),l=d(r(92849)),i=r(69496),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(72377)),u=d(r(28505));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}const f=(0,l.default)().list.header,p=e=>{let t=e.disabled,r=e.onClick,o=e.path;return n.default.createElement("div",{"data-handle":"remove-service",style:i.removeServiceButton},n.default.createElement("button",{type:"button","data-handle":"service-delete-button",disabled:t,key:`${o}btn1`,style:t?f.buttonDisabled:f.button,onClick:(0,u.default)(r)},t?n.default.createElement(a.default,{symbolColor:s.color6,borderColor:s.color6,bgColor:s.color3}):n.default.createElement(a.default,null)))};p.propTypes={onClick:o.default.func.isRequired,path:o.default.string.isRequired,disabled:o.default.bool};var h=p;t.default=h},34909:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t.default=void 0;var n,o=r(36247),a=r(23143),l=r(86507),i=(n=r(71641))&&n.__esModule?n:{default:n},s=r(86921);const u=e=>({onAction:(t,r)=>e((0,l.runServiceActionThunk)({action:t,servicePath:r}))});t._mapDispatchToProps=u;const c=(e,t)=>({rows:(0,a.selectSelectedServiceRows)(e,t),actions:s.SERVICE_ACTIONS});t._mapStateToProps=c;var d=(0,o.connect)(c,u)(i.default);t.default=d},9226:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._ServiceColumnsContainer=t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(14172)),o=d(r(45697)),a=d(r(67294)),l=d(r(82417)),i=r(86921),s=r(36247),u=r(17718),c=r(23143);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}const p=e=>{let t=e.onSetColumnVisible,r=e.columnsVisibility,n=e.shouldIncludPlanColumn,o=[...e.dynamicColumns,...i.SERVICE_COLUMNS];return n||(o=o.filter((e=>"plan"!==e.key))),o.forEach(((e,t)=>{o[t].isVisible=(0,u.isVisibleColumn)(r,e)})),a.default.createElement("div",{style:{margin:"0.1rem 0.25rem"},"data-handle":"service-column-select"},a.default.createElement(l.default,{onChange:(e,r)=>t(i.SERVICE_MANAGER_USER_STORAGE_PATH,e,r),columns:o.filter((e=>e.canBeHidden)),enabled:!0}))};t._ServiceColumnsContainer=p,p.propTypes={onSetColumnVisible:o.default.func.isRequired,columnsVisibility:o.default.shape(Object),dynamicColumns:o.default.arrayOf(Object),shouldIncludPlanColumn:o.default.bool};const h=(e,t)=>({columnsVisibility:(0,c.selectServiceColumns)(e),shouldIncludPlanColumn:(0,c.selectServiceIncludesPlan)(e,t),dynamicColumns:(0,c.selectDynamicColumns)(e,t)});t._mapStateToProps=h;const m=e=>({onSetColumnVisible:(t,r,o)=>e(n.setColumnVisibilityAction(t,r,o))});t._mapDispatchToProps=m;var y=(0,s.connect)(h,m)(p);t.default=y},79172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(67294)),o=u(r(45697)),a=r(36247),l=u(r(72318)),i=r(23143),s=r(69496);function u(e){return e&&e.__esModule?e:{default:e}}class c extends n.default.Component{constructor(e){super(e),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this)}showTooltip(){this.tooltip.show()}hideTooltip(){this.tooltip.hide()}render(){const e=this.props,t=e.selected,r=e.total;return n.default.createElement("div",{style:s.serviceCounter.wrapper},n.default.createElement(l.default,{direction:"left",toolTipText:"selected services / services in list",ref:e=>{this.tooltip=e}}),n.default.createElement("div",{"data-handle":"service-counter",role:"tooltip",style:s.serviceCounter.text,onMouseDown:this.showTooltip,onMouseUp:this.hideTooltip,onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip},`${t} / ${r}`))}}c.propTypes={total:o.default.number,selected:o.default.number};var d=(0,a.connect)(((e,t)=>({total:(0,i.selectServiceCount)(e,t),selected:(0,i.selectSelectedServiceCount)(e,t)})),null)(c);t.default=d},37458:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._createConfigurationCell=t._createPlanCell=t._createExpandCell=t._createPlanButtonCellFactory=t._createButtonCellFactory=t._ServiceListContainer=t.default=t.createListParentCellFactory=void 0;var n=L(r(63834)),o=L(r(67294)),a=L(r(45697)),l=r(43488),i=r(36247),s=L(r(48210)),u=L(r(75064)),c=r(94030),d=r(46560),f=r(83561),p=r(60622),h=r(86507),m=r(47810),y=r(71478),v=r(23143),b=r(14172),g=r(9587),C=r(12780),S=L(r(92849)),O=r(86921),w=L(r(31547)),_=L(r(17464)),P=L(r(73845)),E=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=A(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(72377)),k=L(r(95326)),x=r(17718),j=L(r(38125)),M=r(8081),T=r(43801),D=L(r(14084));function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(A=function(e){return e?r:t})(e)}function L(e){return e&&e.__esModule?e:{default:e}}const R="serviceList",I=(0,S.default)(R).list;t._createConfigurationCell=(e,t,r)=>o.default.createElement("div",{"data-handle":`cell-config-${r}`,style:I.cell.buttonWrapper},o.default.createElement(l.Link,{to:e,style:I.cell.link},(0,C.translate)("servicemanager.config_button")));const N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Link,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return(n,a,l,i)=>{const s=i.data.parentListPaths[e],u=(0,T.getLinkWithPath)(s.path);return o.default.createElement(D.default,{to:u,value:s.name,LinkComponent:t,formatter:r})}};t.createListParentCellFactory=N;const W=(e,t,r,n,a)=>(l,i,s)=>{const c=(0,d.pathOr)(0,["yangAction","completedAt"],l),f=(0,d.pathOr)(void 0,["yangAction","status"],l);return o.default.createElement(u.default,{style:n,result:(l||{}).status,status:f,isExpanded:(l||{}).isExpanded,path:s,action:e,onExpand:r,onAction:t,actionIndicatorTimeout:a,completedAt:c})};t._createButtonCellFactory=W;const B=e=>{let t=e.onExpand;return(e,r,n,a)=>{const l=a.data.expandable,i=l.isExpanded,s=l.column,u=i&&"plan"===s,c=u?{...I.cell.planButton,...I.cell.planButtonActive}:I.cell.planButton;return o.default.createElement("button",{type:"button","data-handle":"plan-button",onClick:()=>t(n,"plan"),style:c},"plan",o.default.createElement("div",{style:u?I.cell.planButtonIconActive:I.cell.planButtonIcon},o.default.createElement(k.default,{color:E.color3})))}};t._createPlanButtonCellFactory=B;const F=(e,t)=>o.default.createElement("div",{"data-handle":`expanded-plan-${e}`,style:{width:"100%"}},t?o.default.createElement(P.default,{xpath:t},(e=>{let t=e.isLoading,r=e.keypath,n=e.error;return!t&&r?o.default.createElement(w.default,{backgroundColor:E.color3,path:`${r}/plan`}):o.default.createElement("div",{style:{textAlign:"center"}},n&&"Sorry, couldn't load the plan")})):o.default.createElement(w.default,{backgroundColor:E.color3,path:e}));t._createPlanCell=F;const H=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];const a=r[0],l=r[2],i=r[3];if(!a.isExpanded)return!1;if("plan"===a.column){const e=`${l}/plan`,t=i.data.planLocation;return F(e,t)}if("devices"===a.column){const t=`${l}/modified/devices`,r=i.data.deviceItemsData;return o.default.createElement(_.default,{onQueryData:e,rows:r.rows,path:t})}return(0,g.createResultCellFactory)()(...r)};t._createExpandCell=H;const U=e=>(0,c.isNonEmptyString)(e)?"No services in list":(0,c.isString)(e)?"No service point selected":"Invalid service point",q=e=>(0,c.isString)(e)?`empty-service-list-${e}`:"invalid-service-point";class $ extends o.default.Component{constructor(e){super(e),this.onRunAction=this.onRunAction.bind(this),this.onSelectAllRows=this.onSelectAllRows.bind(this),this.onSelectRow=this.onSelectRow.bind(this),this.onChangeSortOrder=this.onChangeSortOrder.bind(this),this.onGoToPage=this.onGoToPage.bind(this),this.handleExpand=this.handleExpand.bind(this),this.state={showModal:!1,formIsValid:!1}}componentDidMount(){const e=this.props,t=e.servicePoint;(0,e.onLoad)(t,1)}componentDidUpdate(e){let t=e.servicePoint,r=e.search;const n=this.props,o=n.offset,a=n.rows,l=n.search,i=n.servicePoint,s=n.totalNumberOfResults,u=n.onLoad;i===t&&l===r||u(i,1),a&&0===a.length&&s>0&&this.onGoToPage(Math.max(1,o-50))}handleExpand(e,t){const r=this.props,n=r.onExpand,o=r.rows.find((t=>t.rowKey===e)).data.expandable,a=o.isExpanded,l=o.column;n(e,t,!a||t!==l)}onRunAction(e,t){return(0,this.props.onAction)(e,t)}onSelectRow(e,t){(0,this.props.onSelectRows)(e,[t])}onSelectAllRows(e){const t=this.props,r=t.rows,n=t.onSelectRows;this.setState({hasSelectedAll:e}),n(e,r.map((e=>e.rowKey)))}onChangeSortOrder(e){const t=this.props,r=t.onLoad,n=t.sortOrder,o=t.sortColumn,a=t.isLoading,l=t.servicePoint;if(!a){let t="ascending",a=e;e===o&&"descending"!==n&&(t="descending"),e===o&&"descending"===n&&(t=void 0,a=void 0),r(l,1,a,t)}}onGoToPage(e){const t=this.props,r=t.isLoading,n=t.onLoad,o=t.sortOrder,a=t.sortColumn,l=t.servicePoint;r||n(l,e,a,o)}render(){const e=this.props,t=e.isLoading,r=e.shouldIncludPlanColumn,a=e.offset,i=e.rows,u=e.sortColumn,d=e.sortOrder,h=e.totalNumberOfResults,m=e.actionIndicatorTimeout,y=e.columnsVisibility,v=e.search,b=e.servicePoint,g=e.onQueryDeviceItems,C=this.state.hasSelectedAll;let S=[];const w={columnKey:u,isDesc:"descending"===d},_=(0,p.createSortableHeaderFactory)(this.onChangeSortOrder,w);let P=O.SERVICE_COLUMNS.filter((e=>(0,x.isVisibleColumn)(y,e)));r||(P=P.filter((e=>"plan"!==e.key)));const E=e=>(0,c.truncateLongString)(e,180,40,P.length);if(i.length>0){if(S=[{...(0,p.getDefaultColumn)(),key:"isDirty",canBeHidden:!1,isSticky:!0,title:"is dirty",createHeader:(0,p.createEmptyHeaderFactory)(R),createCell:(0,p.createDirtyCellFactory)(R)},{...(0,p.getDefaultColumn)(),key:"isSelected",canBeHidden:!1,isSticky:!0,title:"is selected",createHeader:(0,p.createCheckboxHeaderFactory)(C,this.onSelectAllRows,R),createCell:(0,p.createCheckBoxCellFactory)(this.onSelectRow,R)}],i[0].data.parentListPaths.length>0&&i[0].data.parentListPaths.forEach(((e,t)=>{const r=`${new Array(t+1).fill("../").join("")}key`;S.push({...(0,p.getDefaultColumn)(),title:r,key:e.name,createHeader:_,createCell:N(t,l.Link,E)})})),i[0].data.keys.forEach((e=>{S.push({...(0,p.getDefaultColumn)(),title:e,key:e,createHeader:_,createCell:(0,p.createDataCellFactory)(f.CONFIGURATION_EDITOR_NAME,l.Link,E)})})),S.push({...(0,p.getDefaultColumn)(),title:"devices",key:"devices",createHeader:(0,p.createHeaderFactory)("defaultStyle",I.header.found),createCell:(0,p.createServieExpandableButtonCellFactory)({expandName:"devices",onExpand:this.handleExpand})}),r&&S.splice(-1,0,{...(0,p.getDefaultColumn)("plan"),key:"plan",title:"plan",createHeader:(0,p.createHeaderFactory)("defaultStyle",I.header.found),createCell:B({title:"plan",onExpand:this.handleExpand,styles:I.cell.actionButton})}),O.COLUMNS_ACTION.forEach((e=>{let t=e.key;return S.push({...(0,p.getDefaultColumn)(t),key:t,title:t,createHeader:(0,p.createHeaderFactory)("defaultStyle",I.header.found),createCell:W(t,this.onRunAction,this.handleExpand,I.cell.actionButton,m)})})),S=S.filter((e=>(0,x.isVisibleColumn)(y,e))),2===S.length){const e={...(0,p.getDefaultColumn)("empty"),title:""};S.push(e)}S.push({...(0,p.getDefaultColumn)(),title:"expandable",key:"expandable",canBeHidden:!1,isExpandable:!0,createHeader:_,createCell:H(g)})}const k=[0===h&&o.default.createElement("div",{key:"empty",style:I.empty,"data-handle":q(b)},U(b)),o.default.createElement(s.default,{chunkSize:50,key:"pagination",offset:a,onGoToPage:this.onGoToPage,totalNumberOfResults:h})];return o.default.createElement("div",{"data-handle":"service-manager-list"},b&&o.default.createElement(j.default,{unit:`services in ${b}`,keyword:v}),o.default.createElement(n.default,{columns:S,rows:i,styleName:"serviceList",isLoading:t,additionalElements:k,chunkSize:50,LinkComponent:l.Link,offset:a,shouldPadRows:!1,totalNumberOfResults:h,shouldRetainColumnsSize:!1,nrOfStaticColumns:2}))}}t._ServiceListContainer=$,$.propTypes={actionIndicatorTimeout:a.default.string,isLoading:a.default.bool.isRequired,shouldIncludPlanColumn:a.default.bool.isRequired,onAction:a.default.func.isRequired,onExpand:a.default.func,onLoad:a.default.func.isRequired,onSelectRows:a.default.func.isRequired,rows:a.default.arrayOf(Object),servicePoint:a.default.string,sortOrder:a.default.string,offset:a.default.number,sortColumn:a.default.string,totalNumberOfResults:a.default.number,search:a.default.string,columnsVisibility:a.default.shape(Object),onQueryDeviceItems:a.default.func},$.defaultProps={rows:[]};const V=(e,t)=>{const r=t.path||"",n=(0,v.selectServiceIsLoading)(e)||(0,v.selectServiceListIsLoading)(e,r)||(0,y.selectGlobalSettingsIsLoading)(e),o=(0,v.selectServiceColumns)(e),a=(0,v.servicePointsSelector)(e),l=((e,t)=>""===e||t[e]?e:void 0)((0,c.lstrip)(r,(0,M.getLinkWithPath)("")),a);return{isLoading:n,shouldIncludPlanColumn:(0,v.selectServiceIncludesPlan)(e,{path:r}),offset:(0,v.selectServiceOffset)(e,{path:r}),rows:(0,v.selectServiceRows)(e,{path:r}),servicePoint:l,sortColumn:(0,v.selectServiceSortColumn)(e,{path:r}),sortOrder:(0,v.selectServiceSortOrder)(e,{path:r}),totalNumberOfResults:(0,v.selectTotalNumberOfServices)(e,{path:r}),columnsVisibility:o,actionIndicatorTimeout:(0,y.selectGlobalSetting)(e,m.ACTION_STATUS_INDICATOR_TIMEOUT),search:(0,v.selectServiceSearch)(e)}};t._mapStateToProps=V;const G=e=>({onAction:(t,r)=>e((0,h.runServiceActionThunk)({action:t,servicePath:r})),onExpand:(t,r,n)=>e((0,h.setServiceExpandedAction)(t,r,n)),onLoad(t,r,n,o){(0,c.isNonEmptyString)(t)&&e((0,h.getServices)({servicePoint:t,offset:r,chunkSize:50,sortColumn:n,sortOrder:o}))},onSelectRows(t,r){e((0,h.selectServiceAction)(t,r))},onQueryDeviceItems(t){e((0,b.query)({path:t}))}});t._mapDispatchToProps=G;var z=(0,i.connect)(V,G)($);t.default=z},24310:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(r(66877)),o=g(r(17427)),a=g(r(67294)),l=g(r(45697)),i=g(r(34909)),s=g(r(59627)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(72377)),c=g(r(37458)),d=g(r(90367)),f=g(r(48306)),p=g(r(79172)),h=g(r(5903)),m=g(r(9226)),y=g(r(13582)),v=g(r(69496));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}const C=e=>{let t=e.path;return a.default.createElement("div",{style:v.default.application},a.default.createElement(n.default,{additionalComponentsRight:[a.default.createElement(i.default,{path:t})]},a.default.createElement("div",{style:v.default.secondHeader},a.default.createElement("div",{style:v.default.contentWrapper},a.default.createElement(d.default,{path:t}),a.default.createElement(f.default,{path:t}),a.default.createElement(m.default,{path:t}),a.default.createElement(p.default,{path:t}),a.default.createElement("div",{style:v.default.contentRightSide},a.default.createElement(h.default,null))),a.default.createElement("div",{style:u.shadow}))),a.default.createElement("div",{style:v.default.scrollingContainer},a.default.createElement(s.default,null,a.default.createElement(y.default,{path:t}),a.default.createElement(c.default,{style:v.default.serviceList,path:t}))),a.default.createElement(o.default,null))};C.propTypes={path:l.default.string};var S=C;t.default=S},79746:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t.default=void 0;var n,o=r(36247),a=r(43488),l=(n=r(24310))&&n.__esModule?n:{default:n};const i=(e,t)=>({path:(t&&t.routeParams||{}).splat});t._mapStateToProps=i;var s=(0,o.connect)(i)((0,a.withRouter)(l.default));t.default=s},69496:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.servicePointSelect=t.servicePoint=t.serviceCounter=t.serviceButtonContainer=t.rowStyle=t.removeServiceButton=t.labelsMenu=t.addServiceButton=t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}(r(72377));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}t.rowStyle={};var a={application:{...n.application,height:"100vh",display:"flex",flexFlow:"column",backgroundImage:n.pattern1},scrollingContainer:{overflow:"auto",flexGrow:"1"},secondHeader:{backgroundColor:n.color11,borderTop:"1px solid #cccccc",height:"50px",justifyContent:"flex-end",alignItems:"center"},contentWrapper:{display:"flex",maxWidth:n.maxWidth,margin:"0 auto",height:"100%",padding:"0 1rem",alignItems:"center"},contentRightSide:{marginLeft:"auto"}};t.default=a;const l={width:"1.2rem",height:"1.2rem",top:"-0.5rem",left:"5.2rem",transform:"rotate(43deg)",backgroundColor:"#ffffff",position:"absolute"},i={...l,left:"8.5rem"},s={border:"none",transition:"all 100ms ease-out",height:"1.5rem",width:"5rem",padding:"0.3rem"},u={container:{alignSelf:"center",marginRight:"1rem",position:"relative"},button:{...s,cursor:"pointer",disabled:{...s,color:"rgb(154, 154, 154)"}},pop:{position:"absolute",left:"-4rem",top:"2.4rem"},menuArrow:l,menuArrowShadow:{...l,boxShadow:"rgb(136, 136, 136) 0px 0px 3px 0px"},wrapper:{position:"absolute",width:"9.2rem",backgroundColor:"white",padding:"1rem",boxShadow:"rgb(136, 136, 136) 0px 0px 3px 0px",color:"#333333"},header:{marginBottom:"1rem"},pop:{position:"absolute",left:"-7rem",top:"2.4rem"},menuArrow:{...i},menuArrowShadow:{...i,boxShadow:"rgb(136, 136, 136) 0px 0px 3px 0px"},labelImage:{width:"2rem",disabled:{width:"2rem",opacity:.8}},labelContainer:{display:"flex",margin:"0.25rem 0"},label:{overflow:"hidden",textOverflow:"ellipsis",alignSelf:"center"},deleteLabel:{marginLeft:"auto",flexShrink:"0",display:"flex",backgroundColor:"#ffffff",border:"none",cursor:"pointer"},createContainer:{display:"flex",marginTop:"1rem"},deleteImage:{width:"0.8rem"},input:{fontSize:"1rem",width:"7rem"},button:{...s,padding:"0.35rem 1rem"}};t.labelsMenu=u;const c={wrapper:{position:"relative",display:"flex",marginLeft:"1rem"},text:{fontSize:n.medium3,whiteSpace:"nowrap"}};t.serviceCounter=c;const d={display:"block",border:`${n.color13} 1px solid`,minWidth:"2rem",maxWidth:"15rem"};t.servicePoint=d,t.servicePointSelect={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},t.serviceButtonContainer={display:"flex"};const f={justifyContent:"center",height:"1.5rem",alignSelf:"center"},p={...f,marginLeft:"1rem"};t.addServiceButton=p;const h={...f};t.removeServiceButton=h},90367:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._servicePointSorter=t._mapStateToProps=t._mapDispatchToProps=t._getValue=t._getSortedOptions=t._entryToOption=t._ServicePointContainer=t.default=void 0;var n=h(r(67294)),o=r(36247),a=h(r(45697)),l=r(43488),i=h(r(39740)),s=r(46560),u=r(94030),c=r(23143),d=r(86507),f=r(8081),p=r(69496);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const v=(e,t)=>{const r=e.text,n=e.value,o=t.text,a=t.value,l=n.localeCompare(a);if(0!==l)return l;const i=r.localeCompare(o);return 0!==i?i:0};t._servicePointSorter=v;const b=e=>{let t=m(e,2),r=t[0],n=t[1];return(0,u.isNonEmptyString)(n)&&(0,u.isNonEmptyString)(r)},g=e=>{let t=m(e,2),r=t[0];return{text:t[1],value:r}};t._entryToOption=g;const C=e=>Object.entries(e||{}).filter(b).map(g).sort(v);t._getSortedOptions=C;const S=(e,t)=>e[t]||"";t._getValue=S;class O extends n.default.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this)}componentDidMount(){const e=this.props,t=e.onLoad,r=e.points;(0,s.isNonEmpty)(r)||t()}onChange(e){this.props.router.push((0,f.getLinkWithPath)(e))}render(){const e=this.props,t=e.points,r=e.servicePoint;return n.default.createElement("div",{"data-handle":"service-point",style:p.servicePoint},n.default.createElement(i.default,{editable:!0,extraSelectStyle:p.servicePointSelect,onSetValue:this.onChange,options:C(t),placeholder:"Select service point...",value:S(t,r)}))}}t._ServicePointContainer=O,O.propTypes={onLoad:a.default.func,points:a.default.shape({}),router:a.default.shape(Object),servicePoint:a.default.string};const w=(e,t)=>{const r=(t||{}).path||"",n=(0,c.servicePointsSelector)(e),o=(0,u.lstrip)(r,(0,f.getLinkWithPath)(""));return{points:Object.values(n).reduce(((e,t)=>(e[t.path]=t.path,e)),{}),servicePoint:o}};t._mapStateToProps=w;const _=e=>({onLoad(){e((0,d.getServicePointsAndSchemas)())}});t._mapDispatchToProps=_;var P=(0,o.connect)(w,_)((0,l.withRouter)(O));t.default=P},5903:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t.default=void 0;var n,o=r(36247),a=(n=r(21216))&&n.__esModule?n:{default:n},l=r(86507),i=r(23143);const s=e=>({onSetSearch(t){e((0,l.setSearchAction)(t))}});t._mapDispatchToProps=s;const u=e=>({keyword:(0,i.selectServiceSearch)(e)});t._mapStateToProps=u;var c=(0,o.connect)(u,s)(a.default);t.default=c},13582:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._createExpandCell=t._createPlanButtonCellFactory=t._ZombieServiceListContainer=t.default=void 0;var n=S(r(67294)),o=S(r(45697)),a=r(36247),l=r(83561),i=r(43488),s=S(r(63834)),u=r(23143),c=r(86507),d=r(14172),f=r(71478),p=r(68613),h=r(56665),m=r(60622),y=S(r(95326)),v=S(r(31547)),b=S(r(38125)),g=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=C(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(72377));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(C=function(e){return e?r:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}const O=(0,S(r(92849)).default)("serviceList").list,w="/ncs:zombies/service",_=["service-path","delete-path"],P=e=>{let t=e.onExpand;return(e,r,o,a)=>{const l=a.data.expandable,i=l.isExpanded,s=l.column,u=i&&"plan"===s,c=u?{...O.cell.planButton,...O.cell.planButtonActive}:O.cell.planButton;return n.default.createElement("button",{type:"button","data-handle":"plan-button",onClick:()=>t(o,"plan"),style:c},"plan",n.default.createElement("div",{style:u?O.cell.planButtonIconActive:O.cell.planButtonIcon},n.default.createElement(y.default,{color:g.color3})))}};t._createPlanButtonCellFactory=P;const E=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const o=t[0],a=t[2];if(!o.isExpanded||"plan"!==o.column)return null;const l=`${a}/plan`;return n.default.createElement("div",{"data-handle":`expanded-plan-${l}`,style:{width:"100%"}},n.default.createElement(v.default,{backgroundColor:g.color3,path:l}))};t._createExpandCell=E;class k extends n.default.Component{constructor(e){super(e),this.handleExpand=this.handleExpand.bind(this),this.onCometUpdate=this.onCometUpdate.bind(this)}componentDidMount(){const e=this.props,t=e.onLoad,r=e.onSubscribe;t(),r(this.onCometUpdate)}componentDidUpdate(e){const t=this.props,r=t.onLoad,n=t.path;e.path!==n&&r()}componentWillUnmount(){(0,this.props.onUnsubscribe)(this.onCometUpdate)}handleExpand(e,t){const r=this.props,n=r.onExpand,o=r.rows.find((t=>t.rowKey===e)).data.expandable,a=o.isExpanded,l=o.column;n(e,t,!a||t!==l)}onCometUpdate(e,t){const r=this.props,n=r.onCreate,o=r.onDelete,a=r.onModifiedNodes,l=r.onUpdateLeaf;(0,h.updateConfig)(e,t.params.path,{onCreate:n,onDelete:o,onModifiedNodes:a,onUpdateLeaf:l})}render(){const e=this.props,t=e.rows,r=e.isLoading,o=e.path,a=[{...(0,m.getDefaultColumn)(),title:"service-path",key:"service-path",createHeader:m.createHeader,createCell:(0,m.createDataCellFactory)(l.CONFIGURATION_EDITOR_NAME,i.Link)},{...(0,m.getDefaultColumn)(),title:"delete-path",key:"delete-path",createHeader:m.createHeader,createCell:(0,m.createDataCellFactory)(l.CONFIGURATION_EDITOR_NAME,i.Link)},{...(0,m.getDefaultColumn)("plan"),key:"plan",title:"plan",createHeader:(0,m.createHeaderFactory)("defaultStyle",O.header.found),createCell:P({title:"plan",onExpand:this.handleExpand,styles:O.cell.actionButton})},{...(0,m.getDefaultColumn)(),title:"expandable",key:"expandable",canBeHidden:!1,isExpandable:!0,createHeader:m.createHeader,createCell:E}];return n.default.createElement("div",{style:{marginTop:"0.5rem"}},t.length>0&&n.default.createElement(b.default,{unit:`zombies of ${o}`}),n.default.createElement(s.default,{columns:a,rows:t,isLoading:r,styleName:"serviceList"}))}}t._ZombieServiceListContainer=k,k.propTypes={isLoading:o.default.bool,path:o.default.string,rows:o.default.arrayOf(Object),onLoad:o.default.func,onCreate:o.default.func,onDelete:o.default.func,onModifiedNodes:o.default.func,onUpdateLeaf:o.default.func,onExpand:o.default.func,onSubscribe:o.default.func,onUnsubscribe:o.default.func};const x=(e,t)=>{const r=(0,u.selectZombieServiceRows)(e,t);return{isLoading:(0,u.selectZombiesIsLoading)(e)||(0,f.selectGlobalSettingsIsLoading)(e),rows:r}};t._mapStateToProps=x;const j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.funcs,n=void 0===r?{}:r,o=n.query,a=void 0===o?d.query:o,l=n.setServiceExpandedAction,i=void 0===l?c.setServiceExpandedAction:l;function s(){e(a({path:w,chunkSize:5,selection:_}))}return{onExpand:(t,r,n)=>e(i(t,r,n)),onLoad:s,onSubscribe(t){e((0,p.subscribeCdbOperAction)([w],t))},onUnsubscribe(t){e((0,p.unsubscribeCdbOperAction)([w],t))},onModifiedNodes(t){e((0,d.modifiedNodesAction)(t)),s()},onUpdateLeaf(){},onDelete(){},onCreate(){}}};t._mapDispatchToProps=j;var M=(0,a.connect)(x,j)(k);t.default=M},56665:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._setValue=t.updateConfig=t.default=void 0;var n=r(40801),o=r(94030),a=r(99531);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const i=(e,t)=>{const r=e.value;t.updateNode[e.keypath]=r};t._setValue=i;const s=(e,t,r)=>{let s=r.onDelete,u=r.onUpdateLeaf,c=r.onCreate,d=r.onModifiedNodes;const f=e.changes||[],p=[],h={},m={},y=[];f.forEach((e=>{const r=(0,n.getListPath)(e.keypath,t);(0,o.isNonEmptyString)(r)?y.push(r):("deleted"===e.op&&p.push([e.keypath,!0]),"created"===e.op&&(h[e.keypath]=!0),"default_set"===e.op&&p.push([e.keypath,!1]),"value_set"===e.op&&i(e,{updateNode:m}))})),p.forEach((e=>{let t=(a=2,function(e){if(Array.isArray(e))return e}(o=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw o}}return a}}(o,a)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(o,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],n=t[1];var o,a;s(r,n)})),Object.keys(h).forEach((e=>{c(e)})),Object.keys(m).forEach((e=>{u(e,m[e])})),y.length>0&&d((0,a.uniq)(y))};t.updateConfig=s;var u=s;t.default=u}}]);