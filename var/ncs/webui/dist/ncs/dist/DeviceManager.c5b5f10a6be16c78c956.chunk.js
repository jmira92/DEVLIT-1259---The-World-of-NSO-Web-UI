"use strict";(self.webpackChunkwebui=self.webpackChunkwebui||[]).push([[77],{59627:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(o(67294)),r=l(o(45697)),a=l(o(94267));function l(e){return e&&e.__esModule?e:{default:e}}class i extends n.default.Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){const e=this.props.children,t=this.state.error;return t?n.default.createElement(a.default,{error:t}):e}}t.default=i,i.propTypes={children:r.default.oneOfType([r.default.arrayOf(r.default.node),r.default.node])}},68878:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(67294)),r=a(o(45697));function a(e){return e&&e.__esModule?e:{default:e}}const l=e=>{let t=e.color;return n.default.createElement("svg",{version:"1.2",baseProfile:"tiny",x:"0px",y:"0px",viewBox:"0 0 24 21",xmlSpace:"preserve"},n.default.createElement("path",{fill:t,d:"M12.7,0.5c-0.4-0.7-1.1-0.7-1.5,0L0.2,19.7C-0.2,20.4,0.1,21,0.9,21h22.2 c0.8,0,1.2-0.6,0.8-1.3L12.7,0.5z M12.7,17.7C12.5,17.9,12.2,18,12,18c-0.3,0-0.5-0.1-0.7-0.3C11.1,17.5,11,17.2,11,17 c0-0.3,0.1-0.5,0.3-0.7c0.4-0.4,1.1-0.4,1.4,0c0.2,0.2,0.3,0.5,0.3,0.7C13,17.2,12.9,17.5,12.7,17.7L12.7,17.7z M13,13.5 c0,0.6-0.5,1-1,1s-1-0.5-1-1v-6c0-0.6,0.5-1,1-1s1,0.5,1,1V13.5L13,13.5z"}))};l.propTypes={color:r.default.string};var i=l;t.default=i},66796:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(67294)),r=a(o(45697));function a(e){return e&&e.__esModule?e:{default:e}}const l=e=>{let t=e.color;return n.default.createElement("svg",{version:"1.2",baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24",xmlSpace:"preserve"},n.default.createElement("path",{fill:t,d:"M12,0C5.4,0,0,5.4,0,12s5.4,12,12,12s12-5.4,12-12S18.6,0,12,0L12,0z M12,18c-0.6,0-1-0.5-1-1\ns0.4-1,1-1c0.5,0,1,0.5,1,1S12.5,18,12,18L12,18z M13,12.5c0,0.5-0.5,1-1,1c-0.6,0-1-0.5-1-1V7c0-0.6,0.4-1,1-1c0.5,0,1,0.4,1,1\nV12.5L13,12.5z"}))};l.propTypes={color:r.default.string};var i=l;t.default=i},17464:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=c(o(67294)),r=u(o(45697)),a=o(43488),l=c(o(72377)),i=u(o(49205)),s=u(o(68554));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(d=function(e){return e?o:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=d(t);if(o&&o.has(e))return o.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,o&&o.set(e,n),n}const p=e=>e.items.map((e=>n.default.createElement(a.Link,{title:e.name,key:e.path,style:s.default.itemsLink,to:`/webui-one/ConfigurationEditor${e.path}`},e.name))),f=e=>e.itemGroups.map((e=>n.default.createElement("div",{"data-handle":"manager-items-group",style:s.default.group,key:e.path},n.default.createElement("h2",{style:s.default.groupTitle},e.name),n.default.createElement(p,{items:e.children}))));function h(e){let t=e.path,o=e.onQueryData,r=e.rows,a=e.isLoading;return(0,n.useEffect)((()=>{o(t)}),[o,t]),n.default.createElement("div",{style:s.default.container},a&&n.default.createElement("div",{style:s.default.loaderContainer},n.default.createElement(i.default,{color:l.color2})),0===r.length&&!a&&n.default.createElement("p",null,"No items"),n.default.createElement(f,{itemGroups:r}))}h.propTypes={path:r.default.string.isRequired,onQueryData:r.default.func,isLoading:r.default.bool,rows:r.default.arrayOf(Object)},h.defaultProps={isLoading:!1,rows:[]}},68554:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=r(t);if(o&&o.has(e))return o.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}return n.default=e,o&&o.set(e,n),n}(o(72377));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(r=function(e){return e?o:t})(e)}var a={container:{width:"100%",padding:"0 1rem 1rem 1rem",display:"flex",flexWrap:"wrap",justifyContent:"center"},group:{margin:"1rem 1rem 0 1rem",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"75ch",lineHeight:"1.6"},groupTitle:{margin:"0",fontSize:n.large2,color:n.color2},itemsLink:{display:"block",margin:"0 0 0 0rem",fontSize:n.medium3,textDecoration:"none",color:n.color2,overflow:"hidden",textOverflow:"ellipsis"},loaderContainer:{flexBasis:"100%",display:"flex",justifyContent:"center"}};t.default=a},38125:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._getString=t.default=void 0;var n=i(o(67294)),r=i(o(45697)),a=o(35379),l=i(o(65719));function i(e){return e&&e.__esModule?e:{default:e}}const s=(e,t,o)=>{const n=(e=>{const t=e.filter((e=>e.type===a.labelTypes.LBL_INCLUDE)).map((e=>`"${e.name}"`)),o=e.filter((e=>e.type===a.labelTypes.LBL_ONE_OF)).map((e=>e.name)),n=e.filter((e=>e.type===a.labelTypes.LBL_EXCLUDE)).map((e=>e.name));let r="";const l=t.join(" AND ");l&&(r+=` ${l}`);const i=o.join(", ");i&&(r+=r?" AND":"",r+=o.length>1?" ONE OF":"",r+=` "${i}"`);const s=n.join(", ");return s&&(r+=r?" AND":"",r+=n.length>1?" NOT ANY OF":" NOT",r+=` "${s}"`),r})(o);let r=e;return t?(r+=` including "${t}"`,n&&(r+=", AND")):n&&(r+=" where"),n&&(r+=` group is${n}`),r};t._getString=s;const u=e=>{let t=e.unit,o=e.labels,r=e.keyword;return n.default.createElement("div",{style:l.default,"data-handle":"summary"},s(t,r,Object.values(o)))};u.propTypes={labels:r.default.shape(Object),keyword:r.default.string,unit:r.default.string},u.defaultProps={labels:{},keyword:"",unit:""};var d=u;t.default=d},65719:(e,t,o)=>{function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(n=function(e){return e?o:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={fontSize:function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=n(t);if(o&&o.has(e))return o.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,o&&o.set(e,r),r}(o(72377)).medium1,maxWidth:"1600px",margin:"0.75rem auto 0.75rem auto",padding:"0 1rem"};t.default=r},13235:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._AddDevicesContainer=t.default=void 0;var n=f(o(67294)),r=f(o(45697)),a=o(36247),l=f(o(72318)),i=f(o(23438)),s=f(o(47957)),u=f(o(67528)),d=o(35379),c=o(39636),p=o(7711);function f(e){return e&&e.__esModule?e:{default:e}}const h=[p.deviceListPath];class v extends n.default.Component{constructor(e){super(e),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.showAddDeviceModal=this.showAddDeviceModal.bind(this),this.onConfirm=this.onConfirm.bind(this),this.onClose=this.onClose.bind(this),this.setTooltipRef=this.setTooltipRef.bind(this),this.state={showAddDeviceModal:!1,errorOnCreate:void 0,isLoading:!1}}onConfirm(e){const t=this.props,o=t.offset,n=t.onAddDevice,r=t.sortColumn,a=t.sortOrder,l=t.xpathExpression;return this.setState({isLoading:!0}),n(e,o,r,a,l).then((e=>{this.setState({isLoading:!1}),e.error?this.setState({errorOnCreate:e.error}):this.onClose()}))}onClose(){this.setState({showAddDeviceModal:!1,errorOnCreate:void 0})}setTooltipRef(e){this.tooltip=e}showAddDeviceModal(){this.setState({showAddDeviceModal:!0})}showTooltip(){this.tooltip.show()}hideTooltip(){this.tooltip.hide()}render(){const e=this.state,t=e.showAddDeviceModal,o=e.isLoading,r=e.errorOnCreate;return n.default.createElement("div",null,n.default.createElement(l.default,{direction:"right",toolTipText:"add device",ref:this.setTooltipRef}),n.default.createElement("button",{type:"button","data-handle":"add-list-item-button",style:s.default.enabled,onClick:this.showAddDeviceModal,onMouseDown:this.showTooltip,onMouseUp:this.hideTooltip,onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip},n.default.createElement(i.default,null)),t&&n.default.createElement(u.default,{title:"Add device",isLoading:o,paths:h,onConfirm:this.onConfirm,onClose:this.onClose,closeOnConfirm:!1,error:r}))}}t._AddDevicesContainer=v,v.propTypes={offset:r.default.number,onAddDevice:r.default.func,sortColumn:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),sortOrder:r.default.string,xpathExpression:r.default.string};var m=(0,a.connect)((e=>({offset:(0,d.selectDeviceOffset)(e),sortColumn:(0,d.selectDeviceSortColumn)(e),sortOrder:(0,d.selectDeviceSortOrder)(e),xpathExpression:(0,d.selectDeviceXpathExpression)(e)})),(e=>({onAddDevice:(t,o,n,r,a)=>e((0,c.addDevice)({createPath:t,chunkSize:p.DEVICE_CHUNK_SIZE,offset:o,columnKey:n,sortorder:r,xpathExpression:a}))})))(v);t.default=m},47957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const o={width:"1.5rem",height:"1.5rem",borderRadius:"1.5rem",display:"block",padding:"0",border:"none",background:"none"};var n={enabled:{cursor:"pointer",...o},disabled:{...o}};t.default=n},65823:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Symbol=void 0;var n=u(o(67294)),r=u(o(45697)),a=u(o(68878)),l=u(o(66796)),i=o(7711),s=u(o(26774));function u(e){return e&&e.__esModule?e:{default:e}}const d=e=>{let t=e.severity;const o=(s.default[t]||s.default.cleared).color;return[i.ALARM_STATUS.MAJORS,i.ALARM_STATUS.CRITICALS,i.ALARM_STATUS.MINORS].includes(t)?n.default.createElement(a.default,{color:o}):[i.ALARM_STATUS.WARNINGS,i.ALARM_STATUS.INDETERMINATES].includes(t)?n.default.createElement(l.default,{color:o}):null};t.Symbol=d,d.propTypes={severity:r.default.string};const c=e=>{let t=e.severity;return n.default.createElement("div",{"data-handle":`alarm-${t}`,style:s.default.wrapper},n.default.createElement(d,{severity:t}))};c.propTypes={severity:r.default.string};var p=c;t.default=p},26774:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=r(t);if(o&&o.has(e))return o.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}return n.default=e,o&&o.set(e,n),n}(o(72377));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(r=function(e){return e?o:t})(e)}var a={criticals:{color:n.color5},majors:{color:n.color17},minors:{color:n.color15},warnings:{color:n.color4},indeterminates:{color:n.color6},cleared:{color:n.color15},wrapper:{width:"1.2rem",alignSelf:"center",justifySelf:"center",lineHeight:0}};t.default=a},1091:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t.default=void 0;var n,r=o(36247),a=o(35379),l=o(28153),i=(n=o(71641))&&n.__esModule?n:{default:n};const s=e=>({rows:(0,a.selectedDeviceRowsSelector)(e),actions:(0,a.selectDeviceActions)(e)});t._mapStateToProps=s;const u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.funcs,n=void 0===o?{}:o,r=n.runCustomAction,a=void 0===r?l.runCustomActionThunk:r;return{onAction:(t,o)=>e(a({actionPath:`${o}/${t}`}))}};t._mapDispatchToProps=u;var d=(0,r.connect)(s,u)(i.default);t.default=d},76034:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._DeviceColumnsContainer=t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=p(t);if(o&&o.has(e))return o.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,o&&o.set(e,n),n}(o(14172)),r=c(o(45697)),a=c(o(67294)),l=c(o(82417)),i=o(7711),s=o(36247),u=o(17718),d=o(35379);function c(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(p=function(e){return e?o:t})(e)}const f=e=>{let t=e.onSetColumnVisible,o=e.columnsVisibility;const n=[...i.DEVICE_COLUMNS];return n.forEach(((e,t)=>{n[t].isVisible=(0,u.isVisibleColumn)(o,e)})),a.default.createElement("div",{"data-handle":"device-column-select"},a.default.createElement(l.default,{onChange:(e,o)=>t(i.DEVICE_MANAGER_USER_STORAGE_PATH,e,o),columns:n.filter((e=>e.canBeHidden)),enabled:!0}))};t._DeviceColumnsContainer=f,f.propTypes={onSetColumnVisible:r.default.func.isRequired,columnsVisibility:r.default.shape(Object)};const h=e=>({columnsVisibility:(0,d.selectDeviceColumns)(e)});t._mapStateToProps=h;const v=e=>({onSetColumnVisible:(t,o,r)=>e(n.setColumnVisibilityAction(t,o,r))});t._mapDispatchToProps=v;var m=(0,s.connect)(h,v)(f);t.default=m},10029:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._DeviceCounter=t.default=void 0;var n=u(o(67294)),r=u(o(45697)),a=o(36247),l=u(o(72318)),i=o(35379),s=o(44587);function u(e){return e&&e.__esModule?e:{default:e}}class d extends n.default.Component{constructor(e){super(e),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this)}showTooltip(){this.tooltip.show()}hideTooltip(){this.tooltip.hide()}render(){const e=this.props,t=e.selected,o=e.total;return n.default.createElement("div",{style:s.DeviceCounter.wrapper},n.default.createElement(l.default,{direction:"left",toolTipText:"selected devices / devices in list",ref:e=>{this.tooltip=e}}),n.default.createElement("div",{"data-handle":"device-counter",role:"tooltip",style:s.DeviceCounter.text,onMouseDown:this.showTooltip,onMouseUp:this.hideTooltip,onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip},`${t} / ${o}`))}}t._DeviceCounter=d,d.propTypes={total:r.default.number,selected:r.default.number};const c=e=>({selected:(0,i.selectedDeviceCountSelector)(e),total:(0,i.selectTotalNumberOfDevices)(e)});t._mapStateToProps=c;var p=(0,a.connect)(c,null)(d);t.default=p},30269:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._createAlarmCell=t._createButtonCellFactory=t._configurationCellFactory=t._mapStateToProps=t._mapDispatchToProps=t._DeviceListContainer=t.default=void 0;var n=R(o(75064)),r=R(o(63834)),a=R(o(67294)),l=R(o(48210)),i=R(o(45697)),s=R(o(92849)),u=R(o(17464)),d=o(36247),c=o(83561),p=o(43801),f=o(43488),h=o(12780),v=o(9587),m=o(99531),y=o(46560),b=o(28153),g=o(47810),D=o(39636),E=o(71478),O=o(60622),_=o(35379),w=o(7711),C=o(68613),S=o(14172),M=o(56665),A=o(81951),T=o(17718),L=o(94030),x=R(o(65823)),P=o(11833);function R(e){return e&&e.__esModule?e:{default:e}}const G="deviceList",k=e=>Array.isArray(e)&&e.includes(w.ALARM_PRECEDENCE[0]),j=(0,s.default)(G).list,I=(e,t,o,n)=>{if("cleared"===e)return a.default.createElement(x.default,{severity:e});const r=n.data.name,l=(0,P.getLinkWithDevice)(r);return a.default.createElement("div",{style:(0,s.default)("defaultStyle").list.row.alarm},a.default.createElement(f.Link,{to:l},a.default.createElement(x.default,{severity:e})))};t._createAlarmCell=I;const F=(e,t,o)=>{const n=(0,p.getLinkWithPath)(`${o}/config`),r=`config-${t}`;return a.default.createElement("div",{key:r,style:j.cell.buttonWrapper},a.default.createElement(f.Link,{to:n,style:j.cell.link},(0,h.translate)("devicemanager.config_button")))};t._configurationCellFactory=F;const N=(e,t,o,r,l)=>(i,s,u,d)=>{const c=(0,y.pathOr)(0,["yangAction","completedAt"],i),p=(0,y.pathOr)(void 0,["yangAction","status"],i);return a.default.createElement(n.default,{isDisabled:d&&d.data&&d.data.disableActions,style:r,result:(i||{}).status,status:p,path:u,action:e,onAction:t,onExpand:o,isExpanded:(i||{}).isExpanded,actionIndicatorTimeout:l,completedAt:c})};t._createButtonCellFactory=N;const V=e=>({...(0,O.getDefaultColumn)(),...w.DEVICE_COLUMNS.find((t=>t.key===e))});class U extends a.default.Component{constructor(e){super(e),this.onSelectAllRows=this.onSelectAllRows.bind(this),this.onSelectRow=this.onSelectRow.bind(this),this.onChangeSortOrder=this.onChangeSortOrder.bind(this),this.onCometUpdate=this.onCometUpdate.bind(this),this.onGoToPage=this.onGoToPage.bind(this),this.onRunAction=this.onRunAction.bind(this),this.handleExpand=this.handleExpand.bind(this),this.state={hasSelectedAll:!1},this.actions={ping:{},connect:{}}}componentDidMount(){const e=this.props,t=e.onLoad,o=e.onLoadActionStatusIndicatorTimeout,n=e.onSubscribe,r=e.selection;t(1,e.sortColumn,e.sortOrder,e.xpathExpression,r),n(this.onCometUpdate),o()}componentDidUpdate(e){const t=e.alarms,o=e.deviceGroupChangeIsPending,n=e.hasActiveLabels,r=e.lastDeleteDeviceTimestamp,a=e.onLoad,l=e.offset,i=e.selection,s=e.sortColumn,u=e.sortOrder,d=e.rows,c=e.totalNumberOfResults,p=e.xpathExpression,f=this.props,h=f.xpathExpression,v=f.deviceGroupChangeIsPending,y=f.alarms,b=f.selection,g=f.lastDeleteDeviceTimestamp;f.isLoading||((p!==h||!(0,m.isEqual)(i,b)||n&&o&&!v||t!==y)&&a(t!==y?l:1,s,u,h,b),r!==g&&d.length>0&&this.onGoToPage(l),d&&0===d.length&&c>0&&this.onGoToPage(Math.max(1,l-w.DEVICE_CHUNK_SIZE)))}componentWillUnmount(){(0,this.props.onUnsubscribe)(this.onCometUpdate)}handleExpand(e,t){const o=this.props,n=o.onExpand,r=o.rows.find((t=>t.rowKey===e)).data.expandable,a=r.isExpanded,l=r.column;n(e,t,!a||t!==l)}onSelectAllRows(e){const t=this.props,o=t.rows,n=t.onSelectRows;this.setState({hasSelectedAll:e}),n(e,o.map((e=>e.rowKey)))}onSelectRow(e,t){(0,this.props.onSelectRows)(e,[t])}onChangeSortOrder(e){const t=this.props,o=t.onLoad,n=t.selection,r=t.sortOrder,a=t.sortColumn,l=t.isLoading,i=t.xpathExpression;if(!l){const t=k(a)?"alarm":a;let l="ascending",s=e;e===t&&"descending"!==r&&(l="descending"),e===t&&"descending"===r&&(l=void 0,s=void 0);const u=1;"alarm"===s&&(s=w.ALARM_PRECEDENCE),o(u,s,l,i,n)}}onCometUpdate(e,t){const o=this.props,n=o.onCreate,r=o.onDelete,a=o.onModifiedNodes,l=o.onUpdateLeaf;(0,M.updateConfig)(e,t.params.path,{onCreate:n,onDelete:r,onModifiedNodes:a,onUpdateLeaf:l})}onGoToPage(e){const t=this.props,o=t.isLoading,n=t.onLoad,r=t.selection,a=t.sortOrder,l=t.sortColumn,i=t.xpathExpression;o||n(e,l,a,i,r)}onRunAction(e,t){return(0,this.props.onAction)(e,t)}render(){const e=this.props,t=e.columnsVisibility,o=e.isLoading,n=e.offset,i=e.onQueryServiceItems,s=e.rows,d=e.sortColumn,p=e.sortOrder,h=e.totalNumberOfResults,m=e.actionIndicatorTimeout,y=this.state.hasSelectedAll,b=[...w.COLUMNS_SELECTION],g=b.findIndex((e=>"services"===e.title)),D=b.splice(g)[0],E=w.DEVICE_COLUMNS.filter((e=>(0,T.isVisibleColumn)(t,e)&&e.canBeHidden)).length,_=e=>(0,L.truncateLongString)(e,180,40,E),C={columnKey:k(d)?"alarm":d,isDesc:"descending"===p};let S=b.map((e=>{let t=e.title,o=e.key;return{...(0,O.getDefaultColumn)(),createHeader:(0,O.createSortableHeaderFactory)(this.onChangeSortOrder,C),createCell:(0,O.createDataCellFactory)(c.CONFIGURATION_EDITOR_NAME,f.Link,_),title:t,key:o}}));if(S.unshift({...(0,O.getDefaultColumn)(),key:"isSelected",canBeHidden:!1,isSticky:!0,title:"is selected",createHeader:(0,O.createCheckboxHeaderFactory)(y,this.onSelectAllRows,G),createCell:(0,O.createCheckBoxCellFactory)(this.onSelectRow,G)}),S.unshift({...(0,O.getDefaultColumn)(),key:"isDirty",canBeHidden:!1,isSticky:!0,title:"is dirty",createHeader:(0,O.createEmptyHeaderFactory)(G),createCell:(0,O.createDirtyCellFactory)(G)}),S.push({...V("services"),title:D.title,key:D.key,createHeader:(0,O.createHeaderFactory)("defaultStyle",j.header.found),createCell:(0,O.createServieExpandableButtonCellFactory)({expandName:"services",onExpand:this.handleExpand})}),w.COLUMNS_ACTION.forEach((e=>{let t=e.key;return S.push({...V(t),createHeader:(0,O.createHeaderFactory)("defaultStyle",j.header.found),createCell:N(t,this.onRunAction,this.handleExpand,j.cell.actionButton,m)})})),S.push({...V("alarm"),createCell:I,createHeader:(0,O.createSortableHeaderFactory)((()=>this.onChangeSortOrder("alarm")),C)}),S.push({...V("config"),createCell:F}),S=S.filter((e=>(0,T.isVisibleColumn)(t,e))),2===S.length){const e={...(0,O.getDefaultColumn)("empty"),title:""};S.push(e)}var M;S.push({...V("expandable"),createCell:(M=i,function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];const n=t[0],r=t[2],l=t[3];if(n.isExpanded&&"services"===n.column){const e=`${r}/service-list`,t=l.data.serviceItemsData;return a.default.createElement(u.default,{onQueryData:M,isLoading:t.isLoading,rows:t.rows,path:e})}return(0,v.createResultCellFactory)()(...t)})});const A=[0===h&&a.default.createElement("div",{key:"empty",style:j.empty},"No devices in list"),a.default.createElement(l.default,{chunkSize:w.DEVICE_CHUNK_SIZE,key:"pagination",offset:n,onGoToPage:this.onGoToPage,totalNumberOfResults:h})];return a.default.createElement("div",{"data-handle":"list-wrapper"},a.default.createElement(r.default,{additionalElements:A,chunkSize:w.DEVICE_CHUNK_SIZE,columns:S,isLoading:o,LinkComponent:f.Link,offset:n,rows:s,shouldPadRows:!1,styleName:"deviceList",totalNumberOfResults:h,shouldRetainColumnsSize:!1,nrOfStaticColumns:2}))}}t._DeviceListContainer=U,U.propTypes={alarms:i.default.shape({}),columnsVisibility:i.default.shape(Object),deviceGroupChangeIsPending:i.default.bool,hasActiveLabels:i.default.bool,actionIndicatorTimeout:i.default.string,isLoading:i.default.oneOfType([i.default.bool,i.default.shape({})]),lastDeleteDeviceTimestamp:i.default.number,offset:i.default.number,onAction:i.default.func.isRequired,onCreate:i.default.func,onDelete:i.default.func,onExpand:i.default.func,onLoad:i.default.func.isRequired,onLoadActionStatusIndicatorTimeout:i.default.func,onModifiedNodes:i.default.func,onSelectRows:i.default.func.isRequired,onSubscribe:i.default.func.isRequired,onUnsubscribe:i.default.func.isRequired,onUpdateLeaf:i.default.func,onQueryServiceItems:i.default.func,rows:i.default.arrayOf(Object),selection:i.default.arrayOf(i.default.string),sortColumn:i.default.oneOfType([i.default.string,i.default.arrayOf(i.default.string)]),sortOrder:i.default.string,totalNumberOfResults:i.default.number,xpathExpression:i.default.string},U.defaultProps={columns:[],rows:[],selection:[]};const W=e=>{const t=(0,_.selectDeviceManagerIsLoading)(e),o=(0,_.selectDeviceColumns)(e),n=Object.keys(o),r=w.QUERY_SELECTION.filter((e=>!n.includes(e)||o[e]!==A.COLUMN_VISIBILITY.HIDDEN_USER)),a=(0,_.deviceRowAndChangesSelector)(e);return{alarms:(0,_.selectDeviceAlarms)(e),columnsVisibility:o,deviceGroupChangeIsPending:(0,_.selectDeviceGroupChangeIsPending)(e),hasActiveLabels:(0,_.selectHasActiveLabels)(e),isLoading:t,lastDeleteDeviceTimestamp:(0,_.selectLastDeleteDeviceTimestamp)(e),offset:(0,_.selectDeviceOffset)(e),rows:a,selection:r,sortColumn:(0,_.selectDeviceSortColumn)(e),sortOrder:(0,_.selectDeviceSortOrder)(e),totalNumberOfResults:(0,_.selectTotalNumberOfDevices)(e),xpathExpression:(0,_.selectDeviceXpathExpression)(e),actionIndicatorTimeout:(0,E.selectGlobalSetting)(e,g.ACTION_STATUS_INDICATOR_TIMEOUT)}};t._mapStateToProps=W;const H=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.funcs,n=void 0===o?{}:o,r=n.runCustomAction,a=void 0===r?b.runCustomActionThunk:r;return{onAction:(t,o)=>e(a({actionPath:`${o}/${t}`})),onLoad:(t,o,n,r,a)=>e((0,D.getDevices)({chunkSize:w.DEVICE_CHUNK_SIZE,offset:t,columnKey:o,selection:a,sortorder:n,xpathExpression:r})),onLoadActionStatusIndicatorTimeout(){e((0,g.getGlobalApplicationSetting)({setting:g.ACTION_STATUS_INDICATOR_TIMEOUT}))},onSelectRows(t,o){e((0,D.selectDeviceAction)(t,o))},onExpand:(t,o,n)=>e((0,D.setDeviceExpandedAction)(t,o,n)),onSubscribe(t){e((0,C.subscribeCdbOperAction)([w.alarmsPath],t)),e((0,C.subscribeChangesAction)([w.deviceListPath],t))},onUnsubscribe(t){e((0,C.unsubscribeCdbOperAction)([w.alarmsPath],t)),e((0,C.unsubscribeChangesAction)([w.deviceListPath],t))},onModifiedNodes(t){e((0,S.modifiedNodesAction)(t))},onUpdateLeaf(t,o){e((0,S.getValueAction)(t,o))},onDelete(t){e(!0!==(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?(0,S.deleteAction)(t):(0,S.deleteNodeAndChildrenAction)(t))},onCreate(t){e((0,S.createAction)(t))},onQueryServiceItems(t){e((0,S.query)({path:t}))}}};t._mapDispatchToProps=H;var B=(0,d.connect)(W,H)(U);t.default=B},24930:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=g(o(66877)),r=g(o(17427)),a=g(o(67294)),l=g(o(59627)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=b(t);if(o&&o.has(e))return o.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,o&&o.set(e,n),n}(o(72377)),s=g(o(10029)),u=g(o(76034)),d=g(o(13235)),c=g(o(50278)),p=g(o(30269)),f=g(o(63315)),h=g(o(52871)),v=g(o(44587)),m=g(o(1091)),y=g(o(2214));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(b=function(e){return e?o:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}t.default=()=>a.default.createElement("div",{style:v.default.application},a.default.createElement(n.default,{additionalComponentsRight:[a.default.createElement(m.default,null),a.default.createElement(f.default,null)]},a.default.createElement("div",{style:v.default.secondHeader},a.default.createElement("div",{style:v.default.contentWrapper},a.default.createElement("div",{style:v.default.container},a.default.createElement(d.default,null)),a.default.createElement("div",{style:v.default.container},a.default.createElement(c.default,null)),a.default.createElement("div",{style:v.default.container},a.default.createElement(u.default,null)),a.default.createElement(s.default,null),a.default.createElement(h.default,null))),a.default.createElement("div",{style:i.shadow})),a.default.createElement("div",{style:v.default.scrollingContainer},a.default.createElement(y.default,null),a.default.createElement(l.default,null,a.default.createElement(p.default,null))),a.default.createElement(r.default,null))},44587:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rowStyle=t.labelsMenu=t.DeviceCounter=t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=r(t);if(o&&o.has(e))return o.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}return n.default=e,o&&o.set(e,n),n}(o(72377));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(r=function(e){return e?o:t})(e)}t.rowStyle={};const a={alignSelf:"center",marginRight:"0.5rem",position:"relative"};var l={application:{...n.application,height:"100vh",display:"flex",flexFlow:"column",backgroundImage:n.pattern1},scrollingContainer:{overflow:"auto",flexGrow:"1"},secondHeader:{backgroundColor:n.color11,borderTop:"1px solid #cccccc",height:"50px",justifyContent:"flex-end"},contentWrapper:{display:"flex",maxWidth:n.maxWidth,margin:"0 auto",height:"100%",padding:"0 1rem"},container:{...a},image:{verticalAlign:"middle",height:"1rem",height:"1.5rem"}};t.default=l;const i={width:"1.2rem",height:"1.2rem",left:"5.6rem",transform:"translate(-50%, -50%)rotate(45deg)",backgroundColor:n.color3,position:"absolute"},s={container:a,wrapper:{position:"absolute",width:"9.2rem",backgroundColor:n.color3,padding:"1rem",boxShadow:"rgb(136, 136, 136) 0px 0px 3px 0px",color:n.textColor2,...n.fontCondensed},overlay:{position:"fixed",backgroundColor:"transparent",top:"0",left:"0",width:"100%",height:"100%"},pop:{position:"absolute",left:"-4.5rem",top:"2.55rem",zIndex:"1"},menuArrow:i,menuArrowShadow:{...i,boxShadow:"rgb(136, 136, 136) 0px 0px 3px 0px"},header:{marginBottom:"1rem"},labelImage:{height:"0.8rem",verticalAlign:"middle"},labelContainer:{display:"flex",marginTop:"1px",marginBottom:"1px"},labelsContainer:{maxHeight:"40vh",overflow:"auto"},label:{alignSelf:"center",fontSize:n.medium2,wordBreak:"break-all",marginRight:"0.5rem"},deleteLabel:{marginLeft:"auto",flexShrink:"0",padding:"0",backgroundColor:"transparent",border:"none",cursor:"pointer",color:n.color1,fontSize:n.large1,lineHeight:"1"},createContainer:{display:"flex",marginTop:"0.5rem"},input:{width:"7rem",padding:"0.25rem",border:`1px solid ${n.color6}`},button:{cursor:"pointer",border:"none",display:"flex",backgroundColor:"transparent"},symbol:{width:"1.1rem"},arrow:{width:"0.5rem",marginLeft:"0.5rem",alignSelf:"center"}};t.labelsMenu=s;const u={wrapper:{position:"relative",display:"flex",alignSelf:"center",marginLeft:"1rem"},text:{fontSize:"1rem",color:n.textColor2,whiteSpace:"nowrap"}};t.DeviceCounter=u},2214:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=o(36247),a=o(35379),l=(n=o(38125))&&n.__esModule?n:{default:n},i=(0,r.connect)((e=>({labels:(0,a.selectLabels)(e),keyword:(0,a.selectDeviceSearch)(e),unit:(0,a.selectHasActiveLabels)(e)||(0,a.selectDeviceSearch)(e)?"devices":""})))(l.default);t.default=i},47591:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getLabelTextNode=t.getLabelTypeText=t.getLabelTypeColor=void 0;var n=u(o(67294)),r=u(o(45697)),a=o(35379),l=u(o(40832)),i=u(o(24733)),s=u(o(91883));function u(e){return e&&e.__esModule?e:{default:e}}const d=e=>{switch(e.type){case a.labelTypes.LBL_ONE_OF:return"#d0c994";case a.labelTypes.LBL_INCLUDE:return"#7faa85";case a.labelTypes.LBL_EXCLUDE:return"#e5a5a5";case a.labelTypes.SEARCH:return"";default:throw Error(`Unknown label type: '${e.type}'`)}};t.getLabelTypeColor=d;const c=e=>{switch(e.type){case a.labelTypes.LBL_ONE_OF:return"∪";case a.labelTypes.LBL_INCLUDE:return"∩";case a.labelTypes.LBL_EXCLUDE:return"¬";case a.labelTypes.SEARCH:return"include:";default:throw Error(`Unknown label type: '${e.type}'`)}};t.getLabelTypeText=c;const p=e=>n.default.createElement("span",null,n.default.createElement("span",{style:{color:d(e)}},c(e)),` ${e.name}`);t.getLabelTextNode=p;const f=e=>{let t=e.autoCompleteIsVisible,o=e.filteredDeviceGroups,r=e.labels,a=e.onBlur,u=e.onChange,d=e.onFilterMenuRef,c=e.onFocus,f=e.onInitHide,h=e.onKeyDown,v=e.onLabelRemove,m=e.onResetHide,y=e.value;const b=Object.values(r).map(((e,t)=>n.default.createElement("div",{style:{...l.default.wrapper},key:t,"data-handle":`filter-${e.name}-${e.type}`},n.default.createElement("div",{style:l.default.label},p(e)),n.default.createElement("button",{type:"button",style:l.default.button,onClick:()=>{v(e)},key:`btn${t}`},n.default.createElement(s.default,{color:"inherit"})))));return n.default.createElement("div",{style:l.default.labelFilter,"data-handle":"labelFilter"},b,n.default.createElement("div",{style:l.default.wrapper},n.default.createElement("input",{className:i.default.input,onKeyDown:h,"data-handle":"labelInput",onFocus:c,onBlur:a,onChange:e=>u(e.target.value),placeholder:"+Add filter",value:y}),n.default.createElement("span",{style:l.default.button,key:"add"}),t&&o.length>0&&n.default.createElement("div",{style:l.default.popDownMenu.pop},n.default.createElement("div",{style:l.default.popDownMenu.menuArrowShadow}),n.default.createElement("div",{"data-handle":"add-filter-menu",style:l.default.popDownMenu.wrapper,onMouseEnter:m,onMouseLeave:f,onBlur:a,ref:d},n.default.createElement("div",null,o)),n.default.createElement("div",{style:l.default.popDownMenu.menuArrow}))))};f.propTypes={autoCompleteIsVisible:r.default.bool,filteredDeviceGroups:r.default.arrayOf(r.default.shape(Object)),labels:r.default.shape(Object),onBlur:r.default.func,onChange:r.default.func,onFocus:r.default.func,onFilterMenuRef:r.default.func,onInitHide:r.default.func,onKeyDown:r.default.func,onLabelRemove:r.default.func,onResetHide:r.default.func,value:r.default.string};var h=f;t.default=h},52871:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._LabelFilterContainer=t.default=void 0;var n=c(o(67294)),r=c(o(45697)),a=o(36247),l=o(39636),i=o(35379),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=d(t);if(o&&o.has(e))return o.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,o&&o.set(e,n),n}(o(47591)),u=c(o(40832));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(d=function(e){return e?o:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}class p extends n.default.Component{constructor(e){super(e),this.getFilteredLabels=this.getFilteredLabels.bind(this),this.labelAdd=this.labelAdd.bind(this),this.onBlur=this.onBlur.bind(this),this.onChange=this.onChange.bind(this),this.onFilterMenuRef=this.onFilterMenuRef.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.isElementInVisibleInList=this.isElementInVisibleInList.bind(this),this.state={autoCompleteIsVisible:!1,dropDownIndex:0,inputValue:"",inputLabels:[]}}componentDidMount(){(0,this.props.onLoadDeviceGroups)()}componentDidUpdate(){this.deviceGroupsOption&&this.deviceGroups&&!this.isElementInVisibleInList()&&(this.deviceGroups.scrollTop=this.deviceGroupsOption.offsetTop)}onFocus(){const e=this.getFilteredLabels("");this.setState({autoCompleteIsVisible:!0,dropDownIndex:0,inputLabels:e})}onBlur(){this.setState({autoCompleteIsVisible:!1,inputValue:""})}onChange(e){const t=this.getFilteredLabels(e);this.setState({dropDownIndex:0,inputValue:e,inputLabels:t})}onKeyDown(e){const t=this.state,o=t.autoCompleteIsVisible,n=t.dropDownIndex,r=t.inputLabels;if("Enter"===e.key&&o&&r[n]&&this.labelAdd(),"Escape"===e.key&&this.setState({autoCompleteIsVisible:!1,inputValue:""}),("ArrowUp"===e.key||"ArrowDown"===e.key)&&o){const t=r.length,o="ArrowUp"===e.key?-1:1;this.setState({dropDownIndex:(n+o+t)%t}),e.preventDefault()}}onFilterMenuRef(e){this.deviceGroups=e}getFilteredLabels(e){const t=this.props,o=t.deviceGroups,n=t.labels,r={...i.labelTypes};delete r[i.labelTypes.SEARCH];const a=o.filter((e=>!(Object.values(n).map((e=>e.name)).indexOf(e)>=0))),l=a.filter((t=>!!t.startsWith(e))),s=a.filter((t=>!(!t.includes(e)||t.startsWith(e)))),u=l.concat(s).reduce(((e,t)=>[...e,...Object.values(r).map((e=>({name:t,type:e})))]),[]);return e?[{name:e,type:i.labelTypes.SEARCH},...u]:u}getFilteredGroupsComponents(){const e=this.state,t=e.autoCompleteIsVisible,o=e.dropDownIndex,r=e.inputLabels;return t?r.map(((e,t)=>n.default.createElement("a",{className:"deviceGroups",role:"button",tabIndex:0,onMouseDown:()=>this.labelAdd(e),"data-handle":`label-add-${e.name}-${e.type}`,style:o===t?u.default.deviceGroupsOptionsActive:u.default.deviceGroupsOptions,ref:t===o&&(e=>{this.deviceGroupsOption=e}),key:`info${t}`},(0,s.getLabelTextNode)(e)))):[]}labelAdd(e){const t=this.state,o=t.dropDownIndex,n=t.inputLabels,r=this.props.onLabelAdd,a=n[o];(e||a)&&(r(e||a),this.setState({inputValue:""}))}isElementInVisibleInList(){if(0===this.props.deviceGroups.length)return!1;const e=this.deviceGroupsOption.getBoundingClientRect();return e.bottom>this.deviceGroups.bottom&&e.top<this.deviceGroups.top}render(){const e=this.props,t=e.labels,o=e.onLabelRemove,r=this.state,a=r.autoCompleteIsVisible,l=r.inputValue,i=this.getFilteredGroupsComponents();return n.default.createElement(s.default,{autoCompleteIsVisible:a,filteredDeviceGroups:i,labels:t,onBlur:this.onBlur,onChange:this.onChange,onFilterMenuRef:this.onFilterMenuRef,onFocus:this.onFocus,onKeyDown:this.onKeyDown,onLabelRemove:o,value:l})}}t._LabelFilterContainer=p,p.propTypes={deviceGroups:r.default.arrayOf(r.default.string),labels:r.default.shape(Object),onLabelAdd:r.default.func.isRequired,onLabelRemove:r.default.func.isRequired,onLoadDeviceGroups:r.default.func.isRequired},p.defaultProps={labels:{},onLoadDeviceGroups:()=>{}};const f=e=>({onLabelAdd(t){e((0,l.labelAddAction)(t))},onLabelRemove(t){e((0,l.labelRemoveAction)(t))},onLoadDeviceGroups(){e((0,l.loadDeviceGroups)())}});t._mapDispatchToProps=f;const h=e=>({deviceGroups:(0,i.selectDeviceGroupsWithDevices)(e),labels:(0,i.selectLabels)(e)});t._mapStateToProps=h;var v=(0,a.connect)(h,f)(p);t.default=v},40832:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=r(t);if(o&&o.has(e))return o.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}return n.default=e,o&&o.set(e,n),n}(o(72377));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(r=function(e){return e?o:t})(e)}const a={width:"1.2rem",height:"1.2rem",top:"-0.5rem",left:"8.5rem",transform:"rotate(43deg)",backgroundColor:n.color3,position:"absolute"},l={width:"0.7rem",padding:"0.25rem",cursor:"pointer"},i={display:"flex",color:"grey",cursor:"pointer",padding:"0.25rem 0.5rem"};var s={popDownMenu:{pop:{position:"absolute",right:"13rem",top:"2.25rem",zIndex:"1"},menuArrow:a,menuArrowShadow:{...a,boxShadow:"rgb(136, 136, 136) 0px 0px 3px 0px"},wrapper:{position:"absolute",right:"-14rem",width:"9.2rem",backgroundColor:n.color3,padding:"0.75rem 0",boxShadow:"rgb(136, 136, 136) 0px 0px 3px 0px",color:n.color9,maxHeight:"40vh",overflow:"auto"},header:{marginBottom:"1rem"}},labelFilter:{display:"flex",alignSelf:"center",fontSize:"0.6rem",padding:"0.1rem 0",flexGrow:2,justifyContent:"flex-end"},wrapper:{margin:"0 0.25rem",padding:"0.1875rem 0.5rem",display:"flex",alignItems:"center",border:`solid 1px ${n.color9}`,borderRadius:"0.81rem",backgroundColor:n.backgroundColor1,position:"relative",fontSize:n.small3,color:n.color9},label:{alignSelf:"center",color:"#000",display:"inline",padding:"0 0.5rem",whiteSpace:"nowrap"},tip:{height:"1.2rem"},delete:{...l},add:{...l,color:n.color1},button:{position:"relative",padding:"0",margin:"0",color:n.color1,display:"inline-block",border:"none",backgroundColor:"transparent",lineHeight:"1em",cursor:"pointer",":focus":{outline:"none"}},deviceGroupsOptions:i,deviceGroupsOptionsActive:{...i,backgroundColor:n.backgroundColor3},notFound:{width:"100%",color:"grey",padding:"0.25rem 0.5rem",textAlign:"center",boxSizing:"border-box"}};t.default=s},24810:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(o(67294)),r=c(o(45697)),a=c(o(72318)),l=c(o(20280)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=d(t);if(o&&o.has(e))return o.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,o&&o.set(e,n),n}(o(72377)),s=o(44587),u=c(o(60981));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(d=function(e){return e?o:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}class p extends n.default.Component{constructor(e){super(e),this.onAddDevicesToGroup=this.onAddDevicesToGroup.bind(this),this.onRemoveDevicesFromGroup=this.onRemoveDevicesFromGroup.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this)}componentDidUpdate(e){const t=this.props,o=t.enabled,n=t.onHideMenu,r=e.enabled;!o&&r&&n(),this.newLabelInput&&this.newLabelInput.focus()}onKeyDown(e){const t=this.props.onHideMenu;13===e.keyCode&&this.onAddDevicesToGroup(),27===e.keyCode&&t()}onAddDevicesToGroup(){this.newLabelInput.focus();const e=this.props,t=e.devices,o=e.onAddDevicesToGroup;this.newLabelInput.value&&t.length&&(o(t,this.newLabelInput.value),this.newLabelInput.value="")}onRemoveDevicesFromGroup(e){const t=this.props,o=t.devices;(0,t.onRemoveDevicesFromGroup)(o,e)}showTooltip(){this.tooltip.show()}hideTooltip(){this.tooltip.hide()}render(){const e=this.props,t=e.deviceGroups,o=e.enabled,r=e.menuOpen,d=e.onHideMenu,c=e.onShowMenu,p=t.map((e=>n.default.createElement("div",{"data-handle":`menu-item-${e}`,key:`menu-item-${e}`,style:s.labelsMenu.labelContainer},n.default.createElement("div",{style:s.labelsMenu.label},e),n.default.createElement("button",{type:"button",style:s.labelsMenu.deleteLabel,onClick:()=>this.onRemoveDevicesFromGroup(e)},"×")))),f=o?i.color1:i.color6;return n.default.createElement("div",{style:s.labelsMenu.container,"data-handle":"label-menu"},n.default.createElement(a.default,{direction:"left",toolTipText:"add/remove groups",ref:e=>{this.tooltip=e}}),n.default.createElement("button",{type:"button",style:s.labelsMenu.button,onClick:c,onMouseDown:this.showTooltip,onMouseUp:this.hideTooltip,onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip,disabled:!1},n.default.createElement("div",{style:s.labelsMenu.symbol},n.default.createElement(u.default,{color:f})),n.default.createElement("div",{style:s.labelsMenu.arrow},n.default.createElement(l.default,{color:f}))),r&&n.default.createElement("div",{style:s.labelsMenu.pop},n.default.createElement("button",{type:"button","data-handle":"overlay",onClick:()=>d(),style:s.labelsMenu.overlay}),n.default.createElement("div",{style:s.labelsMenu.menuArrowShadow}),n.default.createElement("div",{style:s.labelsMenu.wrapper},n.default.createElement("div",{style:s.labelsMenu.header},"Groups in selection:"),n.default.createElement("div",{"data-handle":"device-labels-container",style:s.labelsMenu.labelsContainer},p),n.default.createElement("div",{"data-handle":"add-label",style:s.labelsMenu.createContainer},n.default.createElement("input",{style:s.labelsMenu.input,placeholder:"add label",ref:e=>(this.newLabelInput=e,this.newLabelInput),onKeyDown:this.onKeyDown}),n.default.createElement("button",{type:"button",style:s.labelsMenu.deleteLabel,onClick:this.onAddDevicesToGroup},"+"))),n.default.createElement("div",{style:s.labelsMenu.menuArrow})))}}p.propTypes={devices:r.default.arrayOf(r.default.string),deviceGroups:r.default.arrayOf(r.default.string),enabled:r.default.bool,menuOpen:r.default.bool,onAddDevicesToGroup:r.default.func,onHideMenu:r.default.func,onRemoveDevicesFromGroup:r.default.func,onShowMenu:r.default.func},p.defaultProps={deviceGroups:[],devices:[],onGetDeviceGroupsForSelectedDevices:()=>null};var f=p;t.default=f},63315:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._LabelsMenuContainer=t.default=void 0;var n=d(o(67294)),r=d(o(45697)),a=o(36247),l=o(99531),i=o(35379),s=o(39636),u=d(o(24810));function d(e){return e&&e.__esModule?e:{default:e}}class c extends n.default.Component{constructor(e){super(e),this.onShowMenu=this.onShowMenu.bind(this),this.onHideMenu=this.onHideMenu.bind(this),this.onAddDevices=this.onAddDevices.bind(this),this.onRemoveDevices=this.onRemoveDevices.bind(this),this.state={menuOpen:!1,addedOrRemoved:!1}}onAddDevices(e,t){(0,this.props.onAddDevicesToGroup)(e,t),this.setState({addedOrRemoved:!0})}onRemoveDevices(e,t){(0,this.props.onRemoveDevicesFromGroup)(e,t),this.setState({addedOrRemoved:!0})}onHideMenu(){const e=this.props.onLoadDeviceGroups;this.state.addedOrRemoved&&e(),this.setState({menuOpen:!1,addedOrRemoved:!1})}onShowMenu(){const e=this.props,t=e.devices,o=e.onGetDeviceGroupsForSelectedDevices;(0,l.isNonEmptyArray)(t)&&(this.setState({menuOpen:!0}),o())}render(){const e=this.props,t=e.devices,o=e.deviceGroups,r=this.state.menuOpen;return n.default.createElement(u.default,{deviceGroups:o,devices:t.map((e=>e.data.name)),menuOpen:r,onAddDevicesToGroup:this.onAddDevices,onRemoveDevicesFromGroup:this.onRemoveDevices,onShowMenu:this.onShowMenu,onHideMenu:this.onHideMenu,enabled:(0,l.isNonEmptyArray)(t)})}}t._LabelsMenuContainer=c,c.propTypes={devices:r.default.arrayOf(Object),deviceGroups:r.default.arrayOf(r.default.string),onAddDevicesToGroup:r.default.func,onGetDeviceGroupsForSelectedDevices:r.default.func,onLoadDeviceGroups:r.default.func,onRemoveDevicesFromGroup:r.default.func},c.defaultProps={deviceGroups:[],devices:[],onAddDevicesToGroup:()=>{},onGetDeviceGroupsForSelectedDevices:()=>null,onLoadDeviceGroups:()=>{},onRemoveDevicesFromGroup:()=>{}};const p=e=>({onGetDeviceGroupsForSelectedDevices(){e((0,s.loadDeviceGroupsForDevices)())},onLoadDeviceGroups(){e((0,s.loadDeviceGroups)())},onRemoveDevicesFromGroup(t,o){e((0,s.removeDevicesFromGroup)(t,o))},onAddDevicesToGroup(t,o){e((0,s.addDevicesToGroup)(t,o))}});t._mapDispatchToProps=p;const f=e=>({devices:(0,i.selectedDeviceRowsSelector)(e),deviceGroups:(0,i.selectDeviceGroupsForDevices)(e)});t._mapStateToProps=f;var h=(0,a.connect)(f,p)(c);t.default=h},66455:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(o(67294)),r=u(o(45697)),a=u(o(23789)),l=c(o(72377)),i=u(o(72318)),s=u(o(47957));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(d=function(e){return e?o:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=d(t);if(o&&o.has(e))return o.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,o&&o.set(e,n),n}function p(e){const t=(0,n.useRef)();function o(){t.current.show()}function r(){t.current.hide()}const u=e.disabled,d=e.onRemoveDevices,c=u?()=>null:d;return n.default.createElement("div",null,n.default.createElement("button",{type:"button","data-handle":"remove-list-item-button",style:u?s.default.disabled:s.default.enabled,onClick:c,disabled:u,onMouseDown:o,onMouseUp:r,onMouseEnter:o,onMouseLeave:r},u?n.default.createElement(a.default,{symbolColor:l.color6,borderColor:l.color6,bgColor:l.color3}):n.default.createElement(a.default,null)),n.default.createElement(i.default,{direction:"right",toolTipText:"remove device",ref:e=>{t.current=e}}))}p.propTypes={disabled:r.default.bool,onRemoveDevices:r.default.func};var f=p;t.default=f},50278:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._RemoveDevicesContainer=t.default=void 0;var n=d(o(67294)),r=d(o(45697)),a=o(36247),l=o(31687),i=o(35379),s=d(o(66455)),u=o(7711);function d(e){return e&&e.__esModule?e:{default:e}}class c extends n.default.Component{constructor(e){super(e),this.deleteSelected=this.deleteSelected.bind(this)}deleteSelected(){const e=this.props,t=e.devices;return(0,e.onDelete)(t.map((e=>e.rowKey)),u.deviceListPath)}render(){const e=this.props,t=e.devices,o=e.isLoading||0===t.length;return n.default.createElement(s.default,{disabled:o,onRemoveDevices:this.deleteSelected})}}t._RemoveDevicesContainer=c,c.propTypes={devices:r.default.arrayOf(Object),onDelete:r.default.func,isLoading:r.default.bool};var p=(0,a.connect)((e=>({devices:(0,i.selectedDeviceRowsSelector)(e),isLoading:(0,i.selectDeviceManagerIsLoading)(e)})),(e=>({onDelete:(t,o)=>e((0,l.deleteNodesThunk)({paths:t,loadingPath:o}))})))(c);t.default=p},91883:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(67294)),r=a(o(45697));function a(e){return e&&e.__esModule?e:{default:e}}const l=e=>{let t=e.color;return n.default.createElement("span",{style:{color:t}},"×")};l.propTypes={color:r.default.string},l.defaultProps={color:"red"};var i=l;t.default=i},60981:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(67294)),r=a(o(45697));function a(e){return e&&e.__esModule?e:{default:e}}const l=e=>{let t=e.color;return n.default.createElement("svg",{version:"1.2",baseProfile:"tiny",x:"0px",y:"0px",viewBox:"0 0 23 24"},n.default.createElement("path",{fill:t,d:"M23,8l-1-8l-8.3,0L0,16.1L9.3,24L23,8z M17.8,2.3c0.5-0.6,1.5-0.7,2.2-0.2c0.6,0.5,0.7,1.5,0.2,2.2S18.6,5,18,4.4\nc0,0,0,0,0,0l0,0C17.4,3.9,17.3,2.9,17.8,2.3z"}))};l.propTypes={color:r.default.string},l.defaultProps={color:"red"};var i=l;t.default=i},56665:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._setValue=t.updateConfig=t.default=void 0;var n=o(40801),r=o(94030),a=o(99531);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}const i=(e,t)=>{const o=e.value;t.updateNode[e.keypath]=o};t._setValue=i;const s=(e,t,o)=>{let s=o.onDelete,u=o.onUpdateLeaf,d=o.onCreate,c=o.onModifiedNodes;const p=e.changes||[],f=[],h={},v={},m=[];p.forEach((e=>{const o=(0,n.getListPath)(e.keypath,t);(0,r.isNonEmptyString)(o)?m.push(o):("deleted"===e.op&&f.push([e.keypath,!0]),"created"===e.op&&(h[e.keypath]=!0),"default_set"===e.op&&f.push([e.keypath,!1]),"value_set"===e.op&&i(e,{updateNode:v}))})),f.forEach((e=>{let t=(a=2,function(e){if(Array.isArray(e))return e}(r=e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,a=[],l=!0,i=!1;try{for(o=o.call(e);!(l=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(e){i=!0,r=e}finally{try{l||null==o.return||o.return()}finally{if(i)throw r}}return a}}(r,a)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?l(e,t):void 0}}(r,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=t[0],n=t[1];var r,a;s(o,n)})),Object.keys(h).forEach((e=>{d(e)})),Object.keys(v).forEach((e=>{u(e,v[e])})),m.length>0&&c((0,a.uniq)(m))};t.updateConfig=s;var u=s;t.default=u},39636:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._addValues=t.addDevice=t.loadModules=t.removeDevicesFromGroup=t.addDevicesToGroup=t.getValueFromResult=t.loadDeviceGroupsForDevices=t.loadDeviceGroups=t.getDevices=t.setDeviceExpandedAction=t.loadDeviceGroupsForDevicesStartAction=t.loadDeviceGroupsForDevicesErrorAction=t.loadDeviceGroupsForDevicesCompleteAction=t.gettingDevicesComplete=t.gettingDevicesStart=t.removeDevicesFromGroupStartAction=t.removeDevicesFromGroupErrorAction=t.removeDevicesFromGroupCompleteAction=t.loadModulesErrorAction=t.loadModulesCompleteAction=t.loadModulesStartAction=t.loadDeviceGroupsErrorAction=t.loadDeviceGroupsCompleteAction=t.loadDeviceGroupsStartAction=t.labelRemoveAction=t.labelAddAction=t.addDevicesToGroupErrorAction=t.addDevicesToGroupCompleteAction=t.addDevicesToGroupStartAction=t.selectDeviceAction=void 0;var n=o(2752),r=o(99531),a=o(49562),l=o(14172),i=o(31687),s=o(71447),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=p(t);if(o&&o.has(e))return o.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}return n.default=e,o&&o.set(e,n),n}(o(8978)),d=o(7711),c=o(35379);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(p=function(e){return e?o:t})(e)}t.selectDeviceAction=(e,t)=>({type:u.DEVICES_SELECT,deviceNames:t,isSelected:e});const f=e=>({type:u.ADD_DEVICES_TO_GROUP_START,group:e});t.addDevicesToGroupStartAction=f;const h=(e,t)=>({type:u.ADD_DEVICES_TO_GROUP_COMPLETE,group:e,value:t});t.addDevicesToGroupCompleteAction=h;const v=(e,t)=>({type:u.ADD_DEVICES_TO_GROUP_ERROR,group:e,error:t});t.addDevicesToGroupErrorAction=v,t.labelAddAction=e=>({type:u.LABEL_ADD,label:e}),t.labelRemoveAction=e=>({type:u.LABEL_REMOVE,label:e});const m=()=>({type:u.LOAD_DEVICE_GROUPS_START});t.loadDeviceGroupsStartAction=m;const y=e=>({type:u.LOAD_DEVICE_GROUPS_COMPLETE,groups:e});t.loadDeviceGroupsCompleteAction=y;const b=e=>({type:u.LOAD_DEVICE_GROUPS_ERROR,error:e});t.loadDeviceGroupsErrorAction=b;const g=e=>({type:u.LOAD_MODULES_START,path:e});t.loadModulesStartAction=g;const D=(e,t)=>({type:u.LOAD_MODULES_COMPLETE,path:e,result:t});t.loadModulesCompleteAction=D;const E=(e,t)=>({type:u.LOAD_MODULES_ERROR,path:e,error:t});t.loadModulesErrorAction=E;const O=(e,t)=>({type:u.REMOVE_DEVICES_FROM_GROUP_COMPLETE,devices:t,group:e});t.removeDevicesFromGroupCompleteAction=O;const _=(e,t)=>({type:u.REMOVE_DEVICES_FROM_GROUP_ERROR,group:e,error:t});t.removeDevicesFromGroupErrorAction=_;const w=(e,t)=>({type:u.REMOVE_DEVICES_FROM_GROUP_START,group:e,error:t});t.removeDevicesFromGroupStartAction=w;const C=()=>({type:u.GETTING_DEVICES_START});t.gettingDevicesStart=C;const S=()=>({type:u.GETTING_DEVICES_COMPLETE});t.gettingDevicesComplete=S;const M=e=>({type:u.LOAD_DEVICE_GROUPS_FOR_DEVICES_COMPLETE,groups:e});t.loadDeviceGroupsForDevicesCompleteAction=M;const A=e=>({type:u.LOAD_DEVICE_GROUPS_FOR_DEVICES_ERROR,error:e});t.loadDeviceGroupsForDevicesErrorAction=A;const T=()=>({type:u.LOAD_DEVICE_GROUPS_FOR_DEVICES_START});t.loadDeviceGroupsForDevicesStartAction=T,t.setDeviceExpandedAction=(e,t,o)=>({type:u.SET_EXPANDED_ROW,path:e,column:t,isExpanded:o});const L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chunkSize,o=e.offset,n=e.columnKey,i=e.sortorder,s=e.xpathExpression,u=e.selection,c=void 0===u?d.QUERY_SELECTION:u,p=e.funcs,f=void 0===p?{}:p,h=f.getSchema,v=void 0===h?a.getSchema:h,m=f.query,y=void 0===m?l.query:m;return async e=>{await e(C()),await e(v({path:d.devicesRootPath,params:{levels:-1,stop_on_list:!0},reload:!0}));const a=(0,r.uniq)(["name",...c]),l=await e(y({selection:a,path:d.deviceListPath,sort:n,sortOrder:i,initialOffset:o,chunkSize:t,result_as:"string",xpathExpr:s,contextNode:d.devicesRootPath}));return await e(S()),l}};t.getDevices=L,t.loadDeviceGroups=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.funcs,o=void 0===t?{}:t,a=o.query,l=void 0===a?n.query:a,i=o.readThunk,u=void 0===i?s.read:i;return async e=>{e(m());try{const t=(await e(u())).th,o="device-group[count(device-name) > 0]",n=await l({th:t,selection:["name"],contextNode:"/ncs:devices",xpathExpr:o}),a=(0,r.flatten)(n.results);return e(y(a))}catch(t){return e(b(t))}}};const x=e=>t=>({method:"query",params:{th:e,selection:["name"],context_node:"/ncs:devices",xpath_expr:t}}),P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.funcs,o=void 0===t?{}:t,a=o.jsonrpcBatch,l=void 0===a?n.jsonrpcBatch:a,i=o.readThunk,u=void 0===i?s.read:i,d=o.selectedDeviceRows,p=void 0===d?c.selectedDeviceRowsSelector:d;return async(e,t)=>{e(T());try{const o=p(t()).reduce(((e,t)=>(t.data.isSelected&&e.push(t.data.name),e)),[]);if(!(0,r.isNonEmptyArray)(o))return e(M([]));const n=(await e(u())).th,a=o.map((e=>`device-group[device-name="${e}"]`)).map(x(n)),i=await l({requests:a}),s=(0,r.uniq)((0,r.flatten)(i.map((e=>e.result.results))));return e(M(s))}catch(t){return e(A(t))}}};t.loadDeviceGroupsForDevices=P;const R=e=>e&&e.results?e.results.reduce(((e,t)=>[...e,...Object.values(t)]),[]):[];t.getValueFromResult=R;const G=(e,t)=>o=>({method:"create",params:{path:(0,d.getDeviceGroupDeviceListDevicePath)(e,o),th:t}}),k=async function(e,t,o){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=a.funcs,i=void 0===l?{}:l,s=i.jsonrpcBatch,u=void 0===s?n.jsonrpcBatch:s,c=i.query,p=void 0===c?n.query:c;const f=(0,d.getDeviceGroupDeviceListPath)(e),h=await p({selection:void 0,path:f,th:o}),v=R(h),m=(0,r.difference)(t,v);if((0,r.isEmpty)(m))return v;const y=m.map(G(e,o));return u({requests:y})};t._addValues=k,t.addDevicesToGroup=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.funcs,l=void 0===a?{}:a,i=l.addValuesFunc,u=void 0===i?k:i,c=l.createAllowExists,p=void 0===c?n.createAllowExists:c,m=l.loadDeviceGroupsFunc,y=void 0===m?P:m,b=l.writeThunk,g=void 0===b?s.write:b;return async o=>{o(f(t));const n=(0,d.getDeviceGroupDeviceListPath)(t);try{const a=(await o(g())).th;await p({path:n,th:a});const l=await u(t,e,a);if((0,r.isNonEmptyArray)(l)&&l[0].error)throw l[0].error;return await o(y()),o(h(t))}catch(e){return o(v(t,e))}}};const j=(e,t)=>o=>({method:"delete",params:{th:t,path:`${e}{${o}}`}});t.removeDevicesFromGroup=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.funcs,l=void 0===a?{}:a,i=l.loadDeviceGroupsFunc,u=void 0===i?P:i,c=l.query,p=void 0===c?n.query:c,f=l.jsonrpcBatch,h=void 0===f?n.jsonrpcBatch:f,v=l.writeThunk,m=void 0===v?s.write:v;return async o=>{o(w(t));try{const n=(await o(m())).th,a=(0,d.getDeviceGroupDeviceListPath)(t),l=await p({path:a,th:n}),i=R(l),s=(0,r.intersect)(i,e);if(!(0,r.isNonEmptyArray)(s))return o(O(t,[]));const c=s.map(j(a,n)),f=await h({requests:c});if((0,r.isNonEmptyArray)(f)&&f[0].error)throw f[0].error;return await o(u()),o(O(t,s))}catch(e){return o(_(t,e))}}};const I=/^(\/ncs:devices\/device\{([^}]+)\}).*/;t.loadModules=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.funcs,r=void 0===o?{}:o,a=r.readThunk,l=void 0===a?s.read:a,i=r.query,u=void 0===i?n.query:i;return t=>{const o=I.exec(e);if(!o)return Promise.resolve();const n=`${o[1]}/module`;return t(g(n)),t(l()).then((e=>{let t=e.th;return u({th:t,selection:["name"],path:n})})).then((e=>t(D(n,e.results.map((e=>e[0])))))).catch((e=>t(E(n,e))))}},t.addDevice=e=>{let t=e.createPath,o=e.chunkSize,n=e.offset,r=e.columnKey,a=e.sortorder,l=e.xpathExpression,s=e.funcs,u=void 0===s?{}:s,d=u.createDisallowExistsThunk,c=void 0===d?i.createDisallowExistsThunk:d,p=u.getDevicesThunk,f=void 0===p?L:p;return e=>e(c({path:t})).then((t=>t.error?t:e(f({chunkSize:o,offset:n,columnKey:r,sortorder:a,xpathExpression:l}))))}},24733:(e,t,o)=>{o.r(t),o.d(t,{default:()=>n});const n={input:"ZsjiB5_O8cUNXw0z30Oa"}}}]);