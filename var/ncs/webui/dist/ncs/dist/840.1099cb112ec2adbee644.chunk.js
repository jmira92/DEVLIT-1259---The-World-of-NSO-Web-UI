"use strict";(self.webpackChunkwebui=self.webpackChunkwebui||[]).push([[840],{21966:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(a(67294)),n=o(a(45697));function o(e){return e&&e.__esModule?e:{default:e}}const l=e=>{let t=e.kind,a=e.type;if(t)return r.default.createElement("div",null,r.default.createElement("p",{style:{fontSize:"0.8em"}},"Not Supported:"),r.default.createElement("p",{style:{fontSize:"0.6em"}},t));const n=a?`${a.namespace}:${a.name}`:":";return r.default.createElement("div",null,r.default.createElement("p",{style:{fontSize:"0.8em"}},"Not Supported:"),r.default.createElement("p",{style:{fontSize:"0.6em"}},n))};l.propTypes={kind:n.default.string,type:n.default.shape({namespace:n.default.string,name:n.default.string})};var s=l;t.default=s},93624:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._onChange=t.default=void 0;var r=s(a(67294)),n=s(a(45697)),o=s(a(56792)),l=s(a(74124));function s(e){return e&&e.__esModule?e:{default:e}}const u=(e,t,a)=>(e[t]=void 0!==a&&a,Object.keys(e).filter((t=>!0===e[t])).join(" "));function i(e){let t=e.editable,a=e.options,n=e.onSetValue,s=e.value,i=e.isLoading;const d={};for(const e of a)d[e]=!1;return""!==s&&(s.includes(" ")?s.split(" ").forEach((e=>{d[e]=!0})):s.includes(",")?s.split(",").forEach((e=>{d[e]=!0})):d[s]=!0),r.default.createElement("div",{style:t?l.default.wrapper:l.default.disabledWrapper},a.map(((e,a)=>r.default.createElement("div",{key:`checkbox-wrapper-${a}`,style:l.default.row,"data-handle":e},r.default.createElement(o.default,{name:`${e}-checkbox`,editable:t&&!i,value:d[e],onSetValue:t=>n(u(d,e,t)),style:t?l.default.select:l.default.disabledSelect,key:`checkbox-${a}`},r.default.createElement("span",{key:`checkbox-span-${a}`,style:l.default.span},e))))))}t._onChange=u,i.propTypes={editable:n.default.bool,options:n.default.arrayOf(n.default.string).isRequired,onSetValue:n.default.func,value:n.default.oneOfType([n.default.string,n.default.bool]),isLoading:n.default.bool},i.defaultProps={options:[],value:"",onSetValue:()=>null};var d=i;t.default=d},4087:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(67294)),n=l(a(45697)),o=l(a(59217));function l(e){return e&&e.__esModule?e:{default:e}}class s extends r.default.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.onFocus=this.onFocus.bind(this),this.onChange=this.onChange.bind(this),this.onSetValue=this.onSetValue.bind(this),this.state={hasFocus:!1,isModified:!1,localNewValue:e.value}}componentDidMount(){this.setState({hasFocus:!1})}shouldComponentUpdate(e,t){const a=e.editable,r=e.error,n=e.isDefaultValue,o=e.isLoading,l=e.value,s=this.props,u=s.editable,i=s.error,d=s.isDefaultValue,c=s.isLoading,f=s.value,p=t.hasFocus,h=t.localNewValue,y=this.state,v=y.hasFocus,m=y.localNewValue;return l!==f||n!==d||a!==u||r!==i||o!==c||h!==m||p!==v}componentDidUpdate(e){const t=this.props,a=t.value,r=t.error,n=this.state,o=n.hasFocus,l=n.localNewValue;o||e.value!==l&&!r||this.setState({localNewValue:a})}handleKeyDown(e){const t=this.props.value;e.persist(),"Escape"===e.key&&this.setState({localNewValue:t,isModified:!1},(()=>{e.target.blur()}))}onChange(e){(0,this.props.onChange)(e.target.value),this.setState({localNewValue:e.target.value,isModified:!0})}onFocus(){const e=this.props.value;this.setState({hasFocus:!0,isModified:!1,localNewValue:e})}onSetValue(e){const t=this.props,a=t.onSetValue,r=t.value,n=this.state,o=n.localNewValue,l=n.isModified;(o!==r||l)&&a(e.target.value),this.setState({hasFocus:!1,isModified:!1})}textAreaStyle(){const e=this.props,t=e.editable,a=e.error;return t?a?o.default.textAreaError:o.default.textArea:o.default.textAreaReadOnly}render(){const e=this.props,t=e.name,a=e.editable,n=e.isDefaultValue,o=e.autoFocus,l=this.state,s=l.hasFocus,u=l.localNewValue,i=n&&!s?`(${u})`:u,d=this.textAreaStyle();return r.default.createElement("textarea",{autoFocus:o,"data-handle":t,readOnly:!a,style:d,value:i,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onSetValue,onKeyDown:this.handleKeyDown})}}s.propTypes={autoFocus:n.default.bool,editable:n.default.bool,error:n.default.shape(Object),isDefaultValue:n.default.bool,isLoading:n.default.bool,name:n.default.string,onChange:n.default.func,onSetValue:n.default.func,value:n.default.string},s.defaultProps={value:"",isDirty:!1,onChange:()=>null,onSetValue:()=>null};var u=s;t.default=u},59217:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=n(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=o?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(r,l,s):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}(a(72377));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(n=function(e){return e?a:t})(e)}const o={backgroundColor:r.color3,color:r.textColor5,fontSize:r.medium2,width:"100%",lineHeight:"1.86",padding:"0.125rem 0.5rem",border:`solid 1px ${r.color7}`,boxSizing:"border-box",minHeight:"2rem",height:"5rem"};var l={textArea:o,textAreaReadOnly:{...o,backgroundColor:r.color11,border:`solid 1px ${r.color11}`,padding:"0.125rem 0"},textAreaError:{...o,border:`solid 1px${r.color5}`}};t.default=l},91495:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(a(67294)),n=u(a(45697)),o=u(a(46880)),l=a(25743),s=u(a(58805));function u(e){return e&&e.__esModule?e:{default:e}}class i extends r.default.Component{constructor(e){super(e),this.onBlur=this.onBlur.bind(this),this.onChange=this.onChange.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.state={activeSuggestionIx:0,backspace:!1,draftValue:e.value,error:void 0,hasFocus:!1,suggestions:["00:00:00","23:59:59"]}}static getDerivedStateFromProps(e,t){const a=e.value,r=e.isLoading,n=t.hasFocus,o=t.draftValue;return n||r||a===o?null:{draftValue:a}}shouldComponentUpdate(e,t){const a=e.editable,r=e.isLoading,n=t.error,o=t.value,l=this.state,s=l.error,u=l.draftValue,i=this.props,d=i.editable,c=i.isLoading;return a!==d||r!==c||n!==s||o!==u}handleSetValue(){const e=this.props,t=e.onSetValue,a=e.value,r=this.state.draftValue;r!==a&&t(r)}onBlur(){this.setState({showSuggestions:!1,hasFocus:!1}),this.handleSetValue()}onChange(e){const t=this.state.backspace;let a,r=e.target.value,n=(0,l.parse)(r),o=!1;n&&n.duplicateSeparator||(!t&&n&&n.separator&&!r.endsWith(n.separator)&&(r=`${r}${n.separator}`,n=(0,l.parse)(r)),n&&n.state&&n.state===l.stateSymbols.DAY_HOUR_SEP&&(o=!0),n&&n.error&&(a=n.error),this.setState({error:a,showSuggestions:o,draftValue:r}))}onFocus(){this.setState({hasFocus:!0})}onKeyDown(e){const t=this.props.value,a=this.state,r=a.activeSuggestionIx,n=a.draftValue,o=a.showSuggestions,s=a.suggestions;if(e.persist(),"Enter"!==e.key&&"Tab"!==e.key||(o?this.setState({showSuggestions:!1,activeSuggestionIx:0,draftValue:`${n}${s[r]}`}):this.setState({draftValue:(0,l.autoComplete)(n)})),"Escape"===e.key&&this.setState({showSuggestions:!1,activeSuggestionIx:0,draftValue:t},(()=>e.target.blur())),"Backspace"===e.key?this.setState({backspace:!0}):this.setState({backspace:!1}),"ArrowUp"===e.key&&o){if(0===r)return;this.setState({activeSuggestionIx:r-1})}if("ArrowDown"===e.key&&o){if(r-1>=s.length)return;this.setState({activeSuggestionIx:r+1})}}getInputStyle(){const e=this.props.editable,t=this.state.error;return e?t?o.default.error:o.default.input:o.default.inputFieldReadOnly}render(){const e=this.props,t=e.autoFocus,a=e.editable,n=e.name,l=this.state,u=l.activeSuggestionIx,i=l.draftValue,d=l.showSuggestions,c=l.suggestions,f=this.getInputStyle();return r.default.createElement("div",{style:o.default.relative},r.default.createElement("div",{style:a?o.default.wrapper:o.default.wrapperReadOnly,"data-handle":`date-and-time-${n}`},r.default.createElement("input",{autoFocus:t,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus,onKeyDown:this.onKeyDown,placeholder:"yyyy-mm-ddThh:mm:ss",readOnly:!a,style:f,type:"text",value:i})),r.default.createElement(s.default,{showSuggestions:d,draftValue:i,suggestions:c,activeSuggestionIx:u}))}}i.propTypes={autoFocus:n.default.bool,editable:n.default.bool,isLoading:n.default.bool,name:n.default.string,value:n.default.string,onSetValue:n.default.func},i.defaultProps={value:""};var d=i;t.default=d},46880:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=n(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=o?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(r,l,s):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}(a(72377));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(n=function(e){return e?a:t})(e)}const o={backgroundColor:r.color3,color:r.textColor5,fontSize:r.medium2,width:"100%",lineHeight:"1.86",padding:"0.125rem 0.5rem",border:"none",boxSizing:"border-box"},l={padding:"0.175rem 0.5rem",cursor:"pointer",overflow:"hidden",wordWrap:"break-word",whiteSpace:"normal",lineHeight:"0.9rem",textIndent:"-0.3rem"};var s={error:{...o,padding:"0.1rem 0.475rem",border:"0.025rem solid red"},relative:{},wrapper:{display:"flex",border:"1px solid rgb(232, 235, 241)"},wrapperReadOnly:{display:"flex",border:"0px"},input:o,suggestion:l,suggestionActive:{...l,backgroundColor:r.color11},inputFieldReadOnly:{...o,backgroundColor:r.color11,padding:"0.125rem 0"},listbox:{border:"1px solid #ccc",backgroundColor:r.backgroundColor1,position:"absolute",width:"90%",zIndex:1}};t.default=s},58805:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(67294)),n=l(a(45697)),o=l(a(46880));function l(e){return e&&e.__esModule?e:{default:e}}const s=e=>{let t=e.showSuggestions,a=e.draftValue,n=e.suggestions,l=e.activeSuggestionIx;if(!0!==t)return null;if(void 0===n)return null;const s=n.map(((e,t)=>t===l?r.default.createElement("li",{"data-handle":"active-suggestion",key:t,style:o.default.suggestionActive},`${a}${e}`):r.default.createElement("li",{key:t,style:o.default.suggestion},`${a}${e}`)));return r.default.createElement("ul",{style:o.default.listbox},s)};s.propTypes={showSuggestions:n.default.bool,draftValue:n.default.string,suggestions:n.default.arrayOf(n.default.string),activeSuggestionIx:n.default.number};var u=s;t.default=u},25743:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.autoComplete=t.parse=t.createDateFsm=t.stateSymbols=void 0;var r,n=(r=a(21749))&&r.__esModule?r:{default:r};const o=Symbol("START"),l=Symbol("YEAR_1D"),s=Symbol("YEAR_2D"),u=Symbol("YEAR_3D"),i=Symbol("YEAR_4D"),d=Symbol("YEAR_MONTH_SEP"),c=Symbol("MONTH_1D"),f=Symbol("MONTH_2D"),p=Symbol("MONTH_DAY_SEP"),h=Symbol("DAY_1D"),y=Symbol("DAY_2D"),v=Symbol("DAY_HOUR_SEP"),m=Symbol("HOUR_1D"),g=Symbol("HOUR_2D"),b=Symbol("HOUR_MIN_SEP"),S=Symbol("MIN_1D"),_=Symbol("MIN_2D"),O=Symbol("ERROR"),E=Symbol("MIN_SEC_SEP"),D=Symbol("SEC_1D"),P=Symbol("SEC_2D"),M=Symbol("ZERO_TZ"),w=Symbol("PLUS_TZ_SEP"),L=Symbol("MINUS_TZ_SEP"),C=Symbol("TZ_HOUR_1D"),k=Symbol("TZ_HOUR_2D"),V=Symbol("TZ_HOUR_MIN_SEP"),j=Symbol("TZ_MIN_1D"),x=Symbol("TZ_MIN_2D"),A={START:o,YEAR_1D:l,YEAR_2D:s,YEAR_3D:u,YEAR_4D:i,YEAR_MONTH_SEP:d,MONTH_1D:c,MONTH_2D:f,MONTH_DAY_SEP:p,DAY_1D:h,DAY_2D:y,DAY_HOUR_SEP:v,HOUR_1D:m,HOUR_2D:g,HOUR_MIN_SEP:b,MIN_1D:S,MIN_2D:_,ERROR:O,MIN_SEC_SEP:E,SEC_1D:D,SEC_2D:P,ZERO_TZ:M,PLUS_TZ_SEP:w,MINUS_TZ_SEP:L,TZ_HOUR_1D:C,TZ_HOUR_2D:k,TZ_HOUR_MIN_SEP:V,TZ_MIN_1D:j,TZ_MIN_2D:x};t.stateSymbols=A;const T=e=>{switch(e){case i:case f:return"-";case y:return"T";case g:case _:return":";default:return}},R=(e,t)=>e===O?{next:e,value:{value:t,error:!0}}:{next:e,value:{...t,state:e,separator:T(e)}},F=e=>/^\d$/.test(e),I=e=>"0"===e,N=e=>"1"===e,$=e=>"-"===e,W=e=>":"===e,H=e=>"T"===e,U=(e,t)=>new RegExp(`^${e}$`).test(t),K=()=>{const e={[o]:e=>F(e)?R(l,{value:e}):R(O,e),[l]:e=>F(e)?R(s,{value:e}):R(O,e),[s]:e=>F(e)?R(u,{value:e}):R(O,e),[u]:e=>F(e)?R(i,{value:e}):R(O,e),[i]:e=>$(e)?R(d,{value:e}):R(O,e),[d]:e=>$(e)?R(d,{value:e,duplicateSeparator:!0}):U("[01]",e)?R(c,{value:e}):R(O,e),[c]:(e,t)=>{const a=t.previousResult.value.value;return I(a)&&I(e)||N(a)&&!U("[012]",e)?R(O,e):F(e)?R(f,{value:e}):R(O,e)},[f]:e=>$(e)?R(p,{value:e}):R(O,e),[p]:e=>$(e)?R(p,{value:e,duplicateSeparator:!0}):U("[0123]",e)?R(h,{value:e}):R(O,e),[h]:(e,t)=>{const a=t.previousResult.value.value;return I(a)&&I(e)?R(O,e):("3"!==a||U("[01]",e))&&F(e)?R(y,{value:e}):R(O,e)},[y]:e=>H(e)?R(v,{value:e}):R(O,e),[v]:e=>H(e)?R(v,{value:e,duplicateSeparator:!0}):U("[012]",e)?R(m,{value:e}):R(O,e),[m]:(e,t)=>("2"!==t.previousResult.value.value||U("[0123]",e))&&F(e)?R(g,{value:e}):R(O,e),[g]:e=>W(e)?R(b,{value:e}):R(O,e),[b]:e=>W(e)?R(b,{value:e,duplicateSeparator:!0}):U("[012345]",e)?R(S,{value:e}):R(O,e),[S]:e=>F(e)?R(_,{value:e}):R(O,e),[_]:e=>W(e)?R(E,{value:e}):R(O,e),[E]:e=>W(e)?R(E,{value:e,duplicateSeparator:!0}):U("[012345]",e)?R(D,{value:e}):R(O,e),[D]:e=>F(e)?R(P,{value:e}):R(O,e),[P]:e=>"Z"===e?R(M,{value:e}):"+"===e?R(w,{value:e}):"-"===e?R(L,{value:e}):R(O,e),[M]:e=>R(O,e),[w]:e=>U("[01]",e)?R(C,{value:e}):R(O,e),[L]:e=>U("[01]",e)?R(C,{value:e}):R(O,e),[C]:(e,t)=>{const a=t.previousResult.value.value;return N(a)&&!U("[01234]",e)?R(O,e):F(e)?R(k,{value:e}):R(O,e)},[k]:e=>W(e)?R(V,{value:e}):U("[012345]",e)?R(j,{value:e}):R(O,e),[V]:e=>U("[012345]",e)?R(j,{value:e}):R(O,e),[j]:e=>F(e)?R(x,{value:e}):R(O,e),[x]:e=>R(O,e),[O]:()=>({next:O})};return(0,n.default)(o,e)};t.createDateFsm=K;const Y=e=>{const t=K();return[...e].reduce(((e,a)=>{if(e&&e.error)return e;const r=t.next(a),n=r.value.value,o=e.parsedValue?`${e.parsedValue}${n}`:`${n}`;return{...r.value,parsedValue:o}}),{})};t.parse=Y,t.autoComplete=e=>{const t=Y(e);return t.state===d?`${e}01-01T00:00:00`:t.state===i?`${e}-01-01T00:00:00`:t.state===p?`${e}01T00:00:00`:t.state===f?`${e}-01T00:00:00`:t.state===y?`${e}T00:00:00`:t.state===b?`${e}00:00`:t.state===g?`${e}:00:00`:t.state===E?`${e}00`:t.state===_?`${e}:00`:t.state===L||t.state===w?`${e}00:00`:t.state===V?`${e}00`:t.state===k?`${e}:00`:e}},68513:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=v,t.mapOptionsToResult=t.getOptions=t.buildXpath=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(67294)),n=u(a(45697)),o=a(2752),l=u(a(70567)),s=a(33863);function u(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o=[],l=!0,s=!1;try{for(a=a.call(e);!(l=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){s=!0,n=e}finally{try{l||null==a.return||a.return()}finally{if(s)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const f={error:{border:"2px solid red"}},p=(e,t,a)=>{const r=e.split("/"),n=r.pop(),o=a.split(" ").filter((e=>e)).map((e=>`(${(e=>t.map((t=>`contains(${t}, "${e}")`)).join(" or "))(e)})`)).join(" and ");return{contextNode:r.join("/"),xpathExpr:`${n}[${o}]`}};t.buildXpath=p;const h=(e,t)=>e.map((e=>t.map((t=>e[t])).map((e=>e.value)).join(" "))).map((e=>({value:e,text:e})));t.getOptions=h;const y=(e,t)=>e.reduce(((e,a,r)=>({...e,[a.value]:t[r]})),{});function v(e){let t=e.onSetValue,a=e.path,n=e.selection,u=e.value,i=e.disabled,c=e.funcs,v=(void 0===c?{}:c).query,m=void 0===v?o.queryAndZipResult:v;const g=d((0,r.useState)(""),2),b=g[0],S=g[1],_=d((0,r.useState)(""),2),O=_[0],E=_[1],D=d((0,r.useState)(""),2),P=D[0],M=D[1],w=b?p(a,n,b):{},L=w.contextNode,C=w.xpathExpr,k=(0,r.useCallback)((async e=>{let t=e.signal;return m({chunkSize:10,contextNode:L,path:a,resultAs:"keypath-value",selection:n,signal:t,xpathExpr:C})}),[m,L,a,n,C]);(0,r.useEffect)((()=>{void 0!==u&&u!==b&&E(u)}),[b,u]);const V=(0,s.useFetch)({asyncFunc:k}),j=(0,r.useMemo)((()=>V&&V.data&&V.data.result||[]),[V]),x=(0,r.useMemo)((()=>h(j,n)),[j,n]),A=y(x,j);return r.default.createElement("div",{style:P?f.error:{}},r.default.createElement(l.default,{isLoading:V.isLoading,editable:!(i||!x.length&&""===b),maxLimit:10,name:a,onChange:S,onSetValue:e=>{S(e),E(e),A[e]?(M(""),t({value:O,result:A[e]})):M(e)},options:x,value:O,filterOptions:e=>e}))}t.mapOptionsToResult=y,v.propTypes={disabled:n.default.bool,onSetValue:n.default.func.isRequired,path:n.default.string.isRequired,selection:n.default.arrayOf(n.default.string),value:n.default.string,funcs:n.default.shape({query:n.default.func})}},33863:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._initialState=t.useFetch=void 0;var r=a(67294);function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const o={isLoading:!1,data:null,error:null};t._initialState=o,t.useFetch=e=>{let t=e.asyncFunc;const a=(u=(0,r.useState)(o),i=2,function(e){if(Array.isArray(e))return e}(u)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o=[],l=!0,s=!1;try{for(a=a.call(e);!(l=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){s=!0,n=e}finally{try{l||null==a.return||a.return()}finally{if(s)throw n}}return o}}(u,i)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(u,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],s=a[1];var u,i;return(0,r.useEffect)((()=>{const e=new AbortController,a=e.signal,r=e=>{s((t=>({...t,...e})))};return async function(){try{r({isLoading:!0});const e=await t({signal:a});a.aborted||r({isLoading:!1,data:e})}catch(e){a.aborted||r({isLoading:!1,error:e})}}(),()=>{e.abort()}}),[t,s]),l}},21749:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=(e,t)=>{const a={...t};let r=e,n=!1;return{next(e){return Object.prototype.hasOwnProperty.call(a,r)?(t=a[r](e,a),a.previousState=r,r=t.next||r,n=!0===t.done,n&&Object.prototype.hasOwnProperty.call(t,"value")||(a.previousResult={value:t.value}),{value:t.value,done:n}):{value:void 0,done:!0};var t}}}},23438:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(a(67294)),n=s(a(45697)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(72377));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}const u=e=>{let t=e.symbolColor,a=e.borderColor,n=e.bgColor;return r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24",xmlSpace:"preserve"},r.default.createElement("circle",{stroke:a,fill:n,cx:"12",cy:"12",r:"11.5"}),r.default.createElement("path",{fill:t,d:"M18.5,13.2h-5.3v5.3h-2.4v-5.3H5.5v-2.4h5.3V5.5h2.3v5.3h5.4V13.2z"}))};u.propTypes={symbolColor:n.default.string,bgColor:n.default.string,borderColor:n.default.string},u.defaultProps={symbolColor:o.color3,bgColor:o.color1,borderColor:o.color1};var i=u;t.default=i},23789:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(a(67294)),n=s(a(45697)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(72377));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}const u=e=>{let t=e.symbolColor,a=e.borderColor,n=e.bgColor;return r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24",xmlSpace:"preserve"},r.default.createElement("circle",{stroke:a,fill:n,cx:"12",cy:"12",r:"11.5"}),r.default.createElement("path",{fill:t,d:"M18.5,13.2 v-2.4 h-13.2 v2.4z"}))};u.propTypes={symbolColor:n.default.string,bgColor:n.default.string,borderColor:n.default.string},u.defaultProps={symbolColor:o.color3,bgColor:o.color1,borderColor:o.color1};var i=u;t.default=i},84734:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._canValueBeDeleted=t._mapStateToProps=t._mapDispatchToProps=t._isDefaultValueHelper=t._LeafContainer=t.default=t.createLinkComponent=void 0;var r=b(a(67294)),n=b(a(45697)),o=a(36247),l=a(14172),s=a(46560),u=a(65050),i=a(97849),d=a(31687),c=a(93661),f=b(a(21595)),p=a(43488),h=a(43801),y=a(94030),v=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(72377)),m=a(87317);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}const S={color:v.color1,textDecoration:"none",lineHeight:"1.6rem"},_=(e,t)=>void 0!==e||void 0!==t;t._canValueBeDeleted=_;const O=(e,t,a,r)=>r?void 0!==a&&e===a:void 0!==a&&void 0===e&&void 0===t;t._isDefaultValueHelper=O;const E=e=>{let t=e.sourcePath;return()=>r.default.createElement(p.Link,{title:t,to:(0,h.getLinkWithPath)(t),style:S},"Source")};t.createLinkComponent=E;class D extends r.default.Component{constructor(e){super(e);const t=this.props.leafDepsNodes;this.state={leafDepsNodes:t}}componentDidMount(){if(this.props.isLeafref)return this.componentWillMountLeafref()}componentDidUpdate(){const e=this.props,t=e.isLeafref,a=e.isLoading,r=e.leafDepsNodes,n=e.loadingDepsNodes,o=e.onGetLeafrefValues,l=this.state.leafDepsNodes;t&&((e,t,a,r)=>!a&&!r&&!(0,s.isDeepEqual)(t.map((e=>(0,s.omitKeys)(e,["isLoading"]))),e.map((e=>(0,s.omitKeys)(e,["isLoading"])))))(l,r,a,n)&&(this.setState({leafDepsNodes:r}),o())}getLeaf(){const e=this.props,t=e.children,a=e.defaultValue,n=e.newValue,o=e.value,l=e.onSetValue,s=e.options,u=e.isOperdata,i=e.isEnum,d=O(o,n,a,u);let c=d?a:void 0===n?o:n;if(i&&c&&-1===s.indexOf(c)){const e=s.find((e=>c.endsWith(e)));e&&(c=e)}return r.default.cloneElement(t,{value:c,onSetValue:l,isDefaultValue:d,defaultValue:a})}getEmptyLeaf(){const e=this.props,t=e.children,a=e.exists,n=e.onCreate;return r.default.cloneElement(t,{exists:a,onCreate:n})}getLeafref(){const e=this.props,t=e.children,a=e.defaultValue,n=e.newValue,o=e.value,l=e.values,s=e.onChange,u=e.onSetValue,i=e.deps,d=e.sourcePath,c=e.isOperdata;let f;(0,y.isNonEmptyString)(d)&&(f=E({sourcePath:d}));const p=O(o,n,a,c),h={value:p?a:void 0===n?o:n,isDefaultValue:p,options:l.map((e=>({value:e}))),maxLimit:20,onChange:s,onSetValue:u,deps:i,LinkComponent:f};return r.default.cloneElement(t,h)}componentWillMountLeafref(){(0,this.props.onGetLeafrefValues)()}render(){const e=this.props,t=e.deletable,a=e.editable,n=e.error,o=e.exists,l=e.path,s=e.isDirty,u=e.isEditMode,i=e.isEmptyLeaf,d=e.isHidden,c=e.isLeafref,p=e.isLoading,h=e.isMandatory,y=e.isOperdata,v=e.name,m=e.newValue,g=e.onDelete,b=e.onHide,S=e.value;let O;O=i?this.getEmptyLeaf():c?this.getLeafref():this.getLeaf();const E=!h&&t&&a&&(i?o:_(S,m));return r.default.createElement(f.default,{error:n,canBeDeleted:E,path:l,isDirty:s,isEditMode:u,isHidden:d,isLoading:p,isMandatory:h,isOperdata:y,isEmptyLeaf:i,exists:o,name:v,onHide:b,onDelete:g},O)}}t._LeafContainer=D,D.propTypes={children:n.default.shape({}),deletable:n.default.bool,editable:n.default.bool,error:n.default.shape({}),exists:n.default.bool,deps:n.default.arrayOf(n.default.string),isEmptyLeaf:n.default.bool,isDirty:n.default.bool,isEnum:n.default.bool,isEditMode:n.default.bool,isHidden:n.default.bool,isLoading:n.default.bool,isLeafref:n.default.bool,isMandatory:n.default.bool,isOperdata:n.default.bool,leafDepsNodes:n.default.arrayOf(n.default.object),loadingDepsNodes:n.default.bool,name:n.default.string.isRequired,newValue:n.default.oneOfType([n.default.string,n.default.arrayOf(n.default.string),n.default.bool]),path:n.default.string,value:n.default.oneOfType([n.default.string,n.default.arrayOf(n.default.string),n.default.bool]),defaultValue:n.default.oneOfType([n.default.string,n.default.arrayOf(n.default.string),n.default.bool]),sourcePath:n.default.oneOfType([n.default.string,n.default.bool]),values:n.default.arrayOf(n.default.string),onChange:n.default.func,onCreate:n.default.func,onDelete:n.default.func,onHide:n.default.func.isRequired,onGetLeafrefValues:n.default.func,onSetValue:n.default.func,options:n.default.arrayOf(n.default.string)},D.defaultProps={info:[],values:[]};const P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r=t.error,n=t.isHidden,o=t.isLoading,l=e.newValue,s=e.value;return{error:r,isDirty:a,isHidden:n,isLoading:o,newValue:l,value:s}},M=(e,t,a)=>{const r=e.exists;return{...P(e,t,a),exists:r}},w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r=t.reloadValues,n=t.values,o=t.sourcePath;return{...P(e,t,a),reloadValues:r,values:n,sourcePath:o}},L=(e,t)=>{const a=t.deps,r=t.dependants,n=t.isEmptyLeaf,o=t.isLeafref,l=t.path,s=(0,i.selectConfigForPath)(e,l)||{},d=(0,u.selectNode)(e,l),f=(0,u.selectDirty)(e,l),p=(0,c.selectIsEditMode)(e);if(n)return{...M(s,d,f),isEditMode:p,dependants:r};if(o){const t=(0,u.selectDepNodes)(e,l,a),n=t.some((e=>e&&!0===e.isLoading));return{...w(s,d,f),loadingDepsNodes:n,isEditMode:p,leafDepsNodes:t,dependants:r}}return{...P(s,d,f),isEditMode:p,dependants:r}};t._mapStateToProps=L;const C=(e,t)=>{const a=t.caseAncestors,r=t.dependants,n=t.path,o=t.isConfigFalseCallpoint;return{onDelete:()=>e((0,d.deleteThunk)({caseAncestors:a,dependants:r,path:n})),onSetValue:t=>e((0,d.setValueThunk)({caseAncestors:a,dependants:r,path:n,value:t})),onGetValue(){e((0,d.getValueThunk)({path:n,isConfigFalseCallpoint:o}))},onHide(a){e((0,l.hideAction)(t.path,a))},dispatch:e}},k=(e,t)=>t.isEmptyLeaf?((e,t)=>{const a=t.caseAncestors,r=t.dependants,n=t.exists,o=t.path;return{onCreate(){e((0,d.createThunk)({caseAncestors:a,dependants:r,path:o}))},onDelete:()=>e((0,d.deleteThunk)({caseAncestors:a,dependants:r,path:o})),onExists(){e((0,d.existsThunk)({caseAncestors:a,dependants:r,exists:n,path:o}))},onHide(a){e((0,l.hideAction)(t.path,a))},dispatch:e}})(e,t):t.isLeafref?((e,t)=>{const a=(0,m.debounceFunction)({milliseconds:300,waitWhileSpammed:!0});return{...C(e,t),onGetLeafrefValues(){e((0,l.getLeafrefValuesThunk)({path:t.path,startsWith:"",limit:21}))},onChange(r){a((()=>e((0,l.getLeafrefValuesThunk)({path:t.path,startsWith:r,limit:21}))))}}})(e,t):C(e,t);t._mapDispatchToProps=k;var V=(0,o.connect)(L,k)(D);t.default=V},15362:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getLeafWidget=void 0;var r=g(a(67294)),n=m(a(39562)),o=g(a(70567)),l=g(a(91495)),s=g(a(20640)),u=g(a(93624)),i=g(a(8544)),d=g(a(39740)),c=g(a(4087)),f=a(18093),p=m(a(77495)),h=m(a(78161)),y=g(a(21966));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}function g(e){return e&&e.__esModule?e:{default:e}}const b=e=>n.isCliMultilinePrompt(e)||n.isCliPreformatted(e);t.getLeafWidget=(e,t,a,v)=>{if(((e,t)=>(e.widgetKind||(0,f.getWidgetKind)(e))===p.KIND_KEY&&!t||n.isOper(e)||!n.canUpdate(e))(t,a)||v)return r.default.createElement(i.default,null);const m=n.suppressEcho(t);switch(t.widgetType||(0,f.getWidgetType)(t)){case h.LEAF_BINARY:return r.default.createElement(c.default,{editable:!0,key:e});case h.LEAF_BITS:return r.default.createElement(u.default,{key:e,editable:!0,options:n.bits(t)});case h.LEAF_BOOLEAN:return r.default.createElement(d.default,{key:e,editable:!0,options:["true","false"]});case h.LEAF_DATE_AND_TIME:return r.default.createElement(l.default,{key:e,editable:!0});case h.LEAF_ENUMERATION:return r.default.createElement(d.default,{key:e,editable:!0,options:n.enumerationOptions(t).map((e=>e.label)),optionsInfo:n.enumerationOptions(t).map((e=>e.info))});case h.LEAF_NOT_SUPPORTED:case h.LEAF_NUMBER:case h.LEAF_STRING:return b(t)?r.default.createElement(c.default,{key:e,editable:!0,suppressEcho:m}):r.default.createElement(s.default,{key:e,editable:!0,suppressEcho:m});case h.LEAF_RANGE:{const a=`Valid range: ${n.rangeAsText(t)}`;return b(t)?r.default.createElement(c.default,{key:e,editable:!0,placeholder:a,suppressEcho:m}):r.default.createElement(s.default,{key:e,editable:!0,placeholder:a,suppressEcho:m})}case h.LEAF_UNION:{const a=n.unionOptions(t).map((e=>({value:e.label,text:e.info}))),l=n.name(t);return r.default.createElement(o.default,{key:e,name:l,editable:!0,options:a,type:h.LEAF_UNION})}default:return r.default.createElement(y.default,{key:e,kind:n.kind(t)})}}},67528:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=h(a(67294)),n=h(a(45697)),o=h(a(54134)),l=a(51301),s=h(a(52323)),u=h(a(47403)),i=a(17718),d=a(40801),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(72377)),f=h(a(49205));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const v=(e,t)=>e.every((e=>t[e]));class m extends r.default.Component{constructor(e){super(e),this.handleModalConfirm=this.handleModalConfirm.bind(this),this.handleSetValue=this.handleSetValue.bind(this),this.handleLoad=this.handleLoad.bind(this),this.state={values:{},keypaths:[],isValid:{},keypath:""},this.hasLoaded=!1}handleLoad(e){let t=e.path,a=e.hasInput;const r=this.getCurrentRootPath(t);this.setState((e=>({...e,isValid:{...e.isValid,[r]:!a},keypath:!a&&e.keypath.length<t.length?t:e.keypath})))}handleModalConfirm(){const e=this.props,t=e.onConfirm,a=e.paths,r=this.state,n=r.values,o=r.keypath,l=n[[...a].pop()]||[],s=(0,i.getDataFromValueItems)(l);return t(o||[...a].pop(),s)}handleSetValue(e,t,a){const r=this.props.paths,n=this.getCurrentRootPath(e);this.setState((o=>({...o,values:{...o.values,[n]:t},keypaths:r.map(((t,a)=>n.length<t.length?t.replace(n,e):o.keypaths[a]||r[a])),keypath:e,isValid:{...r.slice(r.indexOf(n)+1).reduce(((e,t)=>({...e,[t]:!1})),o.isValid),[n]:a}})))}getCurrentRootPath(e){const t=this.props.paths;return(0,d.pathWithoutKeys)(e).replace((0,d.pathWithoutKeys)(t[0]),t[0])}render(){const e=this.props,t=e.title,a=e.closeOnConfirm,n=e.onClose,i=e.paths,d=e.error,p=e.isLoading,h=this.state,m=h.keypaths,g=h.isValid,b=i.length-1;return r.default.createElement(o.default,{title:t,shouldRender:!0,onRequestClose:n,onConfirm:this.handleModalConfirm,closeOnConfirm:a,formIsValid:v(i,g),"data-handle":"modal-title",preventAutofocus:!0},i.map(((e,t)=>{const a=m[t]||e,n=((e,t,a)=>0===e||t.slice(0,e).every((e=>a[e])))(t,i,g);return r.default.createElement(s.default,{key:a+n,path:a},r.default.createElement(u.default,y({},this.props,{key:a,isActive:n,isParent:b!==t,onLoad:this.handleLoad,onSetValue:this.handleSetValue,path:m[t]||e})))})),d&&r.default.createElement("div",{"data-handle":"error",style:l.error},d),p&&r.default.createElement(f.default,{color:c.color9}))}}m.propTypes={closeOnConfirm:n.default.bool,isLoading:n.default.bool,error:n.default.string,onClose:n.default.func,onConfirm:n.default.func,paths:n.default.arrayOf(n.default.string),title:n.default.string};var g=m;t.default=g},47403:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._selectChildrenForInputFilter=t._mapStateToProps=t._mapDispatchToProps=t._getPartialKey=t._getChildrenAsObject=t._formIsValid=t._childrenForInputWithKeypath=t._SchemaInputContainer=t.default=t.KEY_PLACEHOLDER=void 0;var r=M(a(67294)),n=M(a(45697)),o=a(36247),l=M(a(70567)),s=M(a(68513)),u=a(51301),i=a(98883),d=a(40801),c=P(a(39562)),f=a(46560),p=a(15362),h=a(84734),y=P(a(14172)),v=a(18093),m=a(65050),g=a(94030),b=a(99531),S=a(87317),_=a(17718),O=a(43488),E=a(43801);function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(D=function(e){return e?a:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=D(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}function M(e){return e&&e.__esModule?e:{default:e}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const L="___KEY_PLACEHOLDER___";t.KEY_PLACEHOLDER=L;const C=(e,t)=>{if(!t)return!1;if((0,b.isEmptyArray)(t))return!0;if(!e)return!1;const a=Object.entries(e);return 0!==a.length&&a.reduce(((e,a)=>{let r=(s=2,function(e){if(Array.isArray(e))return e}(l=a)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o=[],l=!0,s=!1;try{for(a=a.call(e);!(l=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){s=!0,n=e}finally{try{l||null==a.return||a.return()}finally{if(s)throw n}}return o}}(l,s)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?w(e,t):void 0}}(l,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],o=r[1];var l,s;const u=void 0===o||""===o,i=t.some((e=>e===n));return(!u||!i)&&e}),!0)};t._formIsValid=C;const k=(e,t)=>e.reduce(((e,a)=>{const r=c.name(a);return e[r]={value:t[r],kind:c.kind(a)},e}),{});t._getChildrenAsObject=k;const V=(e,t)=>t.reduce(((t,a)=>{const r=a.path.replace((0,d.pathWithoutKeys)(e),e);return t.push({...a,path:r}),t}),[]);t._childrenForInputWithKeypath=V;const j=(e,t)=>{const a=e.filter((e=>c.isKey(e))).slice(0,-1).map((e=>(0,i.quoteKey)(((e,t)=>{const a=t[c.name(e)];return a||(""===a&&"string"===c.typeName(e)?"":L)})(e,t)))),r=a.reduceRight(((e,t,a)=>void 0!==e?e:t!==L?a:void 0),void 0);return void 0===r?"":a.slice(0,r+1).join(" ")};t._getPartialKey=j;class x extends r.default.Component{constructor(e){super(e),this.handleSetLeafRefValue=this.handleSetLeafRefValue.bind(this),this.handleSetValue=this.handleSetValue.bind(this),this.handleSetKeypath=this.handleSetKeypath.bind(this),this.getLeaf=this.getLeaf.bind(this),this.callGetLeafrefValues=(0,S.debounceFunction)({milliseconds:300,waitWhileSpammed:!0}),this.state={values:void 0},this.hasLoaded=!1}static getDerivedStateFromProps(e,t){const a=e.childrenForInput;return t.values||!a||a.length<1?null:{values:a.reduce(((e,t)=>({...e,[c.name(t)]:void 0})),{})}}componentDidMount(){const e=this.props,t=e.childrenForInput,a=e.onLoad,r=e.schema,n=e.path;t&&t.length>0&&this.getLeafrefChildren(),a({path:n,hasInput:c.isList(r)})}shouldComponentUpdate(e,t){const a=this.props,r=a.childrenForInput,n=a.nodes,o=a.path,l=a.schema,s=a.isActive,u=this.state.values;return!(s===e.isActive&&o===e.path&&(0,f.isDeepEqual)(r,e.childrenForInput)&&(0,f.isDeepEqual)(n,e.nodes)&&(0,f.isDeepEqual)(l,e.schema)&&(0,f.isDeepEqual)(u,t.values))}componentDidUpdate(e){const t=this.props.childrenForInput;(0,f.isDeepEqual)(e.childrenForInput,t)||this.getLeafrefChildren()}handleSetKeypath(e){let t=e.result;const a=(Object.values(t).pop()||{}).keypath;(0,this.props.onSetValue)((0,d.pathToObjects)(a).pop().parentPath,[],!0)}handleSetLeafRefValue(e,t,a){const r=this.props,n=r.onGetLeafrefValues,o=r.childrenForInput,l=r.path,s=this.handleSetValue(e,t).values;if(!a)return this.callGetLeafrefValues((()=>{const e=j(o,s);o.forEach((t=>{if(c.isLeafRef(t)){const a=c.name(t),r=s[a],o=`${l}{${e}}/${a}`;n(t.path,o,r)}}))})),this.callGetLeafrefValues}handleSetValue(e,t){const a=this.props,r=a.childrenForInput,n=a.path,o=a.schema,l=a.onSetValue,s=this.state.values,u={...this.state,values:{...s,[e]:t}};this.setState(u);const i=u.values,d=k(r,i),f=`${n}{${(0,_.getKeyValue)(d,!1)}}`,p=c.key(o)||[];return l(f,d,C(r,p)),u}getLeafrefChildren(){const e=this.props,t=e.childrenForInput,a=e.onGetLeafrefValues;t.forEach((e=>{c.isLeafRef(e)&&a(e.path,e.path)}))}getChildren(e){return e&&e.map(((e,t)=>this.getLeaf(e.path,e,t)))}getLeaf(e,t,a){const n=this.props,o=n.nodes,s=n.isActive,i=this.state.values,d=c.name(t),f=s&&0===a,y=o[a].sourcePath,v=((e,t)=>e?(e[t].values||[]).map((e=>({value:e}))):[])(o,a);let m,b;if((0,g.isNonEmptyString)(y)&&(b=(0,h.createLinkComponent)({sourcePath:y})),c.isLeafRef(t)){const a=e=>this.handleSetLeafRefValue(d,e,c.isLeafList(t));m=r.default.createElement(l.default,{autoFocus:f,maxLimit:20,options:v,key:e,LinkComponent:b,name:d,value:i[d]||"",editable:s,onChange:a,onSetValue:a})}else{const a=e=>this.handleSetValue(d,e);m=r.default.cloneElement((0,p.getLeafWidget)(e,t,!0,!s),{autoFocus:f,value:i[d]||"",onChange:a,onSetValue:a})}return r.default.createElement("div",{key:d,"data-handle":d,style:u.leaf.container},r.default.createElement("div",{style:u.leaf.title},d),m)}render(){const e=this.props,t=e.isActive,a=e.childrenForInput,n=e.path,o=e.schema,l=e.error,i=e.isParent;let f;const p=c.key(o);return f=i&&p?r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{style:u.leaf.container},r.default.createElement("div",{style:u.leaf.title},`Ancestor ${c.name(o)} ${p.join(" ")}`),r.default.createElement(s.default,{key:n,path:n,selection:p,onSetValue:this.handleSetKeypath,disabled:!t})),r.default.createElement("div",{style:{marginTop:"-0.5rem",marginBottom:"1.8rem"}},t&&r.default.createElement(O.Link,{style:u.link,to:(0,E.getLinkWithPath)(n)},n),!t&&r.default.createElement("span",{style:u.linkDisabled},(0,d.pathWithoutKeys)(n)))):c.isLeafList(o)?this.getLeaf(n,o,0):this.getChildren(a),r.default.createElement("div",null,f,l&&r.default.createElement("div",{"data-handle":"error",style:u.error},l))}}t._SchemaInputContainer=x,x.propTypes={childrenForInput:n.default.arrayOf(n.default.shape(Object)),error:n.default.string,isParent:n.default.bool,isActive:n.default.bool,nodes:n.default.arrayOf(n.default.shape(Object)),onGetLeafrefValues:n.default.func,onLoad:n.default.func,onSetValue:n.default.func,path:n.default.string.isRequired,schema:n.default.shape(Object)};const A=e=>"key"===e.kind||"leaf"===e.kind&&!0===e.mandatory&&(0,f.isObject)(e.type);t._selectChildrenForInputFilter=A;const T=(e,t)=>{const a=t.path,r=t.schema;let n,o;return c.isLeafList(r)?(o=[{...r,path:a}],n=[(0,m.selectNode)(e,a)]):(o=(0,v.selectChildrenForInput)(e,r,A),o=V(a,o),n=o.map((t=>(0,m.selectNode)(e,t.path)))),{childrenForInput:o,nodes:n,schema:r}};t._mapStateToProps=T;const R=e=>({onGetLeafrefValues(t,a,r){const n={path:t,createPath:a,limit:21,startsWith:r};e(y.getLeafrefValuesThunk(n))}});t._mapDispatchToProps=R;var F=(0,o.connect)(T,R)(x);t.default=F},52323:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._createMapDispatchToProps=t._createMapStateToProps=t._GetSchemaContainer=t._getKeypathFromProps=t.default=void 0;var r=d(a(67294)),n=d(a(45697)),o=a(36247),l=a(63135),s=a(49562),u=a(17223),i=a(33325);function d(e){return e&&e.__esModule?e:{default:e}}class c extends r.default.Component{componentDidMount(){const e=this.props,t=e.onGetSchema,a=e.schema;return void 0===a?t(!1):a.loadStatus===i.loadStatus.PARTIAL||a.loadStatus===i.loadStatus.SHOULD_REEVALUATE?t(!0):void 0}shouldComponentUpdate(e){const t=this.props,a=t.path,r=t.schema;return a!==e.path||!(!(e=>void 0===e||e.loadStatus!==i.loadStatus.COMPLETE)(r)||!(e=>e&&e.loadStatus===i.loadStatus.COMPLETE)(e.schema))}componentDidUpdate(e){const t=this.props,a=t.onGetSchema,r=t.path;e.path!==r&&a(r)}render(){const e=this.props,t=e.children,a=e.schema;return void 0===a||a.loadStatus!==i.loadStatus.COMPLETE?null:r.default.cloneElement(t,{schema:a})}}t._GetSchemaContainer=c,c.propTypes={children:n.default.element,onGetSchema:n.default.func,path:n.default.string.isRequired,schema:n.default.shape(Object)};const f=e=>{let t=e.path,a=e.kindpath;return a?(0,l.toKeypath)(a):t};t._getKeypathFromProps=f;const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selectSchema,a=void 0===t?u.selectSchema:t;return(e,t)=>{const r=f(t);return{schema:a(e,r)}}};t._createMapStateToProps=p;const h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getSchema,a=void 0===t?s.getSchema:t;return(e,t)=>({onGetSchema(r){const n=f(t);return e(a({path:n,reload:r}))}})};t._createMapDispatchToProps=h;var y=(0,o.connect)(p(),h())(c);t.default=y}}]);