"use strict";(self.webpackChunkwebui=self.webpackChunkwebui||[]).push([[892],{20231:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._PlusRow=t._MinusRow=t._BothRow=t._renderRow=t.default=void 0;var r=l(a(67294)),o=l(a(45697)),n=l(a(8017));function l(e){return e&&e.__esModule?e:{default:e}}const s={lineNum:o.default.number,text:o.default.string},i=e=>{let t=e.lineNum,a=e.text;return r.default.createElement("tr",{style:n.default.tr},r.default.createElement("td",{style:n.default.leftColNumber},r.default.createElement("div",null,t)),r.default.createElement("td",{style:n.default.leftCol}),r.default.createElement("td",{style:n.default.rightColAdd},r.default.createElement("div",null,a)))};t._PlusRow=i,i.propTypes=s;const d=e=>{let t=e.lineNum,a=e.text;return r.default.createElement("tr",{style:n.default.tr},r.default.createElement("td",{style:n.default.leftColNumber},r.default.createElement("div",null,t)),r.default.createElement("td",{style:n.default.leftColDelete},r.default.createElement("div",null,a)),r.default.createElement("td",{style:n.default.rightCol}))};t._MinusRow=d,d.propTypes=s;const u=e=>{let t=e.lineNum,a=e.text;return r.default.createElement("tr",{style:n.default.tr},r.default.createElement("td",{style:n.default.leftColNumber},r.default.createElement("div",null,t)),r.default.createElement("td",{style:n.default.leftCol},r.default.createElement("div",null,a)),r.default.createElement("td",{style:n.default.rightCol},r.default.createElement("div",null,a)))};t._BothRow=u,u.propTypes=s;const c=(e,t)=>{const a=t+1;return e.length>0&&"+"===e[0]?r.default.createElement(i,{text:e,lineNum:a,key:t}):e.length>0&&"-"===e[0]?r.default.createElement(d,{text:e,lineNum:a,key:t}):r.default.createElement(u,{text:e,lineNum:a,key:t})};t._renderRow=c;const f=e=>{const t=e.data.split("\n").map(c);return r.default.createElement("table",{style:n.default.table},r.default.createElement("tbody",null,t))};f.propTypes={data:o.default.string};var p=f;t.default=p},8017:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const a="rgba(0, 129, 0, 0.2)";var r={table:{marginTop:"1rem",width:"100%",fontFamily:'"Courier New", Courier, monospace',fontSize:"0.8rem",fontWeight:"normal"},tr:{whiteSpace:"pre"},leftColNumber:{width:"4em"},leftCol:{width:"45%"},leftColDelete:{width:"45%",background:"rgba(129, 0, 0, 0.2)"},leftColAdd:{background:a},rightCol:{width:"45%"},rightColAdd:{width:"45%",background:a}};t.default=r},46435:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BAR_TYPES=void 0;var r=l(a(67294)),o=l(a(45697)),n=l(a(24399));function l(e){return e&&e.__esModule?e:{default:e}}const s={ALARM:"alarm",ERROR:"error",NOTIFICATION:"notification",WARNING:"warning"};t.BAR_TYPES=s;const i=Object.values(s),d={},u=e=>{let t=e.message,a=e.type,o=e.additionalStyles,l=void 0===o?d:o;return t?r.default.createElement("div",{"data-handle":`${a}-bar`,style:{...n.default[a],...l}},t):null};u.propTypes={message:o.default.string,additionalStyles:o.default.shape({}),type:o.default.oneOf(i)},u.defaultProps={type:s.NOTIFICATION};var c=u;t.default=c},24399:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=n?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(r,l,s):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}(a(72377));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}const n={color:r.textColor4,fontSize:r.medium2,padding:"0.4rem 0.8rem",...r.fontLight};var l={alarm:{...n,backgroundColor:r.color5},error:{...n,backgroundColor:r.color5},notification:{...n,backgroundColor:r.color10},warning:{...n,color:r.textColor2,backgroundColor:r.color17}};t.default=l},32538:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ensureConfigNode=void 0,t.ensureConfigNode=e=>e.startsWith("<config>")&&e.endsWith("</config>")?e:`<config>${e}</config>`},57488:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(67294)),o=n(a(45697));function n(e){return e&&e.__esModule?e:{default:e}}const l=e=>{let t=e.color,a=e.active;return r.default.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 36 24"},r.default.createElement("path",{id:"pen",fill:t,d:"M14.92,4.01l4.88,4.91L7.45,21.33l-4.88-4.91L14.92,4.01z M23.51,2.82l-2.18-2.19 c-0.84-0.85-2.21-0.85-3.05,0l-2.09,2.1l4.88,4.91l2.43-2.44C24.16,4.54,24.16,3.48,23.51,2.82z M0.01,23.32 c-0.09,0.4,0.27,0.76,0.67,0.66l5.44-1.33l-4.88-4.91L0.01,23.32z"}),a||r.default.createElement("path",{id:"down",fill:t,d:"M25.44,12.37l0.08-0.08c0.46-0.43,1.17-0.43,1.63,0l3.38,3.14l3.38-3.14 c0.46-0.43,1.17-0.43,1.63,0l0.08,0.08c0.46,0.43,0.49,1.15,0.06,1.61c-0.02,0.02-0.04,0.04-0.06,0.06l-4.28,3.98 c-0.46,0.43-1.17,0.43-1.63,0l-4.28-3.98c-0.46-0.43-0.49-1.15-0.06-1.61C25.4,12.41,25.41,12.39,25.44,12.37z"}),a&&r.default.createElement("path",{id:"down_1_",fill:t,d:"M35.64,17.95l-0.08,0.08c-0.46,0.43-1.17,0.43-1.63,0l-3.38-3.14l-3.38,3.14 c-0.46,0.43-1.17,0.43-1.63,0l-0.08-0.08c-0.46-0.43-0.49-1.15-0.06-1.61c0.02-0.02,0.04-0.04,0.06-0.06l4.28-3.98 c0.46-0.43,1.17-0.43,1.63,0l4.28,3.98c0.46,0.43,0.49,1.15,0.06,1.61C35.68,17.91,35.66,17.93,35.64,17.95z"}))};l.propTypes={color:o.default.string,active:o.default.bool},l.defaultProps={color:"red"};var s=l;t.default=s},35300:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(67294)),o=i(a(45697)),n=a(99531),l=i(a(20628)),s=a(23221);function i(e){return e&&e.__esModule?e:{default:e}}const d=e=>{let t=e.changes,a=void 0===t?[]:t;return(0,n.isEmptyArray)(a)?r.default.createElement("div",{style:l.default.message},"No changes"):r.default.createElement("table",{style:l.default.table},(0,s.renderHeader)(),(0,s.renderBody)(a))};d.defaultProps={changes:[]},d.propTypes={changes:o.default.arrayOf(o.default.shape({path:o.default.string,op:o.default.string,value:o.default.string,old:o.default.string}))};var u=d;t.default=u},27871:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._ChangesTabContainer=t.default=void 0;var r=d(a(67294)),o=a(36247),n=d(a(45697)),l=a(49562),s=a(5533),i=d(a(35300));function d(e){return e&&e.__esModule?e:{default:e}}class u extends r.default.Component{constructor(e){super(e),this.hasLoadedSchemaFor={}}componentDidUpdate(){const e=this.props,t=e.changes,a=e.onGetSchema;t.filter((e=>"default_set"===e.op&&void 0===e.value&&!0!==this.hasLoadedSchemaFor[e.path])).forEach((e=>{this.hasLoadedSchemaFor[e.path]=!0,a(e.path)}))}render(){const e=this.props.changes;return r.default.createElement(i.default,{changes:e})}}t._ChangesTabContainer=u,u.defaultProps={changes:[]},u.propTypes={changes:n.default.arrayOf(n.default.shape({device:n.default.string,text:n.default.string})),onGetSchema:n.default.func.isRequired};const c=e=>({onGetSchema(t){e((0,l.getSchema)({path:t,params:{levels:1}}))}});t._mapDispatchToProps=c;const f=e=>({changes:(0,s.selectChangesWithDefaultValues)(e)});t._mapStateToProps=f;var p=(0,o.connect)(f,c)(u);t.default=p},24888:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=n?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(r,l,s):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}(a(72377));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}var n={tableWrapper:{width:"100%",marginBottom:"1.5rem",padding:"1rem",boxSizing:"border-box",overflow:"auto"},tableName:{padding:"0.5rem 0 0.25rem 0"},message:{padding:"2rem",marginBottom:"20rem",backgroundColor:"white",fontSize:r.medium3,textAlign:"center",color:r.textColor1}};t.default=n},7187:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(67294)),o=l(a(20231)),n=l(a(24888));function l(e){return e&&e.__esModule?e:{default:e}}const s=(e,t)=>{let a=e.name,l=e.data;return r.default.createElement("div",{"data-handle":"config-dryrun-diff",style:n.default.tableWrapper,key:`table-wrapper-${t}`},r.default.createElement("div",{style:n.default.tableName},a),r.default.createElement(o.default,{data:l}))};t.default=e=>{if(!(e&&e.local_node&&e.local_node.data))return r.default.createElement("div",{style:n.default.message},"No configuration changes");if(e.lsa_node&&e.lsa_node.length){const t=[{data:e.local_node.data,name:"Local node"},...e.lsa_node.map((e=>({...e,name:`LSA node: ${e.name}`})))];return r.default.createElement("div",{style:n.default.tableWrapper},t.map(s))}return r.default.createElement("div",{"data-handle":"config-dryrun-diff",style:n.default.tableWrapper},r.default.createElement(o.default,{data:e.local_node.data}))}},54816:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._CommitDryRunTabContainer=t.default=void 0;var r=p(a(67294)),o=a(36247),n=p(a(45697)),l=p(a(49205)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}(a(72377)),i=a(5533),d=a(71447),u=p(a(20628)),c=p(a(7187));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}const m=r.default.createElement("div",{style:u.default.loaderbox},r.default.createElement(l.default,{color:s.color9}));class h extends r.default.Component{componentDidMount(){this.onCommitDryRun()}componentDidUpdate(){this.onCommitDryRun()}onCommitDryRun(){const e=this.props,t=e.onCommitDryRun,a=e.th,r=e.emptyTransaction,o=e.hasLatestCommitDryRunResult,n=e.thIsBusy,l=e.commitDryRunError,s=!(l&&l.message);r||!a||o||n||!s||t(a)}render(){const e=this.props,t=e.thIsBusy,a=e.result;return t?m:(0,c.default)(a)}}t._CommitDryRunTabContainer=h,h.defaultProps={result:{}},h.propTypes={commitDryRunError:n.default.shape({message:n.default.string}),thIsBusy:n.default.bool,result:n.default.shape(Object),onCommitDryRun:n.default.func,th:n.default.number,emptyTransaction:n.default.bool,hasLatestCommitDryRunResult:n.default.bool};const g=e=>({onCommitDryRun(t){e((0,d.commitDryRun)({th:t}))}});t._mapDispatchToProps=g;const y=e=>({thIsBusy:(0,i.selectThIsBusy)(e),result:(0,i.selectCommitDryRunResult)(e),commitDryRunError:(0,i.selectCommitDryRunError)(e),th:(0,i.selectReadWrite)(e),hasLatestCommitDryRunResult:(0,i.selectHasLatestCommitDryRunResult)(e),emptyTransaction:(0,i.transactionIsEmpty)(e)});t._mapStateToProps=y;var v=(0,o.connect)(y,g)(h);t.default=v},86852:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._getStatusElement=t.default=t.pageProp=void 0;var r=E(a(67294)),o=E(a(45697)),n=a(43488),l=b(a(72377)),s=E(a(39740)),i=E(a(98427)),d=E(a(4500)),u=E(a(36513)),c=E(a(66877)),f=E(a(17427)),p=E(a(32199)),m=b(a(20628)),h=a(34073),g=E(a(70061)),y=b(a(46435));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}function E(e){return e&&e.__esModule?e:{default:e}}const T=(e,t,a)=>a?r.default.createElement("span",{"data-handle":"transactionStatus",style:m.default.statusStyles.statusValid},"EVALUATING"):e?r.default.createElement("span",{"data-handle":"transactionStatus",style:m.default.statusStyles.statusEmpty},"EMPTY"):t===h.transactionStatus.INVALID?r.default.createElement("span",{"data-handle":"transactionStatus",style:m.default.statusStyles.statusInvalid},"INVALID"):r.default.createElement("span",{"data-handle":"transactionStatus",style:m.default.statusStyles.statusValid},"VALID");t._getStatusElement=T;const _=e=>e.isDisabled?m.tabs.disabledtab:e.isActive?m.tabs.activeTab:m.tabs.tab,C=e=>{let t=e.page;const a=t.isDisabled||t.isActive?"span":n.Link;return r.default.createElement("div",{"data-handle":"tab-btn",style:_(t)},r.default.createElement(a,{to:t.to,style:m.tabs.tabButton},t.tab))},O=e=>{let t=e.thList,a=e.onSelectTh,o=e.selectedTh;return r.default.createElement("div",{style:m.default.selectTh},(t.length>1||t.length>0&&!t.includes(o))&&r.default.createElement(s.default,{editable:!0,name:"select-th",extraSelectStyle:m.default.activeThSelect,onSetValue:a,options:t,placeholder:"Select active transaction handle",value:o}))};O.propTypes={onSelectTh:o.default.func,selectedTh:o.default.string,thList:o.default.arrayOf(o.default.string)};const M=o.default.shape({isActive:o.default.bool,isDisabled:o.default.bool,name:o.default.string,tab:o.default.oneOfType([o.default.string,o.default.object]),to:o.default.string});t.pageProp=M,C.propTypes={page:M};const P=[r.default.createElement(p.default,null)],S=e=>{let t=e.children,a=e.emptyTransaction,o=e.loading,n=e.onSelectTh,s=e.pages,p=e.selectedTh,h=e.thList,v=e.transStatus,b=e.warningMessage;return r.default.createElement("div",{style:m.default.application,"data-handle":"commitManager"},r.default.createElement(c.default,{additionalComponentsRight:P},r.default.createElement("div",{style:m.default.secondHeader},r.default.createElement("div",{style:m.default.contentWrapper},r.default.createElement("div",{style:m.default.statusStyles.message},r.default.createElement("span",null,"Current transaction",1===h.length&&p&&r.default.createElement("span",{title:`Active transaction ${p}`},` (${p}) `)," ","is")," ",T(a,v,o)),r.default.createElement(O,{onSelectTh:n,selectedTh:p,thList:h}),r.default.createElement(d.default,null),r.default.createElement(u.default,null),r.default.createElement("div",{style:m.default.spacer}),r.default.createElement("div",{style:m.default.commitButton},r.default.createElement(i.default,null,"Commit")))),r.default.createElement("div",{style:l.shadow}),r.default.createElement(g.default,null),r.default.createElement(y.default,{message:b,type:y.BAR_TYPES.WARNING})),r.default.createElement("div",{style:m.default.scrollingContainer},r.default.createElement("div",{style:m.default.maxWidth},r.default.createElement("div",{style:m.tabs.main},r.default.createElement("div",{style:m.tabs.tabContainer},s.map(((e,t)=>r.default.createElement(C,{key:t,page:e})))),t))),r.default.createElement(f.default,null))};S.propTypes={children:o.default.node,emptyTransaction:o.default.bool,loading:o.default.bool,onSelectTh:o.default.func,pages:o.default.arrayOf(M),selectedTh:o.default.string,transStatus:o.default.string,thList:o.default.arrayOf(o.default.string),warningMessage:o.default.string},S.defaultProps={pages:[],loading:void 0,selectedTh:""};var w=S;t.default=w},74520:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._getWarningsPage=t._getNativeCommitDryRunPage=t._getCommitDryRunPage=t._getChangesPage=t._countrNumberOfErrors=t._convertWarningsToErrors=t._CommitManagerContainer=t.default=t.CommitContent=void 0;var r=P(a(67294)),o=a(36247),n=P(a(45697)),l=a(99531),s=a(74198),i=a(94030),d=a(46560),u=a(59557),c=P(a(49205)),f=M(a(72377)),p=a(6617),m=a(71447),h=a(5533),g=a(17223),y=P(a(27871)),v=P(a(54816)),b=M(a(86852)),E=P(a(74056)),T=P(a(79619)),_=P(a(20628)),C=P(a(34537));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}function P(e){return e&&e.__esModule?e:{default:e}}const S="CommitManager",w="changes",I="commit-queue",k="errors",L="warnings",D="config",R="native",j=[w,L,k,D,R,I],x=()=>r.default.createElement("div",{style:_.default.loaderbox},r.default.createElement(c.default,{color:f.color9})),W=(e,t)=>{let a=e.name,r=e.tab,o=e.page,n=e.id;return{isDisabled:!!t,id:n,name:a,page:o,tab:r||a,to:`${(0,u.formatPath)(S)}/${n}`}},A=()=>({id:w,name:"changes",page:r.default.createElement(y.default,null)});t._getChangesPage=A;const N=()=>({id:D,name:"config",page:r.default.createElement(v.default,null)});t._getCommitDryRunPage=N;const B=()=>({id:R,name:"native config",page:r.default.createElement(T.default,null)});t._getNativeCommitDryRunPage=B;const U=e=>e&&e.data&&e.data.errors&&Array.isArray(e.data.errors)?e.data.errors.length:0;t._countrNumberOfErrors=U;const F=e=>{let t=e.th,a=e.tag;return t?`${t}${a?` - ${a}`:""}`:""},Q=e=>{if((0,l.isNonEmptyArray)(e))return{data:{errors:e}}};t._convertWarningsToErrors=Q;const G=(e,t)=>{const a=U(e),o="warnings";return{id:L,tab:r.default.createElement(r.default.Fragment,null,r.default.createElement("span",null,o),a>0&&r.default.createElement("span",{style:_.default.warningsNumberContainer,"data-handle":"warnings-number-label"},a)),page:r.default.createElement(C.default,{error:e,onRevalidateTrans:t}),name:o}};t._getWarningsPage=G;const $=(e,t,a,o,n)=>{const l=U(e),s="errors";return{id:k,tab:r.default.createElement(r.default.Fragment,null,r.default.createElement("span",null,s),l>0&&r.default.createElement("span",{style:_.default.warningsNumberContainer,"data-handle":"warnings-number-label"},l)),page:r.default.createElement(C.default,{emptyMessage:"No errors",error:e,conflicts:t,onRevalidateTrans:a,onResolveConflicts:o,disableDataContainer:n!==p.TAGS.WEBUI_ONE}),name:s}},q=e=>{let t=e.hasInitiated,a=e.thIsBusy,o=e.page;return t?o.isDisabled?r.default.createElement("div",{style:_.default.message,"data-handle":"disabled-page"},`${o.name} is disabled`):r.default.createElement(r.default.Fragment,null,a&&r.default.createElement(x,null),o.page):null};t.CommitContent=q,q.propTypes={hasInitiated:n.default.bool,page:b.pageProp,thIsBusy:n.default.bool};class V extends r.default.Component{constructor(e){super(e),this.handleReevaluateTrans=this.handleReevaluateTrans.bind(this),this.resolveConflicts=this.resolveConflicts.bind(this),this.forceActivePage=this.forceActivePage.bind(this),this.reevaluateCalled=!1,this.state={redirected:!1,hasInitiated:!1}}componentDidMount(){const e=this.props,t=e.emptyTransaction,a=e.onGetWriteTrans,r=e.onGetAdditionalTrans,o=e.th,n=e.thIsBusy;o||a(),r(),!o||n||t||this.handleReevaluateTrans(!0),this.setState({hasInitiated:!0})}shouldComponentUpdate(e,t){const a=this.props,r=a.changes,o=a.currentPage,n=a.th,l=a.thList,s=a.thIsBusy,i=a.transStatus;return this.state.hasInitiated!==t.hasInitiated||o!==e.currentPage||(n!==e.th?(this.reevaluateCalled=!1,!0):l.length!==e.thList.length||!0===s&&!1===e.thIsBusy||i!==e.transStatus||!(0,d.isDeepEqual)(r,e.changes))}componentDidUpdate(e){const t=this.props,a=t.emptyTransaction,r=t.onGetWriteTrans,o=t.th,n=t.thIsBusy,l=t.transError,s=t.warnings;o!==e.th&&this.setRedirected(!1),o||a||r(),!o||n||this.reevaluateCalled||a||this.handleReevaluateTrans(),(0,d.isDeepEqual)(l,e.transError)?(0,d.isDeepEqual)(s,e.warnings)||this.forceActivePage("warnings"):this.forceActivePage("errors")}componentWillUnmount(){(0,this.props.onSelectTh)(void 0)}handleReevaluateTrans(){const e=this.props,t=e.onReevaluate,a=e.th;a&&(this.reevaluateCalled=!0,t(a))}setRedirected(e){this.setState({redirected:e})}forceActivePage(e){const t=this.props,a=t.currentPage,r=t.router,o=this.state.redirected;a===e||o||(this.setRedirected(!0),r.push(`${(0,u.formatPath)(S)}/${e}`))}resolveConflicts(){const e=this.props,t=e.onResolveConflicts,a=e.th;a&&t(a)}render(){const e=this.props,t=e.conflicts,a=e.currentPage,o=e.emptyTransaction,n=e.onSelectTh,l=e.th,s=e.thIsBusy,i=e.thList,u=e.thTag,c=e.transError,f=e.transStatus,p=e.warningMessage,m=e.warnings,h=this.state.hasInitiated,g=c&&(0,d.isNonEmpty)(c),y=[W(A()),W($(c,t,this.handleReevaluateTrans,this.resolveConflicts,u)),W(G(m,this.handleReevaluateTrans)),W(N(),g),W(B(),g),W({id:I,name:"commit queue",page:r.default.createElement(E.default,null)})],v=j.includes(a)?a:"changes",T=y.find((e=>{let t=e.id;return v===t}));T.isActive=!0;const _=F({th:l,tag:u});return r.default.createElement(b.default,{emptyTransaction:o,loading:s,onChangeTab:this.onChangeTab,onSelectTh:n,pages:y,selectedTh:_,thList:i,transStatus:f,warningMessage:p},r.default.createElement(q,{thIsBusy:s,page:T,hasInitiated:h}))}}t._CommitManagerContainer=V,V.defaultProps={emptyTransaction:void 0,thIsBusy:!1,th:void 0,thList:[],transStatus:void 0,warnings:void 0},V.propTypes={changes:n.default.arrayOf(n.default.shape()),conflicts:n.default.arrayOf(n.default.shape()),currentPage:n.default.string,emptyTransaction:n.default.bool,onSelectTh:n.default.func.isRequired,onGetWriteTrans:n.default.func.isRequired,onGetAdditionalTrans:n.default.func.isRequired,onReevaluate:n.default.func.isRequired,onResolveConflicts:n.default.func.isRequired,router:n.default.shape({push:n.default.func,location:n.default.shape({})}),thIsBusy:n.default.bool,th:n.default.number,thTag:n.default.string,thList:n.default.arrayOf(n.default.string),transError:n.default.shape({type:n.default.string,message:n.default.string}),transStatus:n.default.string,warningMessage:n.default.string,warnings:n.default.shape({path:n.default.string,paths:n.default.arrayOf(n.default.string),reason:n.default.string})};const H=e=>({onGetAdditionalTrans(){e((0,m.getAdditionalTrans)())},onGetWriteTrans(){e((0,m.getWriteTrans)())},onReevaluate(t){e((0,m.reevaluate)({th:t}))},onResolveConflicts(t){e((0,m.resolveConflicts)({th:t}))},onSelectTh(t){let a;if((0,i.isNonEmptyString)(t)){const e=t.match(/\d/)[0];a=(0,s.toNumber)(e)||void 0}e((0,m.setActiveThAction)(a)),e((0,m.getTransChanges)({th:a}))}});t._mapDispatchToProps=H;const z=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.funcs,o=void 0===r?{}:r,n=o.selectSchema,l=void 0===n?g.selectSchema:n;const s=t&&t.routeParams||{},i=(s.splat||"").substr(1),d=Q((0,h.selectWarnings)(e));let u=(0,h.selectValidateTransactionError)(e);if(u&&u.data&&Array.isArray(u.data.errors)){const t=u.data.errors.map((t=>({...t,schema:l(e,t.path)})));u={...u,data:{...u.data,errors:t}}}const c=(0,h.selectWriteTrans)(e),f=Object.values(c).map(F),m=c.filter((e=>e.tag===p.TAGS.WEBUI_ONE)).length>1,y=m?p.WARNING_MULTIPLE_WEBUI_ONE:"";return{changes:(0,h.selectChangesWithDefaultValues)(e),conflicts:(0,h.selectConflicts)(e),currentPage:i,emptyTransaction:(0,h.transactionIsEmpty)(e),th:(0,h.selectReadWrite)(e),thIsBusy:(0,h.selectThIsBusy)(e),thList:f,thTag:(0,h.selectReadWriteThTag)(e),transError:u,transStatus:(0,h.selectStatus)(e),warningMessage:y,warnings:d}};t._mapStateToProps=z;var K=(0,o.connect)(z,H)(V);t.default=K},20628:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tabs=t.warningStyles=t.checkboxStyle=t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=n?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(r,l,s):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}(a(72377));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}const n={color:r.color2,fontSize:r.medium2,margin:"0 0.5rem 0 1rem",...r.fontLight};var l={application:{...r.application,display:"flex",flexFlow:"column",height:"100vh",backgroundImage:r.pattern1},scrollingContainer:{overflow:"auto",padding:"1rem 0.5rem",flexGrow:"1"},warningsContainer:{overflow:"auto",padding:"1rem 0.5rem",flexGrow:"1",minHeight:"30rem"},maxWidth:{maxWidth:r.maxWidth,margin:"0 auto"},warningsNumberContainer:{backgroundColor:r.color5,fontSize:r.small3,color:r.textColor4,padding:"0.075rem 0.25rem",marginLeft:"0.5rem"},warningsNumberLabel:{position:"absolute",backgroundColor:"#ff3333",color:"#ffffff",padding:"0 0.3rem",borderRadius:"1rem",right:"0.5rem"},secondHeader:{backgroundColor:r.color11,borderTop:"1px solid #cccccc",height:"50px"},contentWrapper:{maxWidth:r.maxWidth,margin:"0 auto",display:"flex",height:"100%",alignItems:"center"},activeThSelect:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},tabDeck:{main:{maxWidth:r.maxWidth,padding:"1rem",margin:"0 auto"}},selectTh:{minWidth:"2rem",maxWidth:"15rem",marginRight:"0.5rem"},statusStyles:{statusText:n,message:{minWidth:"12rem",...n,...r.fontLight},statusValid:{color:r.color10},statusEmpty:{},statusInvalid:{color:r.color5}},spacer:{flexGrow:"1"},commitButton:{alignSelf:"center",marginRight:"1rem"},table:{color:r.textColor2,width:"100%",textAlign:"left",overflow:"hidden",thead:{backgroundColor:r.color3,borderBottom:`1px solid ${r.color7}`,fontSize:r.medium2,whiteSpace:"nowrap",...r.fontCondensed},tbody:{backgroundColor:r.color3,fontSize:"0.8rem",whiteSpace:"pre-wrap",wordBreak:"break-word",...r.fontRegular},td:{padding:"0.5rem 1rem",lineHeight:"1.75"},th:{padding:"0.5rem 1rem",lineHeight:"1.75"},tr:{backgroundColor:"rgb(243, 243, 243)",color:"#333333",padding:"0.7rem"},a:{color:r.color1,textDecoration:"none"}},resultSearchBar:{width:"100%"},nativeDevice:{fontSize:r.medium3,padding:"1rem 0 0 1rem"},nativeCommitDiff:{fontFamily:r.font3,fontSize:r.medium1,padding:"0.25rem 1rem",whiteSpace:"pre",lineHeight:"1.25",fontWeight:"normal"},nativeCommitPane:{overflow:"auto"},message:{padding:"2rem",marginBottom:"20rem",backgroundColor:"white",fontSize:r.medium3,textAlign:"center",color:r.textColor1,...r.fontLight},loaderbox:{margin:"2rem auto 2rem auto"},loader:{position:"absolute",width:"100%",left:"0"}};t.default=l;const s={checkbox:{alignSelf:"center"},checkboxWrapper:{display:"flex"},label:{fontSize:r.medium2,alignSelf:"center",margin:"0 0.5rem",whiteSpace:"nowrap"}};t.checkboxStyle=s;const i={page:{position:"relative"},revalidateContainer:{display:"inline-block",margin:"1rem 1rem 0 1rem"},errorHeader:{backgroundColor:r.color5,color:r.color3,padding:"0.4375rem 1rem",marginBottom:"1rem",fontSize:r.medium1},messageContainer:{color:r.color5,fontSize:r.medium2,marginLeft:"1.75rem",display:"inline-block"},message:{padding:"2rem",marginBottom:"20rem",backgroundColor:"white",fontSize:r.medium3,textAlign:"center",color:r.textColor1},errorWrapper:{padding:"0 1rem"}};t.warningStyles=i;const d={backgroundColor:r.color7,color:r.color1,cursor:"pointer",padding:"0.2rem"},u={main:{display:"flex",flexDirection:"column",backgroundColor:r.color3},tab:d,activeTab:{...d,color:r.textColor2,backgroundColor:r.color3,cursor:"unset"},disabledtab:{...d,cursor:"not-allowed",color:r.textColor1},tabButton:{backgroundColor:"transparent",border:"none",color:"inherit",cursor:"inherit",display:"block",fontSize:r.medium2,lineHeight:"1.75",padding:"0.3rem 0.8rem",textDecoration:"none",...r.fontCondensed},tabContainer:{backgroundColor:r.color7,display:"flex"}};t.tabs=u},16612:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._CommitQueueDevicesCellContainer=t._mapDispatchToProps=t._mapStateToProps=t.default=t.CommitQueueDeviceCell=void 0;var r=u(a(67294)),o=u(a(45697)),n=a(36247),l=u(a(49205)),s=a(45930),i=a(52321),d=u(a(76976));function u(e){return e&&e.__esModule?e:{default:e}}const c=e=>{let t=e.device,a=e.state;return r.default.createElement("div",{key:t,"data-handle":`device-${t}-${a}`,style:d.default[a]},"complete"===a&&r.default.createElement("span",{style:d.default.check},"✓"),t)};t.CommitQueueDeviceCell=c,c.propTypes={device:o.default.string,state:o.default.string};class f extends r.default.Component{componentDidMount(){const e=this.props,t=e.isLoading,a=e.onLoad;t||a()}render(){const e=this.props,t=e.devices,a=e.rowKey;return e.isLoading?r.default.createElement(l.default,{color:"#000"}):r.default.createElement("div",{"data-handle":`devices-${a}`},t.map(c))}}t._CommitQueueDevicesCellContainer=f,f.propTypes={devices:o.default.arrayOf(Object).isRequired,isLoading:o.default.bool,onLoad:o.default.func,rowKey:o.default.string};const p=(e,t)=>({devices:(0,s.selectQueueItemDevices)(e,t),isLoading:(0,s.selectQueueItemIsLoading)(e,t)});t._mapStateToProps=p;const m=(e,t)=>({onLoad(){e((0,i.getDevicesOfQueueItem)((0,s.getIdFromProps)(t)))}});t._mapDispatchToProps=m;var h=(0,n.connect)(p,m)(f);t.default=h},76976:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=n?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(r,l,s):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}(a(72377));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}const n={borderRadius:"1rem",color:r.backgroundColor1,display:"inline-block",marginRight:"0.1rem",padding:"0 0.5rem",lineHeight:"1.5rem",borderWidth:"1px",borderStyle:"solid"};var l={device:{...n,backgroundColor:r.color16,borderColor:r.color16},transient:{...n,backgroundColor:r.color17,borderColor:r.color17},wait:{...n,backgroundColor:r.color16,borderColor:r.color16},complete:{...n,backgroundColor:r.backgroundColor1,borderColor:r.color6,color:r.color2},failed:{...n,backgroundColor:r.color5,borderColor:r.color5},check:{color:r.color10}};t.default=l},74056:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._createQueueLink=t._CommitQueueListContainer=t._createAgeCell=t.default=void 0;var r=E(a(63834)),o=E(a(48210)),n=E(a(45697)),l=E(a(67294)),s=E(a(92849)),i=a(43488),d=a(36247),u=a(52321),c=a(43801),f=a(60622),p=a(45930),m=a(34452),h=E(a(49205)),g=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}(a(72377)),y=E(a(16612)),v=E(a(20628));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function E(e){return e&&e.__esModule?e:{default:e}}const T="commitQueueList",_=(0,s.default)(T),C=(e,t,a)=>l.default.createElement(i.Link,{to:(0,c.getLinkWithPath)(a),style:{..._.list.row.link}},e);t._createQueueLink=C;const O=(0,f.createTextCellFactory)(T),M=(e,t,a)=>O((0,m.ageToRelativeTimeString)(e),t,a);t._createAgeCell=M;const P=(e,t,a)=>l.default.createElement(y.default,{rowKey:a});class S extends l.default.Component{constructor(e){super(e),this.onChangeSortOrder=this.onChangeSortOrder.bind(this),this.onGoToPage=this.onGoToPage.bind(this),this.onRefresh=this.onRefresh.bind(this)}componentDidMount(){const e=this.props;(0,e.onLoad)(10,1,e.sortColumn,e.sortOrder)}componentDidUpdate(e){const t=e.isLoading,a=this.props.isLoading;t&&!a&&this.resetRefresh()}componentWillUnmount(){clearTimeout(this.refreshTimeout)}onChangeSortOrder(e){const t=this.props,a=t.onLoad,r=t.sortOrder,o=t.sortColumn;if(!t.isLoading){let t="ascending",n=e;e===o&&"descending"!==r&&(t="descending"),e===o&&"descending"===r&&(t=void 0,n=void 0),a(10,1,n,t)}}onGoToPage(e){const t=this.props,a=t.isLoading,r=t.onLoad,o=t.sortOrder,n=t.sortColumn;a||r(10,e,n,o)}onRefresh(){const e=this.props.offset;this.onGoToPage(e)}resetRefresh(){clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout(this.onRefresh,1e4)}render(){const e=this.props,t=e.rows,a=e.sortColumn,n=e.sortOrder,s=e.isLoading,d=e.totalNumberOfResults,u=e.offset;if(!t||!t.length)return l.default.createElement("div",{style:v.default.message},l.default.createElement("div",{style:s?{visibility:"hidden"}:{}},"No commits in queue"),s&&l.default.createElement("div",{style:v.default.loader},l.default.createElement(h.default,{color:g.color9})));const c={columnKey:a,isDesc:"descending"===n},p=(0,f.createSortableHeaderFactory)(this.onChangeSortOrder,c),m=[{...(0,f.getDefaultColumn)(),title:"id",key:"id",createHeader:p,createCell:C},{...(0,f.getDefaultColumn)(),title:"age",key:"age",createHeader:p,createCell:M},{...(0,f.getDefaultColumn)(),title:"status",key:"status",createHeader:p,createCell:O},{...(0,f.getDefaultColumn)(),title:"atomic",key:"is-atomic",createHeader:p,createCell:O},{...(0,f.getDefaultColumn)(),title:"devices",key:"devices",createHeader:p,createCell:P}],y=[l.default.createElement(o.default,{key:"pagination",totalNumberOfResults:d,onGoToPage:this.onGoToPage,chunkSize:10,offset:u})];return l.default.createElement(r.default,{columns:m,rows:t,styleName:T,isLoading:s,additionalElements:y,chunkSize:10,LinkComponent:i.Link,offset:u,shouldPadRows:!1,totalNumberOfResults:d,shouldRetainColumnsSize:!1,nrOfStaticColumns:0})}}t._CommitQueueListContainer=S,S.propTypes={isLoading:n.default.bool,onLoad:n.default.func.isRequired,rows:n.default.arrayOf(Object),sortOrder:n.default.string,offset:n.default.number,sortColumn:n.default.string,totalNumberOfResults:n.default.number},S.defaultProps={};const w=e=>({onLoad(t,a,r,o){e((0,u.getCommitQueue)(t,a,r,o))}});t._mapDispatchToProps=w;const I=e=>({isLoading:(0,p.selectCommitQueueLoading)(e),offset:(0,p.selectCommitQueueOffset)(e),rows:(0,p.selectCommitQueueRows)(e,{keyNames:["id"]}),sortColumn:(0,p.selectCommitQueueSortColumn)(e),sortOrder:(0,p.selectCommitQueueSortOrder)(e),totalNumberOfResults:(0,p.selectTotalNumberOfCommitQueues)(e)});t._mapStateToProps=I;var k=(0,d.connect)(I,w)(S);t.default=k},23221:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._renderBody=t.renderBody=t._renderHeader=t.renderHeader=t._renderRow=t.renderRow=void 0;var r=i(a(67294)),o=i(a(20628)),n=a(43488),l=a(43801),s=a(59557);function i(e){return e&&e.__esModule?e:{default:e}}const d=(e,t)=>r.default.createElement("tr",{style:t%2!=0?o.default.table.tr:null,key:t},r.default.createElement("td",{style:o.default.table.td},r.default.createElement(n.Link,{style:o.default.table.a,to:(0,l.getLinkWithPath)((0,s.escapeKey)(e.path))},e.path)),r.default.createElement("td",{style:o.default.table.td},e.op),r.default.createElement("td",{style:o.default.table.td},e.old),r.default.createElement("td",{style:o.default.table.td},e.value));t._renderRow=t.renderRow=d,t._renderHeader=t.renderHeader=()=>r.default.createElement("thead",{style:o.default.table.thead},r.default.createElement("tr",null,r.default.createElement("th",{style:o.default.table.th},"Path"),r.default.createElement("th",{style:o.default.table.th},"Operation"),r.default.createElement("th",{style:o.default.table.th},"Old value"),r.default.createElement("th",{style:o.default.table.th},"New value"))),t._renderBody=t.renderBody=e=>r.default.createElement("tbody",{style:o.default.table.tbody},e.map(((e,t)=>d(e,t))))},94207:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(a(67294)),o=s(a(45697)),n=a(99531),l=s(a(20628));function s(e){return e&&e.__esModule?e:{default:e}}const i=e=>{let t=e.devices;return(0,n.isEmptyArray)(t)?r.default.createElement("div",{style:l.default.message},"No devices affected"):r.default.createElement("div",null,r.default.createElement("div",{"data-handle":"native-commit-dryrun-pane",style:l.default.nativeCommitPane},t.map((e=>{let t=e.name,a=e.data;return r.default.createElement("div",{"data-handle":`native-${t}`,key:t},r.default.createElement("div",{style:l.default.nativeDevice,"data-handle":"native-name"},t),r.default.createElement("div",{style:l.default.nativeCommitDiff,"data-handle":"native-diff"},a))}))))};i.defaultProps={devices:[]},i.propTypes={devices:o.default.arrayOf(o.default.shape({data:o.default.string.isRequired,name:o.default.string.isRequired}))};var d=i;t.default=d},79619:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t._NativeCommitDryRunTabContainer=t.default=void 0;var r=p(a(67294)),o=a(36247),n=p(a(45697)),l=p(a(49205)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}(a(72377)),i=a(5533),d=a(71447),u=p(a(20628)),c=p(a(94207));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}const m=r.default.createElement("div",{style:u.default.loaderbox},r.default.createElement(l.default,{color:s.color9}));class h extends r.default.Component{componentDidMount(){const e=this.props,t=e.th,a=e.emptyTransaction;this.shouldCallDryRun=!a&&!!t,this.shouldCallDryRun&&this.handleNativeCommitDryRun()}componentDidUpdate(){this.handleNativeCommitDryRun()}componentWillUnmount(){this.shouldCallDryRun=!1}handleNativeCommitDryRun(){const e=this.props,t=e.onNativeCommitDryRun,a=e.thIsBusy,r=e.th;this.shouldCallDryRun&&!a&&r&&(this.shouldCallDryRun=!1,t(r))}render(){const e=this.props,t=e.thIsBusy,a=e.nativeResult.device;return t?m:r.default.createElement("div",{"data-handle":"NativeCommitDryRunContainer"},r.default.createElement(c.default,{devices:a}))}}t._NativeCommitDryRunTabContainer=h,h.defaultProps={nativeResult:{}},h.propTypes={nativeResult:n.default.oneOfType([n.default.shape(Object)]),onNativeCommitDryRun:n.default.func,thIsBusy:n.default.bool,th:n.default.number,emptyTransaction:n.default.bool};const g=e=>({onNativeCommitDryRun(t){e((0,d.nativeCommitDryRun)(t))}});t._mapDispatchToProps=g;const y=e=>({nativeResult:(0,i.selectNativeCommitDryRunResult)(e),thIsBusy:(0,i.selectThIsBusy)(e),th:(0,i.selectReadWrite)(e),emptyTransaction:(0,i.transactionIsEmpty)(e)});t._mapStateToProps=y;var v=(0,o.connect)(y,g)(h);t.default=v},34537:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._renderError=t._renderErrorDataMessage=t._renderErrorMessage=t._renderErrors=t._WarningsTab=t.default=void 0;var r=b(a(67294)),o=b(a(45697)),n=b(a(88253)),l=a(40801),s=a(83561),i=a(43801),d=v(a(72377)),u=b(a(75311)),c=a(59557),f=b(a(47003)),p=a(23221),m=a(46560),h=a(99531),g=v(a(20628));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}function b(e){return e&&e.__esModule?e:{default:e}}const E=(e,t,a)=>r.default.createElement("p",{style:g.warningStyles.errorHeader,"data-handle":"error-header"},`${e+1}/${t}. ${a}`),T=e=>(t,a,o)=>{const d=t.paths,p=t.schema;if(!d)return r.default.createElement("div",{key:a},E(a,o.length,t.reason));const m=o.reduce(((e,t)=>t.paths?[...e,...t.paths]:e),[]),h=(0,l.getTruncatedPaths)(m);let y;return e||!p||!p.data||"leaf"!==p.data.kind&&"key"!==p.data.kind||(y=r.default.createElement(u.default,{style:f.default.link,to:(0,i.getLinkWithPath)((0,c.getParentPath)(t.path))},`${(0,c.getParentPath)(t.path)}/`)),r.default.createElement("div",{style:g.warningStyles.page,key:a},d&&d.map(((l,i)=>r.default.createElement("div",{key:i,style:g.warningStyles.errorWrapper},E(a,o.length,`.../${h[l]} ${t.reason}`),r.default.createElement("div",null,y,!e&&r.default.createElement(n.default,{applicationName:s.CONFIGURATION_EDITOR_NAME,hideIndicators:!0,hideContainers:!0,hideLists:!0,includeSubfolders:!0,showEmpty:!0,showConfig:!0,isEditMode:!0,key:i,path:l}))))))};t._renderError=T;const _=(e,t)=>e.data&&e.data.errors?e.data.errors.map(T(t)):null;t._renderErrors=_;const C=e=>e.message?r.default.createElement("p",{style:g.warningStyles.messageContainer,"data-handle":"error"},e.message):null;t._renderErrorMessage=C;const O=e=>e.data&&e.data.message?r.default.createElement("p",{style:g.warningStyles.container,"data-handle":"errorMessage"},`${e.data.message}`):null;t._renderErrorDataMessage=O;const M=e=>{let t=e.error,a=e.conflicts,o=e.onRevalidateTrans,n=e.onResolveConflicts,l=e.disableRevalidateButton,s=e.disableDataContainer,i=e.emptyMessage;const u=!!l;return!(0,m.isObject)(t)||(0,m.isEmpty)(t)?r.default.createElement("div",{style:g.warningStyles.message},i):r.default.createElement("div",null,C(t),r.default.createElement("div",{style:g.warningStyles.revalidateContainer},O(t),r.default.createElement("button",{type:"button",disabled:u,style:{...d.button,...g.warningStyles.reValidateButton},onClick:o,"data-handle":"revalidate"},"Re-validate"),(0,h.isNonEmptyArray)(a)&&r.default.createElement("button",{type:"button",disabled:u,style:d.button,onClick:n,"data-handle":"resolve-conflicts"},"Resolve Transaction")),r.default.createElement("div",{style:g.default.warningsContainer},_(t,s),(e=>(0,h.isNonEmptyArray)(e)?r.default.createElement("div",null,r.default.createElement("table",{style:g.default.table},(0,p.renderHeader)(),(0,p.renderBody)(e))):null)(a)))};t._WarningsTab=M,M.defaultProps={disableDataContainer:!1,error:void 0,emptyMessage:"No warnings"},M.propTypes={disableDataContainer:o.default.bool,disableRevalidateButton:o.default.bool,conflicts:o.default.arrayOf(o.default.shape()),emptyMessage:o.default.string,error:o.default.shape({type:o.default.string,message:o.default.string,errors:o.default.arrayOf(o.default.shape({reason:o.default.string,paths:o.default.arrayOf(o.default.string)}))}),onRevalidateTrans:o.default.func,onResolveConflicts:o.default.func};var P=M;t.default=P},66351:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(a(67294)),o=u(a(45697)),n=u(a(49205)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}(a(72377)),s=a(12780),i=u(a(96429));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}const c=e=>{let t=e.commitInProgress,a=e.enableCommit,o=e.onCommit,d=e.shouldShowDone;return r.default.createElement("div",{style:i.default.wrapper},r.default.createElement("button",{type:"button",disabled:!a,style:a?l.button:l.buttonDisabled,onClick:o,"data-handle":"commitButton"},r.default.createElement("div",{style:i.default.label},(d||!t)&&r.default.createElement("div",null,d?(0,s.translate)(s.Messages.COMMITMANAGER.COMMIT_BUTTON_DONE):(0,s.translate)(s.Messages.COMMITMANAGER.COMMIT_BUTTON_COMMIT)),t&&r.default.createElement("div",{style:i.default.loader},r.default.createElement(n.default,{color:l.color3})))))};c.propTypes={commitInProgress:o.default.bool,shouldShowDone:o.default.bool,enableCommit:o.default.bool,onCommit:o.default.func.isRequired};var f=c;t.default=f},98427:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._DONE_MESSAGE_TIMEOUT=t._mapStateToProps=t._mapDispatchToProps=t._CommitButtonContainer=t.default=void 0;var r=c(a(67294)),o=a(36247),n=a(71447),l=c(a(45697)),s=a(5533),i=c(a(66351)),d=c(a(91297)),u=a(67042);function c(e){return e&&e.__esModule?e:{default:e}}t._DONE_MESSAGE_TIMEOUT=5e3;class f extends r.default.Component{constructor(e){super(e),this.toggleIgnoreWarnings=this.toggleIgnoreWarnings.bind(this),this.labelTimeout=null,this.state={shouldIgnoreWarnings:!1,shouldShowDone:!1,shouldShowDialog:!1}}componentDidUpdate(e){((e,t)=>!0===e.commitInProgress&&!t.commitInProgress)(e,this.props)&&(this.showDoneLabel(5e3),this.hideDialog())}componentWillUnmount(){clearTimeout(this.labelTimeout),this.labelTimeout=null}showDoneLabel(e){this.setState({shouldShowDone:!0}),this.labelTimeout=setTimeout((()=>{this.hideDoneLabel()}),e)}hideDoneLabel(){this.setState({shouldShowDone:!1})}showDialog(){this.setState({shouldShowDialog:!0})}hideDialog(){this.setState({shouldShowDialog:!1})}parseCommitFlags(){const e=this.props.commitOptions;let t=Object.keys(e).filter((t=>!!e[t]));return e["commit-queue"]||(t=t.filter((e=>!e.startsWith("commit-queue")))),t.map((t=>{const a=e[t];return"string"==typeof a?`${t}=${a}`:t}))}toggleIgnoreWarnings(){const e=this.state.shouldIgnoreWarnings;this.setState({shouldIgnoreWarnings:!e})}render(){const e=this.props,t=e.commitInProgress,a=e.emptyTransaction,o=e.thIsBusy,n=e.th,l=e.onCommit,s=e.validationStatus,u=this.state,c=u.shouldIgnoreWarnings,f=u.shouldShowDialog,p=Number.isFinite(n)&&!a&&!o&&!t,m=this.state.shouldShowDone,h=!t&&(!s||c);return r.default.createElement("div",null,r.default.createElement(i.default,{commitInProgress:t,shouldShowDone:m,enableCommit:p,onCommit:()=>this.showDialog()}),f&&r.default.createElement(d.default,{ignoreWarnings:c,onToggleIgnoreWarnings:this.toggleIgnoreWarnings,isOkToCommit:h,onCommit:()=>{this.hideDialog(),l(n,this.parseCommitFlags())},onCancel:()=>this.hideDialog(),validationStatus:s}))}}t._CommitButtonContainer=f,f.defaultProps={commitInProgress:void 0,commitOptions:{},emptyTransaction:void 0,thIsBusy:void 0,extraStyles:{},th:void 0},f.propTypes={commitInProgress:l.default.bool,commitOptions:u.CommitOptionsType,emptyTransaction:l.default.bool,thIsBusy:l.default.bool,onCommit:l.default.func,th:l.default.number,validationStatus:l.default.string};const p=e=>({commitInProgress:(0,s.selectCommitInProgress)(e),commitOptions:(0,s.selectCommitOptions)(e),emptyTransaction:(0,s.transactionIsEmpty)(e),thIsBusy:(0,s.selectThIsBusy)(e),th:(0,s.selectReadWrite)(e),validationStatus:(0,s.selectValidationStatus)(e)});t._mapStateToProps=p;const m=e=>({onCommit(t,a){e((0,n.validateAndCommit)({th:t,flags:a}))}});t._mapDispatchToProps=m;var h=(0,o.connect)(p,m)(f);t.default=h},96429:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={label:{width:"4rem"},loader:{transform:"scale(0.5)"}}},91297:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(a(67294)),o=u(a(45697)),n=u(a(49205)),l=u(a(54134)),s=u(a(48397)),i=u(a(46805)),d=u(a(8941));function u(e){return e&&e.__esModule?e:{default:e}}const c=e=>{let t=e.commitInProgress,a=e.isOkToCommit,o=e.ignoreWarnings,u=e.onCancel,c=e.onCommit,f=e.onToggleIgnoreWarnings,p=e.validationStatus;return r.default.createElement(l.default,{confirmTitle:"Yes, commit",onConfirm:c,onCancel:u,formIsValid:a},r.default.createElement("div",{style:s.default.header},"Commit changes to NSO?"),t||r.default.createElement(i.default,null),p&&r.default.createElement(d.default,{ignoreWarnings:o,onToggleIgnoreWarnings:f,validationStatus:p}),t&&r.default.createElement(n.default,null))};c.propTypes={commitInProgress:o.default.bool,ignoreWarnings:o.default.bool,isOkToCommit:o.default.bool,onCancel:o.default.func,onCommit:o.default.func.isRequired,onToggleIgnoreWarnings:o.default.func,validationStatus:o.default.string};var f=c;t.default=f},48397:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=n?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(r,l,s):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}(a(72377));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}var n={header:{fontSize:r.large1,textAlign:"center",marginBottom:"1rem"},editButton:{backgroundColor:"transparent",border:"none",marginLeft:"1rem",padding:"0",width:"1.5rem"},frame:{fontSize:r.medium1},topRow:{display:"flex",justifyContent:"space-Between",marginBottom:"1rem",fontSize:r.medium2},optionsBox:{backgroundColor:r.color11,padding:"0.5rem",border:`1px solid ${r.color7}`},row:{display:"flex",justifyContent:"space-Between",padding:"0.25rem 0"},inputWrapper:{width:"5.5rem"},name:{alignSelf:"center"},queueOptionsWrapper:{paddingLeft:"0.65rem",borderLeft:`1px solid ${r.color7}`,marginLeft:"0.35rem"},ignoreContainer:{fontSize:"0.75rem",marginBottom:"0.5rem",marginTop:"1rem"},ignoreDescription:{alignSelf:"center",fontSize:"0.875rem",marginBottom:"0.5rem"},ignoreLabel:{alignSelf:"center",cursor:"pointer",marginLeft:"0.5rem"}};t.default=n},24312:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}(a(67294)),o=d(a(45697)),n=d(a(48397)),l=d(a(56792)),s=d(a(20640)),i=d(a(39740));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const c=(e,t,a)=>e?`${t}`:`${t}: ${a}`,f=e=>{let t=e.isConfigMode,a=e.onSetCommmitOption,o=e.option;const d=o.formatOption,u=o.id,f=o.name,p=o.selectOptions,m=o.selectOptionsInfo,h=o.type,g=o.value,y=(0,r.useCallback)((e=>a(u,e)),[u,a]);if(t||g){if("checkbox"===h)return r.default.createElement("div",{"data-handle":u,style:n.default.row},r.default.createElement("div",{style:n.default.name},f),t&&r.default.createElement(l.default,{value:!!g,onSetValue:y}));if("select"===h)return r.default.createElement("div",{"data-handle":u,style:n.default.row},r.default.createElement("div",{style:n.default.name},c(t,f,g)),t&&r.default.createElement(i.default,{options:p,optionsInfo:m,formatOption:d,onSetValue:y,value:g}));if("input"===h)return r.default.createElement("div",{"data-handle":u,style:n.default.row,onKeyDown:e=>e.stopPropagation(),role:"none"},r.default.createElement("div",{style:n.default.name},c(t,f,g)),r.default.createElement("div",{style:n.default.inputWrapper},t&&r.default.createElement(s.default,{editable:!0,onSetValue:y,value:g})))}return null};f.propTypes={isConfigMode:o.default.bool,onSetCommmitOption:o.default.func,option:o.default.shape({formatOption:o.default.func,id:o.default.string,name:o.default.string,selectOptions:o.default.arrayOf(o.default.string),selectOptionsInfo:o.default.arrayOf(o.default.string),type:o.default.string,value:o.default.oneOfType([o.default.bool,o.default.string])})};var p=f;t.default=p},30279:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.COMMIT_QUEUE_OPTION_CONSTANTS=t.COMMIT_OPTION_CONSTANTS=void 0,t.COMMIT_OPTION_CONSTANTS=[{id:"no-revision-drop",name:"No revision drop",type:"checkbox"},{id:"no-deploy",name:"No deploy",type:"checkbox"},{id:"no-networking",name:"No networking",type:"checkbox"},{id:"no-out-of-sync-check",name:"No out of sync check",type:"checkbox"},{id:"no-overwrite",name:"No overwrite",type:"checkbox"},{id:"use-lsa",name:"Use LSA",type:"checkbox"},{id:"no-lsa",name:"No LSA",type:"checkbox"},{id:"commit-queue",name:"Commit queue",type:"select",selectOptions:["","async","sync","bypass"]}],t.COMMIT_QUEUE_OPTION_CONSTANTS=[{id:"commit-queue-atomic",name:"Atomic",type:"select",selectOptions:["","true","false"]},{id:"commit-queue-block-others",name:"Block others",type:"checkbox"},{id:"commit-queue-lock",name:"Lock",type:"checkbox"},{id:"commit-queue-tag",name:"Tag",type:"input"},{id:"commit-queue-timeout",name:"Timeout",type:"input"},{id:"commit-queue-error-option",name:"Error option",type:"select",selectOptions:["","continue-on-error","rollback-on-error","stop-on-error"],selectOptionsInfo:["","continue","rollback","stop"],formatOption:(e,t)=>t}]},67042:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CommitOptionsType=void 0;var r=f(a(45697)),o=c(a(67294)),n=f(a(57488)),l=c(a(72377)),s=f(a(48397)),i=a(30279),d=f(a(24312));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const m=(e,t)=>e.map((e=>{const a=e.id;return{...e,value:t[a]}})),h=(e,t,a)=>e.map((e=>o.default.createElement(d.default,{key:e.id,isConfigMode:t,onSetCommmitOption:a,option:e}))),g=e=>{let t=e.commitOptionValues,a=e.onSetCommmitOption;const r=(b=(0,o.useState)(!1),E=2,function(e){if(Array.isArray(e))return e}(b)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,o,n=[],l=!0,s=!1;try{for(a=a.call(e);!(l=(r=a.next()).done)&&(n.push(r.value),!t||n.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{l||null==a.return||a.return()}finally{if(s)throw o}}return n}}(b,E)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p(e,t):void 0}}(b,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=r[0],u=r[1],c=t["commit-queue"],f=m(i.COMMIT_OPTION_CONSTANTS,t),g=m(i.COMMIT_QUEUE_OPTION_CONSTANTS,t),y=f.some((e=>e.value)),v=(0,o.useCallback)((()=>u((e=>!e))),[]);var b,E;return o.default.createElement("div",{style:s.default.frame},o.default.createElement("div",{style:s.default.topRow},o.default.createElement("div",{style:s.default.name},d||y?"Commit options:":"No commit options set"),o.default.createElement("button",{type:"button","data-handle":"penButton",onClick:v,style:s.default.editButton},o.default.createElement(n.default,{color:l.color1,active:d}))),(d||y)&&o.default.createElement("div",{style:s.default.optionsBox},h(f,d,a),c&&"bypass"!==c&&o.default.createElement("div",{style:s.default.queueOptionsWrapper},h(g,d,a))))};g.defaultProps={commitOptionValues:{},onSetCommmitOption:()=>null};const y=r.default.shape({"commit-queue-atomic":r.default.boolean,"commit-queue-block-others":r.default.boolean,"commit-queue":r.default.boolean,"commit-queue-error-option":r.default.string,"commit-queue-lock":r.default.boolean,"commit-queue-tag":r.default.string,"commit-queue-timeout":r.default.string,"no-deploy":r.default.boolean,"no-lsa":r.default.boolean,"no-networking":r.default.boolean,"no-out-of-sync-check":r.default.boolean,"no-overwrite":r.default.boolean,"no-revision-drop":r.default.boolean,"use-lsa":r.default.boolean});t.CommitOptionsType=y,g.propTypes={commitOptionValues:y,onSetCommmitOption:r.default.func};var v=g;t.default=v},46805:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t.default=void 0;var r,o=a(36247),n=a(71447),l=a(5533),s=(r=a(67042))&&r.__esModule?r:{default:r};const i=e=>({commitOptionValues:(0,l.selectCommitOptions)(e)});t._mapStateToProps=i;const d=e=>({onSetCommmitOption(t,a){e((0,n.setCommmitOptionsAction)(t,a))}});t._mapDispatchToProps=d;var u=(0,o.connect)(i,d)(s.default);t.default=u},49394:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=i(a(67294)),n=(r=a(45697))&&r.__esModule?r:{default:r},l=i(a(46435));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,o,n=[],l=!0,s=!1;try{for(a=a.call(e);!(l=(r=a.next()).done)&&(n.push(r.value),!t||n.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{l||null==a.return||a.return()}finally{if(s)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const c=(e,t,a)=>{const r=new Date(t).toLocaleTimeString();return"started"===e?`Commit started at ${r}`:"finished"===e?`Commit finished successfully at ${r} with rollback id ${a}`:"failed"===e?`Commit failed at ${r}`:null},f=5e3,p=e=>{let t=e.commitCompleteTime,a=e.commitFailTime,r=e.commitInProgress,n=e.commitStartTime,s=e.rollbackId;const i=d((0,o.useState)(null),2),u=i[0],p=i[1],m=d((0,o.useState)(null),2),h=m[0],g=m[1];return(0,o.useEffect)((()=>{if(r)p(c("started",n));else{if(a){p(null),g(c("failed",a));const e=setTimeout((()=>{g(null)}),f);return()=>clearTimeout(e)}if(t&&Date.now()-t<=f){p(c("finished",t,s));const e=setTimeout((()=>{p(null)}),f);return()=>clearTimeout(e)}p(null),g(null)}return()=>null}),[r,a,t,n,s]),o.default.createElement(o.default.Fragment,null,o.default.createElement(l.default,{message:u}),o.default.createElement(l.default,{message:h,type:l.BAR_TYPES.ALARM}))};p.propTypes={commitInProgress:n.default.bool,commitStartTime:n.default.number,commitFailTime:n.default.number,commitCompleteTime:n.default.number,rollbackId:n.default.number};var m=p;t.default=m},70061:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=a(36247),n=a(5533),l=(r=a(49394))&&r.__esModule?r:{default:r},s=(0,o.connect)((e=>({commitCompleteTime:(0,n.selectCommitCompleteTime)(e),commitFailTime:(0,n.selectCommitFailTime)(e),commitInProgress:(0,n.selectCommitInProgress)(e),commitStartTime:(0,n.selectCommitStartTime)(e),rollbackId:(0,n.selectRollbackId)(e)})),null)(l.default);t.default=s},8941:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(a(45697)),o=s(a(67294)),n=s(a(56792)),l=s(a(48397));function s(e){return e&&e.__esModule?e:{default:e}}const i=e=>{let t=e.ignoreWarnings,a=e.onToggleIgnoreWarnings,r=e.validationStatus;return o.default.createElement("div",{style:l.default.ignoreContainer},o.default.createElement("div",{style:l.default.ignoreDescription},`This transaction contains ${r}.`),o.default.createElement(n.default,{name:"ignore-commit-warnings",onSetValue:a,value:t},o.default.createElement("span",{style:l.default.ignoreLabel},`Ignore ${r}`)))};i.defaultProps={ignoreWarnings:void 0,onToggleIgnoreWarnings:()=>null,validationStatus:""},i.propTypes={ignoreWarnings:r.default.bool,onToggleIgnoreWarnings:r.default.func,validationStatus:r.default.string};var d=i;t.default=d},43033:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._getConfirmButtonTitle=t.default=void 0;var r=p(a(67294)),o=p(a(45697)),n=p(a(54134)),l=p(a(49205)),s=p(a(35707)),i=a(94030),d=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}(a(72377)),u=a(12780),c=p(a(32385));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}const m=(e,t)=>{const a=Array.isArray(e)&&e[t]&&e[t].confirmButtonTitle;return(0,i.isString)(a)?a:(0,u.translate)(u.Messages.MODAL.LOAD_BUTTON_TITLE)};t._getConfirmButtonTitle=m;const h=e=>{let t=e.activePageIndex,a=e.closeModal,o=e.enableModal,i=e.enableLoadButton,f=e.loadInProgress,p=e.onChangeTab,h=e.onLoad,g=e.openModal,y=e.showModal,v=e.pages;const b=f?r.default.createElement(l.default,{color:d.color3,extraStyle:c.default.loadingDots}):m(v,t);return r.default.createElement("div",{style:c.default.loadContainerStyle},r.default.createElement(n.default,{confirmTitle:b,title:(0,u.translate)(u.Messages.COMMITMANAGER.ROLLBACKBUTTON_DIALOG_TITLE),shouldRender:y,onConfirm:h,formIsValid:!!i,onCancel:a},r.default.createElement(s.default,{extraStyle:c.default.tabDeck,onChangeTab:p,tabs:v,defaultIndex:t})),r.default.createElement("button",{type:"button","data-handle":"show-load-save-modal-button",disabled:!o,style:d.button2,onClick:g},"Load/Save"))};h.propTypes={activePageIndex:o.default.number,closeModal:o.default.func,enableModal:o.default.bool,enableLoadButton:o.default.bool,loadInProgress:o.default.bool,onChangeTab:o.default.func,onLoad:o.default.func,openModal:o.default.func,pages:o.default.arrayOf(o.default.shape({name:o.default.string,page:o.default.element})),showModal:o.default.bool},h.defaultProps={activePageIndex:0};var g=h;t.default=g},36513:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._LoadButtonContainer=t._mapStateToProps=t.default=void 0;var r=m(a(67294)),o=a(36247),n=a(76836),l=m(a(45697)),s=a(5533),i=a(12780),d=m(a(43033)),u=m(a(33358)),c=m(a(79154)),f=m(a(63010)),p=m(a(95298));function m(e){return e&&e.__esModule?e:{default:e}}const h=(e,t)=>r.default.createElement(c.default,{registerLoad:e,setLoadButtonEnabled:t}),g=(e,t)=>r.default.createElement(u.default,{registerLoad:e,setLoadButtonEnabled:t}),y=(e,t)=>r.default.createElement(f.default,{registerLoad:e,setLoadButtonEnabled:t});class v extends r.default.Component{constructor(e){super(e),this.onChangeTab=this.onChangeTab.bind(this),this.onLoad=this.onLoad.bind(this),this.closeModal=this.closeModal.bind(this),this.openModal=this.openModal.bind(this),this.registerLoad=this.registerLoad.bind(this),this.setLoadButtonEnabled=this.setLoadButtonEnabled.bind(this),this.state={activePageIndex:0,doLoad:null,enableLoadButton:!0,showModal:!1}}onLoad(){const e=this.state.doLoad;if((0,n.isFunction)(e)){this.setLoadButtonEnabled(!1);const t=e();if(t.then)return t.then((e=>{e&&e.error||this.closeModal(),this.setLoadButtonEnabled(!0)}));this.closeModal(),this.setLoadButtonEnabled(!0)}return Promise.resolve()}onChangeTab(e){this.setState({activePageIndex:e})}setLoadButtonEnabled(e){this.setState({enableLoadButton:e})}closeModal(){this.setState({showModal:!1})}openModal(){this.setState({showModal:!0})}registerLoad(e){this.setState({doLoad:e})}buildPages(){var e,t;return this.pages||(this.pages=[{name:"rollbacks",page:(e=this.registerLoad,t=this.setLoadButtonEnabled,r.default.createElement(p.default,{registerLoad:e,setLoadButtonEnabled:t})),tab:"Rollbacks"},{name:"files",page:h(this.registerLoad,this.setLoadButtonEnabled),tab:"Files"},{name:"paste",page:g(this.registerLoad,this.setLoadButtonEnabled),tab:"Paste"},{confirmButtonTitle:(0,i.translate)(i.Messages.MODAL.OK_BUTTON_TITLE),name:"save",page:y(this.registerLoad,this.setLoadButtonEnabled),tab:"Save"}]),this.pages}render(){const e=this.props.loadInProgress,t=this.state,a=t.activePageIndex,o=t.enableLoadButton,n=t.showModal,l=this.buildPages(),s=!!o&&!e;return r.default.createElement(d.default,{activePageIndex:a,closeModal:this.closeModal,enableModal:!0,enableLoadButton:s,loadInProgress:e,onChangeTab:this.onChangeTab,onLoad:this.onLoad,openModal:this.openModal,pages:l,showModal:n})}}t._LoadButtonContainer=v,v.propTypes={loadInProgress:l.default.bool};const b=e=>({loadInProgress:(0,s.selectLoadInProgress)(e)});t._mapStateToProps=b;var E=(0,o.connect)(b,void 0)(v);t.default=E},1123:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(a(67294)),o=d(a(45697)),n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}(a(72377)),l=a(12780),s=d(a(32385));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}class u extends r.default.Component{constructor(e){super(e),this.onClick=this.onClick.bind(this)}onClick(){this.fi.click()}render(){const e=this.props,t=e.errorText,a=e.selectedFiles,o=e.onChange,i=e.previewText;return r.default.createElement("div",{style:s.default.container},r.default.createElement("div",{style:s.default.fileUpload},r.default.createElement("button",{type:"button","data-handle":"load-from-file-selector",onClick:this.onClick,style:n.button},(0,l.translate)(l.Messages.COMMITMANAGER.CHOOSE_FILE_BUTTON_TITLE)),r.default.createElement("input",{style:s.default.fileSelector,onChange:o,ref:e=>{this.fi=e},type:"file"})),(e=>!Array.isArray(e)||e.length<1?null:r.default.createElement("div",{"data-handle":"selected-files",style:s.default.selectedFilesStyle},e.map(((e,t)=>r.default.createElement("div",{key:`${t}`},e)))))(a),r.default.createElement("div",{style:s.default.previewTextAreaContainer},r.default.createElement("textarea",{disabled:!0,rows:"5",onChange:o,style:s.default.textAreaStyle,value:i})),t&&r.default.createElement("div",{"data-handle":"load-from-file-error-text",style:s.default.errorMessage},t))}}var c=u;t.default=c,u.propTypes={errorText:o.default.string,onChange:o.default.func,previewText:o.default.string,selectedFiles:o.default.arrayOf(o.default.string)}},79154:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._LoadFromFileContainer=t._mapStateToProps=t._mapDispatchToProps=t._hasFiles=t.MAX_PREVIEW_SIZE=t.default=void 0;var r=f(a(67294)),o=f(a(45697)),n=a(36247),l=a(76836),s=a(94030),i=a(12780),d=a(71447),u=a(5533),c=f(a(1123));function f(e){return e&&e.__esModule?e:{default:e}}const p=5242880;t.MAX_PREVIEW_SIZE=p;const m=e=>!!(Array.isArray(e)&&e.length>0);t._hasFiles=m;class h extends r.default.Component{constructor(e){super(e),this.doLoad=this.doLoad.bind(this),this.onChange=this.onChange.bind(this),this.files=[],this.state={error:void 0,previewText:"",files:void 0,format:"xml"}}componentDidMount(){const e=this.props,t=e.registerLoad,a=e.setLoadButtonEnabled;t(this.doLoad),a(!1)}onChange(e){const t=this.props.setLoadButtonEnabled;var a;this.fi=e.target,this.files=Array.prototype.slice.call(this.fi.files),this.setState({files:(a=this.files,m(a)?Array.prototype.map.call(a,(e=>e.name)):[])}),t(m(this.files)),this.updatePreview(this.files)}updatePreview(e){if(!m(e))return void this.setState({previewText:(0,i.translate)(i.Messages.COMMITMANAGER.PREVIEW_NO_ISSUES)});const t=e[0];if(t.size>p)return void this.setState({previewText:(0,i.translate)(i.Messages.COMMITMANAGER.PREVIEW_FILE_TO_BIG)});if(!(0,l.isFunction)(FileReader))return void this.setState({previewText:(0,i.translate)(i.Messages.COMMITMANAGER.PREVIEW_BROWSER_NOT_SUPPORTED)});const a=new FileReader;a.onload=()=>{this.setState({previewText:a.result})},a.onerror=()=>{this.setState({previewText:(0,i.translate)(i.Messages.COMMITMANAGER.PREVIEW_FAILED_TO_READ_FILE)})},a.readAsText(t)}doLoad(){const e=this.props.onLoadFile;return this.setState({loadFileError:null}),m(this.files)?new Promise(((e,t)=>{const a=new FileReader,r=this.files[0],o=(e=>{const t=/^(.*)\.(.*)$/.exec(e.name);return t&&t.length>2?t[2]:"txt"})(r);a.onload=()=>{e({result:a.result,extension:o})},a.onerror=e=>t(new Error(e)),a.readAsBinaryString(r)})).then((t=>e(t.result,t.extension))).catch((e=>(this.setState({loadFileError:e}),{error:e}))):Promise.resolve()}render(){const e=this.props.loadFromFileError,t=this.state,a=t.loadFileError,o=t.files,n=t.previewText;let l;return(e||a)&&(l=(0,s.isNonEmptyString)(e)?e:e&&e.data&&e.data.message?e.data.message:e&&e.data&&e.data.reason?e.data.reason:"An error occurred"),r.default.createElement(c.default,{onChange:this.onChange,previewText:n,selectedFiles:o,errorText:l})}}t._LoadFromFileContainer=h;const g=e=>({onLoadFile:(t,a)=>e((0,d.loadFile)({data:t,format:a}))});t._mapDispatchToProps=g,h.propTypes={loadFromFileError:o.default.oneOfType([o.default.string,o.default.shape({})]),onLoadFile:o.default.func.isRequired,registerLoad:o.default.func,setLoadButtonEnabled:o.default.func};const y=e=>({loadFromFileError:(0,u.selectLoadFromFileError)(e)});t._mapStateToProps=y;var v=(0,n.connect)(y,g)(h);t.default=v},64744:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(67294)),o=l(a(45697)),n=l(a(32385));function l(e){return e&&e.__esModule?e:{default:e}}const s=e=>{let t=e.errorText,a=e.onBlur,o=e.onChange,l=e.value;return r.default.createElement("div",{style:n.default.container},r.default.createElement("div",{style:n.default.plainContainer},r.default.createElement("div",{"data-handle":"transaction-data",style:n.default.textAreaContainer},r.default.createElement("textarea",{rows:"5",onBlur:a,onChange:o,placeholder:"Paste your transaction data here.",style:n.default.textAreaStyle,value:l}))),t&&r.default.createElement("div",{"data-handle":"load-from-text-error-message",style:n.default.errorMessage},t))};s.propTypes={errorText:o.default.string,onBlur:o.default.func.isRequired,onChange:o.default.func.isRequired,value:o.default.string};var i=s;t.default=i},33358:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._LoadFromPlainTextContainer=t._mapStateToProps=t._mapDispatchToProps=t.isValidString=t.isValidFormat=t.formatErrorMessage=t.shouldEnableLoadButton=t.default=void 0;var r=u(a(67294)),o=u(a(45697)),n=a(36247),l=a(94030),s=a(71447),i=a(5533),d=u(a(64744));function u(e){return e&&e.__esModule?e:{default:e}}const c=["json","xml"],f=e=>c.includes(e);t.isValidFormat=f;const p=e=>(0,l.isNonEmptyString)(e);t.isValidString=p;const m=(e,t)=>f(e)&&p(t);t.shouldEnableLoadButton=m;const h="Text is not valid JSON or XML.";t.formatErrorMessage=h;class g extends r.default.Component{constructor(e){super(e),this.onBlur=this.onBlur.bind(this),this.onChange=this.onChange.bind(this),this.doLoad=this.doLoad.bind(this),this.state={errorText:"",format:"",value:""}}componentDidMount(){const e=this.state,t=e.format,a=e.value,r=this.props,o=r.registerLoad,n=r.setLoadButtonEnabled;o(this.doLoad),n(m(t,a))}componentDidUpdate(e){const t=this.props.loadFromTextError,a=e.loadFromTextError;if(t&&t!==a){let e;e=(0,l.isNonEmptyString)(t)?t:t.data&&t.data.message?t.data.message:t.data&&t.data.reason?t.data.reason:"An error occurred",this.setState({errorText:e})}}onBlur(e){const t=e.target.value,a=function(e){return(0,l.isJson)(e)?"json":(0,l.isXml)(e)?"xml":""}(t),r=this.props.setLoadButtonEnabled,o=""!==a?"":h;this.setState({errorText:o,format:a,value:t}),r(!0),r(m(a,t))}onChange(e){const t=e.target.value;this.setState({value:t})}doLoad(){const e=this.props.onLoadText,t=this.state,a=t.format,r=t.value;return m(a,r)?e(r,a):Promise.resolve()}render(){const e=this.state,t=e.errorText,a=e.format,o=e.value;return r.default.createElement(d.default,{errorText:t,format:a,onBlur:this.onBlur,onChange:this.onChange,value:o})}}t._LoadFromPlainTextContainer=g;const y=e=>({onLoadText:(t,a)=>e((0,s.loadText)({data:t,format:a}))});t._mapDispatchToProps=y,g.propTypes={loadFromTextError:o.default.oneOfType([o.default.string,o.default.shape({})]),onLoadText:o.default.func.isRequired,registerLoad:o.default.func.isRequired,setLoadButtonEnabled:o.default.func.isRequired};const v=e=>({loadFromTextError:(0,i.selectLoadFromTextError)(e)});t._mapStateToProps=v;var b=(0,n.connect)(v,y)(g);t.default=b},32385:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=n?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(r,l,s):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}(a(72377));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}const n={display:"flex"};var l={checkboxContainer:{display:"flex",marginTop:"1rem"},container:{minHeight:"12rem",padding:"0.2rem",minWidth:"35rem"},errorMessage:{color:r.color5,fontSize:r.medium1,marginTop:"0.5rem",...r.fontLight},fileSelector:{display:"none"},fileUpload:{display:"flex",marginTop:"1rem"},loadingDots:{width:"0.3875rem",height:"0.3875rem",margin:"0 0.075rem"},plainContainer:{marginTop:"1rem"},loadContainerStyle:{position:"relative",alignSelf:"center",margin:"0 0.5rem",display:"flex"},selectedFilesStyle:{marginTop:"1rem",fontSize:r.medium2,...r.fontLight},tabDeck:{main:{height:"100%",padding:"1rem",overflow:"auto"}},textAreaContainer:n,previewTextAreaContainer:{...n,marginTop:"1rem"},generateFileButton:{...r.button,width:"7.5rem"},generateFileButtonDisabled:{...r.buttonDisabled,width:"7.5rem"},textAreaStyle:{fontFamily:r.font3,marginTop:"0.2rem",overflow:"auto",padding:"0.5rem",width:"100%"}};t.default=l},43382:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(a(67294)),o=c(a(45697)),n=c(a(54134)),l=c(a(36988)),s=a(12780),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}(a(72377)),d=c(a(17983));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}class f extends r.default.Component{constructor(e){super(e),this.openModal=this.openModal.bind(this),this.onConfirm=this.onConfirm.bind(this),this.closeModal=this.closeModal.bind(this),this.state={showModal:!1}}onConfirm(){const e=this.props,t=e.th;(0,e.onRevert)(t)}closeModal(){this.setState({showModal:!1})}openModal(){this.setState({showModal:!0})}render(){const e=this.props.enableRevert,t=this.state.showModal;return r.default.createElement("div",{style:d.default.container},r.default.createElement(n.default,{shouldRender:t,onConfirm:this.onConfirm,formIsValid:!0,onRequestClose:this.closeModal},r.default.createElement("div",{style:l.default.header},(0,s.translate)(s.Messages.COMMITMANAGER.REVERTBUTTON_CONFIRM_TITLE)),r.default.createElement("div",{style:l.default.bread},(0,s.translate)(s.Messages.COMMITMANAGER.REVERTBUTTON_CONFIRM_BODY))),r.default.createElement("button",{type:"button",disabled:!e,style:e?i.button2:i.button2Disabled,onClick:this.openModal,onMouseDown:this.showTooltip,onMouseUp:this.hideTooltip,onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip,"data-handle":"revert"},"Revert"))}}f.propTypes={enableRevert:o.default.bool,th:o.default.number,onRevert:o.default.func};var p=f;t.default=p},4500:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._mapStateToProps=t._mapDispatchToProps=t.default=void 0;var r,o=a(36247),n=a(71447),l=a(5533),s=(r=a(43382))&&r.__esModule?r:{default:r};const i=e=>{const t=(0,l.selectReadWrite)(e);return{enableRevert:void 0!==t&&!(0,l.selectThIsBusy)(e)&&!(0,l.transactionIsEmpty)(e),th:t}};t._mapStateToProps=i;const d=e=>({onRevert(t){e((0,n.deleteTransPending)(t))}});t._mapDispatchToProps=d;var u=(0,o.connect)(i,d)(s.default);t.default=u},17983:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={container:{alignSelf:"center"}}},63336:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(a(67294)),o=s(a(45697)),n=s(a(56792)),l=s(a(19327));function s(e){return e&&e.__esModule?e:{default:e}}const i=e=>{let t=e.rollbacks,a=e.onChangeKeypath,o=e.onSelective,s=e.selectItem,i=e.selective,d=e.selectedIndex;return r.default.createElement("div",null,r.default.createElement("div",{style:l.default.wrapper},((e,t,a)=>e.length>0?e.map(((e,o)=>((e,t,a,o)=>r.default.createElement("div",{key:`${e.date}-${e.filename}`,style:o===t?l.default.selectedRow:l.default.row,onClick:()=>{a(t,e)}},r.default.createElement("div",null,r.default.createElement("span",null,`id: ${e.rollback_nr} - ${e.date} - ${e.creator} / ${e.via}`))))(e,o,a,t))):r.default.createElement("div",null,"No rollbacks found"))(t,d,s)),r.default.createElement("div",{key:"rollback-keypath",style:l.default.keypathWrapper},r.default.createElement("div",{style:l.default.keypath},r.default.createElement("div",null,"Keypath:"),r.default.createElement("div",null,r.default.createElement("input",{type:"text",placeholder:"Keypath",onChange:a}))),-1!==d&&r.default.createElement("div",{style:l.default.selectiveWrapper},r.default.createElement(n.default,{onSetValue:o,value:i,styleName:"listStyles"},r.default.createElement("span",{style:l.default.checkboxSpan},"Selective")))),r.default.createElement("div",{style:-1!==d?l.default.rollbackList:l.default.rollbackList.hidden},r.default.createElement("pre",null,((e,t)=>-1!==e&&e<t.length?t[e].rollback:"")(d,t))))};i.propTypes={onChangeKeypath:o.default.func,onSelective:o.default.func,selectItem:o.default.func,selective:o.default.bool,selectedIndex:o.default.number,rollbacks:o.default.arrayOf(o.default.shape({comment:o.default.string,creator:o.default.string,date:o.default.string,filename:o.default.string,label:o.default.string,nr:o.default.number,via:o.default.string}))};var d=i;t.default=d},95298:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._RollbackContainer=t._mapStateToProps=t._mapDispatchToProps=t.default=void 0;var r=d(a(67294)),o=a(36247),n=d(a(45697)),l=a(5533),s=a(71447),i=d(a(63336));function d(e){return e&&e.__esModule?e:{default:e}}class u extends r.default.Component{constructor(e){super(e),this.doLoad=this.doLoad.bind(this),this.selectItem=this.selectItem.bind(this),this.onSelective=this.onSelective.bind(this),this.onChangeKeypath=this.onChangeKeypath.bind(this),this.state={selectedIndex:-1,selective:!1,keypath:""}}UNSAFE_componentWillMount(){const e=this.props,t=e.onRollbacks,a=e.registerLoad,r=e.setLoadButtonEnabled,o=this.state.selectedIndex;t(),a(this.doLoad),r(-1!==o)}onChangeKeypath(e){const t=e.target.value;this.setState({keypath:t})}onSelective(e){this.setState({selective:e})}doLoad(){const e=this.state,t=e.keypath,a=e.selectedIndex,r=e.selective,o=this.props;return(0,o.onLoadRollback)(o.rollbacks[a].nr,t||void 0,r||void 0)}selectItem(e){const t=this.props,a=t.onReadRollback,r=t.rollbacks,o=t.setLoadButtonEnabled,n=this.state.selectedIndex!==e?e:-1;this.setState({selectedIndex:n}),-1!==n&&"string"!=typeof r[n].rollback&&a(r[n].nr),o(-1!==n)}render(){const e=this.props.rollbacks,t=this.state,a=t.selective,o=t.selectedIndex;return r.default.createElement(i.default,{onChangeKeypath:this.onChangeKeypath,rollbacks:e,onSelective:this.onSelective,selectItem:this.selectItem,selective:a,selectedIndex:o})}}t._RollbackContainer=u,u.propTypes={onRollbacks:n.default.func,onLoadRollback:n.default.func,onReadRollback:n.default.func,registerLoad:n.default.func,setLoadButtonEnabled:n.default.func,rollbacks:n.default.arrayOf(n.default.shape({comment:n.default.string,creator:n.default.string,date:n.default.string,filename:n.default.string,label:n.default.string,nr:n.default.number,rollback:n.default.string,via:n.default.string}))};const c=e=>({rollbacks:(0,l.selectRollbacks)(e)||[]});t._mapStateToProps=c;const f=e=>({onRollbacks(){e((0,s.getRollbacks)())},onLoadRollback:(t,a,r)=>e((0,s.loadRollback)({nr:t,keypath:a,selective:r})),onReadRollback(t){e((0,s.readRollback)(t))}});t._mapDispatchToProps=f;var p=(0,o.connect)(c,f)(u);t.default=p},19327:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=n?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(r,l,s):r[l]=e[l]}return r.default=e,a&&a.set(e,r),r}(a(72377));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}const n={color:"rgb(51, 121, 173)",fontSize:r.medium2,cursor:"pointer",padding:"0.4rem"},l={overflow:"auto",fontFamily:r.font3,fontWeight:"normal",width:"35rem"};var s={rollbackButtonContainer:{position:"relative"},rollback:{backgroundColor:"transparent",border:"none",width:"1.8rem",cursor:"pointer",padding:"0"},keypathWrapper:{height:"4rem",overflow:"auto"},rollbackList:{...l,height:"15rem",hidden:{...l,height:"0rem"}},checkboxSpan:{height:"0.8rem",fontSize:"0.8rem",color:"rgb(51, 51, 51)",margin:"0.5rem 0.4rem 0.4rem",display:"inline-block"},keypath:{display:"none",padding:"0.5rem",lineHeight:"1.3rem"},wrapper:{padding:"0.2rem",height:"8rem",overflow:"auto",width:"35rem"},selectiveWrapper:{padding:"0.8rem",display:"flex"},selectedRow:{...n,backgroundColor:r.color11},row:{...n}};t.default=s},29962:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(a(67294)),o=c(a(45697)),n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=o?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}(a(72377)),l=c(a(49205)),s=a(12780),i=c(a(32385)),d=c(a(96429));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}const f=e=>{let t=e.disableFileSelector,a=e.errorText,o=e.onGenerateFile,u=e.saving;const c=t?i.default.generateFileButtonDisabled:i.default.generateFileButton,f=u?r.default.createElement("div",{style:d.default.loader},r.default.createElement(l.default,{color:n.color3})):(0,s.translate)(s.Messages.COMMITMANAGER.GENERATE_FILE_BUTTON_TITLE);return r.default.createElement("div",{style:i.default.container},r.default.createElement("div",{style:i.default.fileUpload},r.default.createElement("button",{type:"button","data-handle":"save-to-file-generator",onClick:o,style:c,disabled:!!t},f)),a&&r.default.createElement("div",{"data-handle":"save-to-file-error-text",style:i.default.errorMessage},a))};var p=f;t.default=p,f.propTypes={disableFileSelector:o.default.bool,errorText:o.default.string,onGenerateFile:o.default.func,saving:o.default.bool},f.defaultProps={disableFileSelector:!0,saving:!1}},63010:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._SaveToFileContainer=t._mapStateToProps=t._mapDispatchToProps=t.default=void 0;var r=f(a(67294)),o=f(a(45697)),n=a(36247),l=a(12780),s=a(63514),i=a(32538),d=a(71447),u=a(5533),c=f(a(29962));function f(e){return e&&e.__esModule?e:{default:e}}const p={json:"application/json",xml:"application/xml"},m=["json","xml"];class h extends r.default.Component{constructor(e){super(e),this.doSave=this.doSave.bind(this),this.onGenerateFile=this.onGenerateFile.bind(this),this.files=[],this.state={error:void 0,previewText:"",files:void 0,format:"xml",saving:!1}}componentDidMount(){const e=this.props,t=e.emptyTransaction,a=e.registerLoad,r=e.setLoadButtonEnabled;a(this.doSave),r(!t)}componentDidUpdate(e){const t=this.props,a=t.emptyTransaction,r=t.setLoadButtonEnabled;a!==e.emptyTransaction&&r(!a)}onGenerateFile(){const e=this.props,t=e.emptyTransaction,a=e.onSaveFile,r=e.validTrans;return t||!r?Promise.resolve():this.setAsyncState({saving:!0}).then((()=>a("xml"))).then((o="xml",e=>{const t=(0,i.ensureConfigNode)(e.result.local_node.data),a=(e=>Object.keys(p).includes(e)?p[e]:"text/plain")(o),r=(e=>m.includes(e)?e:"txt")(o),n=new Blob([t||""],{type:a}),l=((e,t,a)=>({filename:`transaction-diff.${a}`,href:URL.createObjectURL(t),timestamp:e}))(Date.now(),n,r);(0,s.outputToFile)(l)})).then((()=>this.setAsyncState({saving:!1})));var o}setAsyncState(e){return new Promise((t=>this.setState(e,(()=>t()))))}doSave(){return Promise.resolve()}render(){const e=this.props,t=e.emptyTransaction,a=e.saveToFileError,o=e.validTrans,n=this.state,s=n.loadFileError,i=n.previewText,d=n.data,u=n.saving,f=a||s?(0,l.translate)(l.Messages.COMMITMANAGER.LOAD_ERROR_MESSAGE):null,p=u||!o||!!t;return r.default.createElement(c.default,{disableFileSelector:p,onGenerateFile:this.onGenerateFile,previewText:i,selectedFiles:d,errorText:f,saving:u})}}t._SaveToFileContainer=h;const g=e=>({onSaveFile:(t,a)=>e((0,d.saveFile)(t,a))});t._mapDispatchToProps=g,h.propTypes={emptyTransaction:o.default.bool,onSaveFile:o.default.func.isRequired,registerLoad:o.default.func,saveToFileError:o.default.oneOfType([o.default.string,o.default.shape({})]),setLoadButtonEnabled:o.default.func,validTrans:o.default.bool},h.defaultProps={emptyTransaction:!0};const y=e=>({emptyTransaction:(0,u.transactionIsEmpty)(e),saveToFileError:(0,u.selectSaveToFileError)(e),validTrans:(0,u.selectValid)(e)});t._mapStateToProps=y;var v=(0,n.connect)(y,g)(h);t.default=v},52321:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDevicesOfQueueItem=t.getCommitQueue=void 0;var r=a(49562),o=a(14172),n=a(88439);t.getCommitQueue=(e,t,a,l,s)=>i=>i((0,r.getSchema)({path:n.PATH,params:{levels:-1,stop_on_list:!0},reload:!0})).then((()=>i((0,o.query)({selection:n.QUERY_SELECTION,path:n.PATH_QUEUE,sort:a,sortOrder:l,initialOffset:t,chunkSize:e,result_as:"string",xpathExpr:s,contextNode:n.PATH})))),t.getDevicesOfQueueItem=e=>t=>Promise.all((0,n.getQueueItemQueryParams)(e).map((e=>{let a=e.path,r=e.selection;return t((0,o.query)({selection:r,path:a}))})))},88439:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getQueueItemQueryParams=t.itemIdToPath=t.QUEUE_ITEM_DEVICE_LISTS_SELECTION=t.QUEUE_ITEM_DEVICE_LISTS=t.QUEUE_ITEM_FAILED=t.QUEUE_ITEM_COMPLETED=t.QUEUE_ITEM_TRANSIENT=t.QUEUE_ITEM_WAITING=t.QUEUE_ITEM_DEVICES=t.PATH_QUEUE=t.PATH=t.QUERY_SELECTION=void 0,t.QUERY_SELECTION=["id","age","status","is-atomic"];const a="/ncs:devices/commit-queue";t.PATH=a;const r=`${a}/queue-item`;t.PATH_QUEUE=r;const o="devices";t.QUEUE_ITEM_DEVICES=o;const n="waiting-for";t.QUEUE_ITEM_WAITING=n;const l="transient-errors";t.QUEUE_ITEM_TRANSIENT=l;const s="completed";t.QUEUE_ITEM_COMPLETED=s;const i="failed";t.QUEUE_ITEM_FAILED=i;const d=[o,n,l,s,i];t.QUEUE_ITEM_DEVICE_LISTS=d;const u={[i]:["name"]};t.QUEUE_ITEM_DEVICE_LISTS_SELECTION=u;const c=e=>t=>({path:`/ncs:devices/commit-queue/queue-item{${e}}/${t}`,selection:u[t]});t.itemIdToPath=c,t.getQueueItemQueryParams=e=>d.map(c(e))},45930:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._determineState=t.selectQueueItemDevices=t.selectQueueItemIsLoading=t.getIdFromProps=t.selectTotalNumberOfCommitQueues=t.selectCommitQueueSortOrder=t.selectCommitQueueSortColumn=t.selectCommitQueueOffset=t.selectCommitQueueLoading=t.selectCommitQueueRows=void 0;var r=a(65050),o=a(97849),n=a(92252),l=a(88439);const s=(0,r.createNodeRowSelector)();t.selectCommitQueueRows=(e,t)=>s(e,{...t,path:l.PATH_QUEUE}),t.selectCommitQueueLoading=e=>(0,n.selectSchemaIsLoading)(e,l.PATH)||(0,r.selectLoading)(e,l.PATH_QUEUE),t.selectCommitQueueOffset=e=>(0,r.selectOffset)(e,l.PATH_QUEUE),t.selectCommitQueueSortColumn=e=>(0,r.selectSortColumn)(e,l.PATH_QUEUE),t.selectCommitQueueSortOrder=e=>(0,r.selectsortOrder)(e,l.PATH_QUEUE),t.selectTotalNumberOfCommitQueues=e=>(0,o.selectTotalNumberOfResults)(e,l.PATH_QUEUE);const i=e=>e.rowKey.replace(/[^0-9]/g,"");t.getIdFromProps=i,t.selectQueueItemIsLoading=(e,t)=>(0,l.getQueueItemQueryParams)(i(t)).reduce(((t,a)=>{let o=a.path;const n=(0,r.selectNode)(e,o);return t||void 0!==n.isLoading&&n.isLoading}),!1);const d=(e,t)=>t[l.QUEUE_ITEM_TRANSIENT].find((t=>e===t[0]))?"transient":t[l.QUEUE_ITEM_WAITING].find((t=>e===t[0]))?"wait":t[l.QUEUE_ITEM_COMPLETED].find((t=>e===t[0]))?"complete":t[l.QUEUE_ITEM_FAILED].find((t=>e===t.name))?"failed":"device";t._determineState=d,t.selectQueueItemDevices=(e,t)=>{const a=(0,l.getQueueItemQueryParams)(i(t)).map((t=>(0,r.selectRows)(e,t.path))),o=l.QUEUE_ITEM_DEVICE_LISTS.reduce(((e,t,r)=>({...e,[t]:a[r]})),{});return o[l.QUEUE_ITEM_DEVICES].map((e=>{const t=e[0];return{device:t,state:d(t,o)}}))}}}]);